/*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);
/*! Swipebox v1.4.4 | Constantin Saguin csag.co | MIT License | github.com/brutaldesign/swipebox */
!function(a,b,c,d){c.swipebox=function(e,f){var g,h,i={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,afterMedia:null,nextSlide:null,prevSlide:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:""},j=this,k=[],l=e.selector,m=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),n=null!==m||b.createTouch!==d||"ontouchstart"in a||"onmsgesturechange"in a||navigator.msMaxTouchPoints,o=!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p=a.innerWidth?a.innerWidth:c(a).width(),q=a.innerHeight?a.innerHeight:c(a).height(),r=0,s='<div id="swipebox-overlay">					<div id="swipebox-container">						<div id="swipebox-slider"></div>						<div id="swipebox-top-bar">							<div id="swipebox-title"></div>						</div>						<div id="swipebox-bottom-bar">							<div id="swipebox-arrows">								<a id="swipebox-prev"></a>								<a id="swipebox-next"></a>							</div>						</div>						<a id="swipebox-close"></a>					</div>			</div>';j.settings={},c.swipebox.close=function(){g.closeSlide()},c.swipebox.extend=function(){return g},j.init=function(){j.settings=c.extend({},i,f),c.isArray(e)?(k=e,g.target=c(a),g.init(j.settings.initialIndexOnArray)):c(b).on("click",l,function(a){if("slide current"===a.target.parentNode.className)return!1;c.isArray(e)||(g.destroy(),h=c(l),g.actions()),k=[];var b,d,f;f||(d="data-rel",f=c(this).attr(d)),f||(d="rel",f=c(this).attr(d)),h=f&&""!==f&&"nofollow"!==f?c(l).filter("["+d+'="'+f+'"]'):c(l),h.each(function(){var a=null,b=null;c(this).attr("title")&&(a=c(this).attr("title")),c(this).attr("href")&&(b=c(this).attr("href")),k.push({href:b,title:a})}),b=h.index(c(this)),a.preventDefault(),a.stopPropagation(),g.target=c(a.target),g.init(b)})},g={init:function(a){j.settings.beforeOpen&&j.settings.beforeOpen(),this.target.trigger("swipebox-start"),c.swipebox.isOpen=!0,this.build(),this.openSlide(a),this.openMedia(a),this.preloadMedia(a+1),this.preloadMedia(a-1),j.settings.afterOpen&&j.settings.afterOpen(a)},build:function(){var a,b=this;c("body").append(s),o&&j.settings.useSVG===!0&&(a=c("#swipebox-close").css("background-image"),a=a.replace("png","svg"),c("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":a})),m&&j.settings.removeBarsOnMobile&&c("#swipebox-bottom-bar, #swipebox-top-bar").remove(),c.each(k,function(){c("#swipebox-slider").append('<div class="slide"></div>')}),b.setDim(),b.actions(),n&&b.gesture(),b.keyboard(),b.animBars(),b.resize()},setDim:function(){var b,d,e={};"onorientationchange"in a?a.addEventListener("orientationchange",function(){0===a.orientation?(b=p,d=q):(90===a.orientation||-90===a.orientation)&&(b=q,d=p)},!1):(b=a.innerWidth?a.innerWidth:c(a).width(),d=a.innerHeight?a.innerHeight:c(a).height()),e={width:b,height:d},c("#swipebox-overlay").css(e)},resize:function(){var b=this;c(a).resize(function(){b.setDim()}).resize()},supportTransition:function(){var a,c="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(a=0;a<c.length;a++)if(b.createElement("div").style[c[a]]!==d)return c[a];return!1},doCssTrans:function(){return j.settings.useCSS&&this.supportTransition()?!0:void 0},gesture:function(){var a,b,d,e,f,g,h=this,i=!1,j=!1,l=10,m=50,n={},o={},q=c("#swipebox-top-bar, #swipebox-bottom-bar"),s=c("#swipebox-slider");q.addClass("visible-bars"),h.setTimeout(),c("body").bind("touchstart",function(h){return c(this).addClass("touching"),a=c("#swipebox-slider .slide").index(c("#swipebox-slider .slide.current")),o=h.originalEvent.targetTouches[0],n.pageX=h.originalEvent.targetTouches[0].pageX,n.pageY=h.originalEvent.targetTouches[0].pageY,c("#swipebox-slider").css({"-webkit-transform":"translate3d("+r+"%, 0, 0)",transform:"translate3d("+r+"%, 0, 0)"}),c(".touching").bind("touchmove",function(h){if(h.preventDefault(),h.stopPropagation(),o=h.originalEvent.targetTouches[0],!j&&(f=d,d=o.pageY-n.pageY,Math.abs(d)>=m||i)){var q=.75-Math.abs(d)/s.height();s.css({top:d+"px"}),s.css({opacity:q}),i=!0}e=b,b=o.pageX-n.pageX,g=100*b/p,!j&&!i&&Math.abs(b)>=l&&(c("#swipebox-slider").css({"-webkit-transition":"",transition:""}),j=!0),j&&(b>0?0===a?c("#swipebox-overlay").addClass("leftSpringTouch"):(c("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),c("#swipebox-slider").css({"-webkit-transform":"translate3d("+(r+g)+"%, 0, 0)",transform:"translate3d("+(r+g)+"%, 0, 0)"})):0>b&&(k.length===a+1?c("#swipebox-overlay").addClass("rightSpringTouch"):(c("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),c("#swipebox-slider").css({"-webkit-transform":"translate3d("+(r+g)+"%, 0, 0)",transform:"translate3d("+(r+g)+"%, 0, 0)"}))))}),!1}).bind("touchend",function(a){if(a.preventDefault(),a.stopPropagation(),c("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"}),d=o.pageY-n.pageY,b=o.pageX-n.pageX,g=100*b/p,i)if(i=!1,Math.abs(d)>=2*m&&Math.abs(d)>Math.abs(f)){var k=d>0?s.height():-s.height();s.animate({top:k+"px",opacity:0},300,function(){h.closeSlide()})}else s.animate({top:0,opacity:1},300);else j?(j=!1,b>=l&&b>=e?h.getPrev():-l>=b&&e>=b&&h.getNext()):q.hasClass("visible-bars")?(h.clearTimeout(),h.hideBars()):(h.showBars(),h.setTimeout());c("#swipebox-slider").css({"-webkit-transform":"translate3d("+r+"%, 0, 0)",transform:"translate3d("+r+"%, 0, 0)"}),c("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),c(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(j.settings.hideBarsDelay>0){var b=this;b.clearTimeout(),b.timeout=a.setTimeout(function(){b.hideBars()},j.settings.hideBarsDelay)}},clearTimeout:function(){a.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var a=c("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?a.addClass("visible-bars"):(c("#swipebox-top-bar").animate({top:0},500),c("#swipebox-bottom-bar").animate({bottom:0},500),setTimeout(function(){a.addClass("visible-bars")},1e3))},hideBars:function(){var a=c("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?a.removeClass("visible-bars"):(c("#swipebox-top-bar").animate({top:"-50px"},500),c("#swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout(function(){a.removeClass("visible-bars")},1e3))},animBars:function(){var a=this,b=c("#swipebox-top-bar, #swipebox-bottom-bar");b.addClass("visible-bars"),a.setTimeout(),c("#swipebox-slider").click(function(){b.hasClass("visible-bars")||(a.showBars(),a.setTimeout())}),c("#swipebox-bottom-bar").hover(function(){a.showBars(),b.addClass("visible-bars"),a.clearTimeout()},function(){j.settings.hideBarsDelay>0&&(b.removeClass("visible-bars"),a.setTimeout())})},keyboard:function(){var b=this;c(a).bind("keyup",function(a){a.preventDefault(),a.stopPropagation(),37===a.keyCode?b.getPrev():39===a.keyCode?b.getNext():27===a.keyCode&&b.closeSlide()})},actions:function(){var a=this,b="touchend click";k.length<2?(c("#swipebox-bottom-bar").hide(),d===k[1]&&c("#swipebox-top-bar").hide()):(c("#swipebox-prev").bind(b,function(b){b.preventDefault(),b.stopPropagation(),a.getPrev(),a.setTimeout()}),c("#swipebox-next").bind(b,function(b){b.preventDefault(),b.stopPropagation(),a.getNext(),a.setTimeout()})),c("#swipebox-close").bind(b,function(){a.closeSlide()})},setSlide:function(a,b){b=b||!1;var d=c("#swipebox-slider");r=100*-a,this.doCssTrans()?d.css({"-webkit-transform":"translate3d("+100*-a+"%, 0, 0)",transform:"translate3d("+100*-a+"%, 0, 0)"}):d.animate({left:100*-a+"%"}),c("#swipebox-slider .slide").removeClass("current"),c("#swipebox-slider .slide").eq(a).addClass("current"),this.setTitle(a),b&&d.fadeIn(),c("#swipebox-prev, #swipebox-next").removeClass("disabled"),0===a?c("#swipebox-prev").addClass("disabled"):a===k.length-1&&j.settings.loopAtEnd!==!0&&c("#swipebox-next").addClass("disabled")},openSlide:function(b){c("html").addClass("swipebox-html"),n?(c("html").addClass("swipebox-touch"),j.settings.hideCloseButtonOnMobile&&c("html").addClass("swipebox-no-close-button")):c("html").addClass("swipebox-no-touch"),c(a).trigger("resize"),this.setSlide(b,!0)},preloadMedia:function(a){var b=this,c=null;k[a]!==d&&(c=k[a].href),b.isVideo(c)?b.openMedia(a):setTimeout(function(){b.openMedia(a)},1e3)},openMedia:function(a){var b,e,f=this;return k[a]!==d&&(b=k[a].href),0>a||a>=k.length?!1:(e=c("#swipebox-slider .slide").eq(a),void(f.isVideo(b)?(e.html(f.getVideo(b)),j.settings.afterMedia&&j.settings.afterMedia(a)):(e.addClass("slide-loading"),f.loadMedia(b,function(){e.removeClass("slide-loading"),e.html(this),j.settings.afterMedia&&j.settings.afterMedia(a)}))))},setTitle:function(a){var b=null;c("#swipebox-title").empty(),k[a]!==d&&(b=k[a].title),b?(c("#swipebox-top-bar").show(),c("#swipebox-title").append(b)):c("#swipebox-top-bar").hide()},isVideo:function(a){if(a){if(a.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||a.match(/vimeo\.com\/([0-9]*)/)||a.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(a.toLowerCase().indexOf("swipeboxvideo=1")>=0)return!0}},parseUri:function(a,d){var e=b.createElement("a"),f={};return e.href=decodeURIComponent(a),e.search&&(f=JSON.parse('{"'+e.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')),c.isPlainObject(d)&&(f=c.extend(f,d,j.settings.queryStringData)),c.map(f,function(a,b){return a&&a>""?encodeURIComponent(b)+"="+encodeURIComponent(a):void 0}).join("&")},getVideo:function(a){var b="",c=a.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),d=a.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),e=a.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),f="";return c||d?(d&&(c=d),f=g.parseUri(a,{autoplay:j.settings.autoplayVideos?"1":"0",v:""}),b='<iframe width="560" height="315" src="//'+c[1]+"/embed/"+c[2]+"?"+f+'" frameborder="0" allowfullscreen></iframe>'):e?(f=g.parseUri(a,{autoplay:j.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:j.settings.vimeoColor}),b='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+e[1]+"?"+f+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):b='<iframe width="560" height="315" src="'+a+'" frameborder="0" allowfullscreen></iframe>','<div class="swipebox-video-container" style="max-width:'+j.settings.videoMaxWidth+'px"><div class="swipebox-video">'+b+"</div></div>"},loadMedia:function(a,b){if(0===a.trim().indexOf("#"))b.call(c("<div>",{"class":"swipebox-inline-container"}).append(c(a).clone().toggleClass(j.settings.toggleClassOnLoad)));else if(!this.isVideo(a)){var d=c("<img>").on("load",function(){b.call(d)});d.attr("src",a)}},getNext:function(){var a,b=this,d=c("#swipebox-slider .slide").index(c("#swipebox-slider .slide.current"));d+1<k.length?(a=c("#swipebox-slider .slide").eq(d).contents().find("iframe").attr("src"),c("#swipebox-slider .slide").eq(d).contents().find("iframe").attr("src",a),d++,b.setSlide(d),b.preloadMedia(d+1),j.settings.nextSlide&&j.settings.nextSlide(d)):j.settings.loopAtEnd===!0?(a=c("#swipebox-slider .slide").eq(d).contents().find("iframe").attr("src"),c("#swipebox-slider .slide").eq(d).contents().find("iframe").attr("src",a),d=0,b.preloadMedia(d),b.setSlide(d),b.preloadMedia(d+1),j.settings.nextSlide&&j.settings.nextSlide(d)):(c("#swipebox-overlay").addClass("rightSpring"),setTimeout(function(){c("#swipebox-overlay").removeClass("rightSpring")},500))},getPrev:function(){var a,b=c("#swipebox-slider .slide").index(c("#swipebox-slider .slide.current"));b>0?(a=c("#swipebox-slider .slide").eq(b).contents().find("iframe").attr("src"),c("#swipebox-slider .slide").eq(b).contents().find("iframe").attr("src",a),b--,this.setSlide(b),this.preloadMedia(b-1),j.settings.prevSlide&&j.settings.prevSlide(b)):(c("#swipebox-overlay").addClass("leftSpring"),setTimeout(function(){c("#swipebox-overlay").removeClass("leftSpring")},500))},nextSlide:function(a){},prevSlide:function(a){},closeSlide:function(){c("html").removeClass("swipebox-html"),c("html").removeClass("swipebox-touch"),c(a).trigger("resize"),this.destroy()},destroy:function(){c(a).unbind("keyup"),c("body").unbind("touchstart"),c("body").unbind("touchmove"),c("body").unbind("touchend"),c("#swipebox-slider").unbind(),c("#swipebox-overlay").remove(),c.isArray(e)||e.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),c.swipebox.isOpen=!1,j.settings.afterClose&&j.settings.afterClose()}},j.init()},c.fn.swipebox=function(a){if(!c.data(this,"_swipebox")){var b=new c.swipebox(this,a);this.data("_swipebox",b)}return this.data("_swipebox")}}(window,document,jQuery);
/*!
 * Infinite Scroll PACKAGED v3.0.4
 * Automatically add next page
 *
 * Licensed GPLv3 for open source use
 * or Infinite Scroll Commercial License for commercial use
 *
 * https://infinite-scroll.com
 * Copyright 2018 Metafizzy
 */
!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,l){function a(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,a){var h=l.data(a,i);if(!h)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var c=h[e];if(!c||"_"==e.charAt(0))return void s(r+" is not a valid method");var u=c.apply(h,n);o=void 0===o?u:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=l.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),l.data(n,i,o))})}l=l||e||t.jQuery,l&&(r.prototype.option||(r.prototype.option=function(t){l.isPlainObject(t)&&(this.options=l.extend(!0,this.options,t))}),l.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return a(this,t,e)}return h(this,t),this},n(l))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var r=i.toDashed(n),s="data-"+r,l=document.querySelectorAll("["+s+"]"),a=document.querySelectorAll(".js-"+r),h=i.makeArray(l).concat(i.makeArray(a)),c=s+"-options",u=t.jQuery;h.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(c);try{i=r&&JSON.parse(r)}catch(l){return void(o&&o.error("Error parsing "+s+" on "+t.className+": "+l))}var a=new e(t,i);u&&u.data(t,n,a)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("fizzy-ui-utils")):t.InfiniteScroll=e(t,t.EvEmitter,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){var s=i.getQueryElement(t);if(!s)return void console.error("Bad element for InfiniteScroll: "+(s||t));if(t=s,t.infiniteScrollGUID){var l=r[t.infiniteScrollGUID];return l.option(e),l}this.element=t,this.options=i.extend({},n.defaults),this.option(e),o&&(this.$element=o(this.element)),this.create()}var o=t.jQuery,r={};n.defaults={},n.create={},n.destroy={};var s=n.prototype;i.extend(s,e.prototype);var l=0;s.create=function(){var t=this.guid=++l;this.element.infiniteScrollGUID=t,r[t]=this,this.pageIndex=1,this.loadCount=0,this.updateGetPath();var e=this.getPath&&this.getPath();if(!e)return void console.error("Disabling InfiniteScroll");this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit();for(var i in n.create)n.create[i].call(this)},s.option=function(t){i.extend(this.options,t)},s.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},s.dispatchEvent=function(t,e,i){this.log(t,i);var n=e?[e].concat(i):i;if(this.emitEvent(t,n),o&&this.$element){t+=".infiniteScroll";var r=t;if(e){var s=o.Event(e);s.type=t,r=s}this.$element.trigger(r,i)}};var a={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,i){return i.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};s.log=function(t,e){if(this.options.debug){var i="[InfiniteScroll] "+t,n=a[t];n&&(i+=". "+n.apply(this,e)),console.log(i)}},s.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},s.updateScroller=function(){var e=this.options.elementScroll;if(!e)return void(this.scroller=t);if(this.scroller=e===!0?this.element:i.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e},s.updateGetPath=function(){var t=this.options.path;if(!t)return void console.error("InfiniteScroll path option required. Set as: "+t);var e=typeof t;if("function"==e)return void(this.getPath=t);var i="string"==e&&t.match("{{#}}");return i?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t)},s.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace("{{#}}","(\\d\\d?\\d?)"),i=new RegExp(e),n=location.href.match(i);n&&(this.pageIndex=parseInt(n[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var h=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return s.updateGetPathSelector=function(t){var e=document.querySelector(t);if(!e)return void console.error("Bad InfiniteScroll path option. Next link not found: "+t);for(var i,n,o=e.getAttribute("href"),r=0;o&&r<h.length;r++){n=h[r];var s=o.match(n);if(s){i=s.slice(1);break}}return i?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return i[0]+t+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+o)},s.updateGetAbsolutePath=function(){var t=this.getPath(),e=t.match(/^http/)||t.match(/^\//);if(e)return void(this.getAbsolutePath=this.getPath);var i=location.pathname,n=i.substring(0,i.lastIndexOf("/"));this.getAbsolutePath=function(){return n+"/"+this.getPath()}},n.create.hideNav=function(){var t=i.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},n.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},s.destroy=function(){this.allOff();for(var t in n.destroy)n.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete r[this.guid]},n.throttle=function(t,e){e=e||200;var i,n;return function(){var o=+new Date,r=arguments,s=function(){i=o,t.apply(this,r)}.bind(this);i&&o<i+e?(clearTimeout(n),n=setTimeout(s,e)):s()}},n.data=function(t){t=i.getQueryElement(t);var e=t&&t.infiniteScrollGUID;return e&&r[e]},n.setJQuery=function(t){o=t},i.htmlInit(n,"infinite-scroll"),o&&o.bridget&&o.bridget("infiniteScroll",n),n}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core")):e(t,t.InfiniteScroll)}(window,function(t,e){function i(t){for(var e=document.createDocumentFragment(),i=0;t&&i<t.length;i++)e.appendChild(t[i]);return e}function n(t){for(var e=t.querySelectorAll("script"),i=0;i<e.length;i++){var n=e[i],r=document.createElement("script");o(n,r),r.innerHTML=n.innerHTML,n.parentNode.replaceChild(r,n)}}function o(t,e){for(var i=t.attributes,n=0;n<i.length;n++){var o=i[n];e.setAttribute(o.name,o.value)}}function r(t,e,i,n){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e||"",o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){if(200==o.status)i(o.response);else{var t=new Error(o.statusText);n(t)}},o.onerror=function(){var e=new Error("Network error requesting "+t);n(e)},o.send()}var s=e.prototype;return e.defaults.loadOnScroll=!0,e.defaults.checkLastPage=!0,e.defaults.responseType="document",e.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},s.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},s.loadNextPage=function(){if(!this.isLoading&&this.canLoad){var t=this.getAbsolutePath();this.isLoading=!0;var e=function(e){this.onPageLoad(e,t)}.bind(this),i=function(e){this.onPageError(e,t)}.bind(this);r(t,this.options.responseType,e,i),this.dispatchEvent("request",null,[t])}},s.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},s.appendNextPage=function(t,e){var n=this.options.append,o="document"==this.options.responseType;if(o&&n){var r=t.querySelectorAll(n),s=i(r),l=function(){this.appendItems(r,s),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,r])}.bind(this);this.options.outlayer?this.appendOutlayerItems(s,l):l()}},s.appendItems=function(t,e){t&&t.length&&(e=e||i(t),n(e),this.element.appendChild(e))},s.appendOutlayerItems=function(i,n){var o=e.imagesLoaded||t.imagesLoaded;return o?void o(i,n):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},s.onAppendOutlayer=function(t,e,i){this.options.outlayer.appended(i)},s.checkLastPage=function(t,e){var i=this.options.checkLastPage;if(i){var n=this.options.path;if("function"==typeof n){var o=this.getPath();if(!o)return void this.lastPageReached(t,e)}var r;if("string"==typeof i?r=i:this.isPathSelector&&(r=n),r&&t.querySelector){var s=t.querySelector(r);s||this.lastPageReached(t,e)}}},s.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},s.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},e.create.prefill=function(){if(this.options.prefill){var t=this.options.append;if(!t)return void console.error("append option required for prefill. Set as :"+t);this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()}},s.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=t>=0,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},s.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},s.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold,e=t||0===t;e&&this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.pageScrollHandler),t[i]("resize",this.resizeHandler)},n.onPageScroll=e.throttle(function(){var t=this.getBottomDistance();t<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){var e=this.top+this.element.clientHeight,i=t.pageYOffset+this.windowHeight;return e-i},n.getElementBottomDistance=function(){var t=this.scroller.scrollHeight,e=this.scroller.scrollTop+this.scroller.clientHeight;return t-e},n.onResize=function(){this.updateMeasurements()},i.debounceMethod(e,"onResize",150),e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;e.defaults.history="replace";var o=document.createElement("a");return e.create.history=function(){if(this.options.history){o.href=this.getAbsolutePath();var t=o.origin||o.protocol+"//"+o.host,e=t==location.origin;return e?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")}},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.scrollHistoryHandler),t[i]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=n.destroyHistory=function(){var t=this.options.history&&this.options.append;t&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,i){if(i&&i.length){var n=i[0],r=this.getElementScrollY(n);o.href=e,this.scrollPages.push({top:r,path:o.href,title:t.title})}},n.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},n.getElementWindowScrollY=function(e){var i=e.getBoundingClientRect();return i.top+t.pageYOffset},n.getElementElementScrollY=function(t){return t.offsetTop-this.top},n.onScrollHistory=function(){for(var t,e,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;t=n,e=o}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},i.debounceMethod(e,"onScrollHistory",150),n.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},n.setHistory=function(t,e){var i=this.options.history,n=i&&history[i+"State"];n&&(history[i+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var e=this.scrollPageIndex;if(0!==e){var i=this.scrollPages[e],n=t.pageYOffset-i.top+this.top;this.destroyHistory(),scrollTo(0,n)}},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=i.getQueryElement(this.options.button);if(t)return void(this.button=new n(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=n,e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){r(t,"none")}function o(t){r(t,"block")}function r(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=i.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){o(this.statusElement),this.hideStatusEventElements();var e=this.statusEventElements[t];o(e)},s.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements){var e=this.statusEventElements[t];n(e)}},e}),function(t,e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}(window,function(t){return t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){if(Array.isArray(t))return t;var e="object"==typeof t&&"number"==typeof t.length;return e?h.call(t):[t]}function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);var s=t;return"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||t))}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var l=t.jQuery,a=t.console,h=Array.prototype.slice;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(l=e,l.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(l(this))})},o.makeJQueryPlugin(),o});
(function($){var parse_str=function(name,str){var regex=new RegExp('[?&]'+name.replace(/[\[\]]/g,'\\$&')+'(=([^&#]*)|&|#|$)'),results=regex.exec('&'+str);return(!results||!results[2]?'':decodeURIComponent(results[2].replace(/\+/g,' ')));}
var observe_script_dom=(function(){var MutationObserver=window.MutationObserver||window.WebKitMutationObserver,eventListenerSupported=window.addEventListener;return function(obj,only_added,callback){if(MutationObserver){var obs=new MutationObserver(function(mutations,observer){if(only_added){if(mutations[0].addedNodes.length)
callback();}else{if(mutations[0].addedNodes.length||mutations[0].removedNodes.length)
callback();}});obs.observe(obj,{childList:true,subtree:true});}else if(eventListenerSupported){obj.addEventListener('DOMNodeInserted',callback,false);if(!only_added){obj.addEventListener('DOMNodeRemoved',callback,false);}}}})();$(document).on('ready'+rlArgs.customEvents,function(){var containers=[];$('.rl-gallery-container').each(function(){var container=$(this);if(container.hasClass('rl-pagination-infinite')){containers.push(container);}else{container.removeClass('rl-loading');}});if(containers.length>0){for(var i=0;i<containers.length;i++){var container=containers[i],gallery=container.find('.rl-gallery'),gallery_id=parseInt(container.data('gallery_id')),gallery_scroll_type=container.find('.rl-pagination-bottom').data('button'),gallery_button=typeof gallery_scroll_type!=='undefined'&&gallery_scroll_type==='manually';gallery.infiniteScroll({path:'.rl-gallery-container[data-gallery_id="'+gallery_id+'"] .rl-pagination-bottom .next',append:'.rl-gallery-container[data-gallery_id="'+gallery_id+'"] .rl-gallery-item'+(gallery.hasClass('rl-masonry-gallery')||gallery.hasClass('rl-basicmasonry-gallery')?'-no-append':''),status:false,hideNav:'.rl-gallery-container[data-gallery_id="'+gallery_id+'"] .rl-pagination-bottom',prefill:!gallery_button,loadOnScroll:true,scrollThreshold:gallery_button?false:0,button:gallery_button?'.rl-gallery-container[data-gallery_id="'+gallery_id+'"] .rl-load-more':false,debug:false,history:false,onInit:function(){if(container.hasClass('rl-pagination-infinite')&&gallery_button){container.removeClass('rl-loading');}
var _gallery_id=gallery_id;this.on('request',function(path){container.addClass('rl-loading');});this.on('append',function(response,path,items){container.removeClass('rl-loading');$.event.trigger({type:'doResponsiveLightbox',script:rlArgs.script,selector:rlArgs.selector,args:rlArgs,pagination_type:'infinite',gallery_id:_gallery_id,masonry:gallery.hasClass('rl-masonry-gallery')||gallery.hasClass('rl-basicmasonry-gallery'),infinite:{gallery:gallery,response:response,items:items}});});}});}}
$.event.trigger({type:'doResponsiveLightbox',script:rlArgs.script,selector:rlArgs.selector,args:rlArgs});});$(document).on('click','.rl-pagination a.page-numbers',function(e){var link=$(this),container=link.closest('.rl-gallery-container');if(container.hasClass('rl-pagination-ajax')){e.preventDefault();e.stopPropagation();var gallery_id=container.data('gallery_id');container.addClass('rl-loading');$.post(rlArgs.ajaxurl,{action:'rl-get-gallery-page-content',gallery_id:gallery_id,page:parse_str('rl_page',link.prop('href')),nonce:rlArgs.nonce}).done(function(response){container.replaceWith($(response).removeClass('rl-loading'));$.event.trigger({type:'doResponsiveLightbox',script:rlArgs.script,selector:rlArgs.selector,args:rlArgs,pagination_type:'ajax',gallery_id:gallery_id});}).fail(function(){container.removeClass('rl-loading');});return false;}});$(document).on('doResponsiveLightbox',function(event){if(typeof event.masonry!=='undefined'&&event.masonry===true){return false;}
var script=event.script,selector=event.selector,args=event.args;if(typeof script==='undefined'||typeof selector==='undefined'){return false;}
rl_view_image=function(script,url){$.event.trigger({type:'doLightboxViewImage',script:script,url:url});}
rl_hide_image=function(script,url){$.event.trigger({type:'doLightboxHideImage',script:script,url:url});}
setTimeout(function(){var flex=$('.flex-viewport');if(args.woocommerce_gallery==='1'&&flex.length){$('.zoomImg').css('cursor','pointer');$(document).on('click','.flex-active-slide .zoomImg',function(e){e.preventDefault();e.stopPropagation();flex.find('.flex-active-slide a[data-rel]').trigger('click');});}},10);switch(script){case'swipebox':var slide=$('#swipebox-overlay').find('.slide.current'),image_source='',allow_hide=false,close_executed=false;$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').swipebox({useCSS:(args.animation==='1'?true:false),useSVG:(args.useSVG==='1'?true:false),hideCloseButtonOnMobile:(args.hideCloseButtonOnMobile==='1'?true:false),removeBarsOnMobile:(args.removeBarsOnMobile==='1'?true:false),hideBarsDelay:(args.hideBars==='1'?parseInt(args.hideBarsDelay):0),videoMaxWidth:parseInt(args.videoMaxWidth),loopAtEnd:(args.loopAtEnd==='1'?true:false),afterOpen:function(){close_executed=false;slide=$('#swipebox-overlay').find('.slide.current');var image=slide.find('img').attr('src');if(typeof image!=='undefined'){image_source=image;rl_view_image(script,image_source);}else{image_source='';}
observe_script_dom(document.getElementById('swipebox-slider'),false,function(){if(image_source===''){var image=slide.find('img').attr('src');if(typeof image!=='undefined'){image_source=image;rl_view_image(script,image_source);}else{image_source='';}}});},nextSlide:function(){slide=$('#swipebox-overlay').find('.slide.current');var image=slide.find('img').attr('src');if(typeof image!=='undefined'){image_source=image;rl_view_image(script,image_source);}else{image_source='';}},prevSlide:function(){slide=$('#swipebox-overlay').find('.slide.current');var image=slide.find('img').attr('src');if(typeof image!=='undefined'){image_source=image;rl_view_image(script,image_source);}else{image_source='';}},afterClose:function(){close_executed=true;if(allow_hide){rl_hide_image(script,image_source);allow_hide=false;}}});$(window).on('resize',function(){if(!close_executed){allow_hide=true;}});break;case'prettyphoto':var view_disabled=false,last_image='';$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').each(function(){var el=$(this);el.attr('title',el.data('rl_caption'));el.find('img').attr('alt',el.data('rl_title'));});$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').prettyPhoto({hook:'data-rel',animation_speed:args.animationSpeed,slideshow:(args.slideshow==='1'?parseInt(args.slideshowDelay):false),autoplay_slideshow:(args.slideshowAutoplay==='1'?true:false),opacity:args.opacity,show_title:(args.showTitle==='1'?true:false),allow_resize:(args.allowResize==='1'?true:false),allow_expand:(args.allowExpand==='1'?true:false),default_width:parseInt(args.width),default_height:parseInt(args.height),counter_separator_label:args.separator,theme:args.theme,horizontal_padding:parseInt(args.horizontalPadding),hideflash:(args.hideFlash==='1'?true:false),wmode:args.wmode,autoplay:(args.videoAutoplay==='1'?true:false),modal:(args.modal==='1'?true:false),deeplinking:(args.deeplinking==='1'?true:false),overlay_gallery:(args.overlayGallery==='1'?true:false),keyboard_shortcuts:(args.keyboardShortcuts==='1'?true:false),social_tools:(args.social==='1'?'<div class="pp_social"><div class="twitter"><a href="//twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href='+location.href+'&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div></div>':''),ie6_fallback:true,changepicturecallback:function(){if(view_disabled){view_disabled=false;return;}
last_image=$('#pp_full_res').find('img').attr('src');rl_view_image(script,last_image);if(args.allowExpand==='1'){$('a.pp_expand').on('click',function(){view_disabled=true;});}},callback:function(){rl_hide_image(script,last_image);}});break;case'fancybox':var last_image='';$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').fancybox({modal:(args.modal==='1'?true:false),overlayShow:(args.showOverlay==='1'?true:false),showCloseButton:(args.showCloseButton==='1'?true:false),enableEscapeButton:(args.enableEscapeButton==='1'?true:false),hideOnOverlayClick:(args.hideOnOverlayClick==='1'?true:false),hideOnContentClick:(args.hideOnContentClick==='1'?true:false),cyclic:(args.cyclic==='1'?true:false),showNavArrows:(args.showNavArrows==='1'?true:false),autoScale:(args.autoScale==='1'?true:false),scrolling:args.scrolling,centerOnScroll:(args.centerOnScroll==='1'?true:false),opacity:(args.opacity==='1'?true:false),overlayOpacity:parseFloat(args.overlayOpacity/100),overlayColor:args.overlayColor,titleShow:(args.titleShow==='1'?true:false),titlePosition:args.titlePosition,transitionIn:args.transitions,transitionOut:args.transitions,easingIn:args.easings,easingOut:args.easings,speedIn:parseInt(args.speeds),speedOut:parseInt(args.speeds),changeSpeed:parseInt(args.changeSpeed),changeFade:parseInt(args.changeFade),padding:parseInt(args.padding),margin:parseInt(args.margin),width:parseInt(args.videoWidth),height:parseInt(args.videoHeight),onComplete:function(){last_image=$('#fancybox-content').find('img').attr('src');rl_view_image(script,last_image);},onClosed:function(){rl_hide_image(script,last_image);}});break;case'nivo':$.each($('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]'),function(){var attr=$(this).attr('data-rel');if(typeof attr==='undefined'||attr==false){attr=$(this).attr('rel');}
if(typeof attr!=='undefined'&&attr!==false){var match=attr.match(new RegExp(selector+'\\-(gallery\\-(?:[\\da-z]{1,4}))','ig'));if(match!==null){$(this).attr('data-lightbox-gallery',match[0]);}}});var observer_initialized=false,change_allowed=true,last_image='';$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').nivoLightbox({effect:args.effect,clickOverlayToClose:(args.clickOverlayToClose==='1'?true:false),keyboardNav:(args.keyboardNav==='1'?true:false),errorMessage:args.errorMessage,afterShowLightbox:function(lightbox){var content=$(lightbox)[0].find('.nivo-lightbox-content');if(!observer_initialized){observer_initialized=true;observe_script_dom(document.getElementsByClassName('nivo-lightbox-content')[0],true,function(){if(change_allowed){last_image=content.find('.nivo-lightbox-image img').attr('src');rl_view_image(script,last_image);change_allowed=false;}});}},afterHideLightbox:function(){change_allowed=true;rl_hide_image(script,last_image);},onPrev:function(element){change_allowed=false;last_image=element[0].attr('href');rl_view_image(script,last_image);},onNext:function(element){change_allowed=false;last_image=element[0].attr('href');rl_view_image(script,last_image);}});break;case'imagelightbox':var selectors=[],last_image='';$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').each(function(i,item){var attr=$(item).attr('data-rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);else{attr=$(item).attr('rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);}});if(selectors.length>0){selectors=$.unique(selectors);$(selectors).each(function(i,item){if(typeof event.pagination_type!=='undefined'){$('a[data-rel="'+item+'"], a[rel="'+item+'"]').each(function(){$(this).off('click.imageLightbox');});}
$('a[data-rel="'+item+'"], a[rel="'+item+'"]').imageLightbox({animationSpeed:parseInt(args.animationSpeed),preloadNext:(args.preloadNext==='1'?true:false),enableKeyboard:(args.enableKeyboard==='1'?true:false),quitOnEnd:(args.quitOnEnd==='1'?true:false),quitOnImgClick:(args.quitOnImageClick==='1'?true:false),quitOnDocClick:(args.quitOnDocumentClick==='1'?true:false),onLoadEnd:function(){last_image=$('#imagelightbox').attr('src');rl_view_image(script,last_image);},onEnd:function(){rl_hide_image(script,last_image);}});});}
break;case'tosrus':var selectors=[],last_image='';$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').each(function(i,item){var attr=$(item).attr('data-rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);else{attr=$(item).attr('rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);}});if(selectors.length>0){selectors=$.unique(selectors);$(selectors).each(function(i,item){if(typeof event.pagination_type!=='undefined'){$('body').find('.tosrus-'+item).remove();$('a[data-rel="'+item+'"], a[rel="'+item+'"]').each(function(){$(this).off('click.tos');});}
var tos=$('a[data-rel="'+item+'"], a[rel="'+item+'"]').tosrus({infinite:(args.infinite==='1'?true:false),autoplay:{play:(args.autoplay==='1'?true:false),pauseOnHover:(args.pauseOnHover==='1'?true:false),timeout:args.timeout},effect:args.effect,keys:{prev:(args.keys==='1'?true:false),next:(args.keys==='1'?true:false),close:(args.keys==='1'?true:false)},pagination:{add:(args.pagination==='1'?true:false),type:args.paginationType},show:false,buttons:true,caption:{add:true,attributes:["title"]},wrapper:{classes:'tosrus-'+item,onClick:args.closeOnClick==='1'?'close':'toggleUI'}});tos.bind('sliding.tos',function(event,number){last_image=$($(event.target).find('.tos-slider .tos-slide')[number]).find('img').attr('src');rl_view_image(script,last_image);});tos.bind('closing.tos',function(){rl_hide_image(script,last_image);});});}
break;case'featherlight':var selectors=[],last_image='';$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').each(function(i,item){var attr=$(item).attr('data-rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);else{attr=$(item).attr('rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);}});if(selectors.length>0){selectors=$.unique(selectors);$.extend($.featherlight.defaults,{openSpeed:parseInt(args.openSpeed),closeSpeed:parseInt(args.closeSpeed),closeOnClick:args.closeOnClick,closeOnEsc:(args.closeOnEsc==='1'?true:false),afterOpen:function(event){last_image=event.currentTarget.href;rl_view_image(script,last_image);},afterClose:function(){rl_hide_image(script,last_image);}});$(selectors).each(function(i,item){if(typeof event.pagination_type!=='undefined'){$('a[data-rel="'+item+'"], a[rel="'+item+'"]').each(function(){$(this).off('click.featherlight');});}
if(/-gallery-/.test(item)){$('a[data-rel="'+item+'"], a[rel="'+item+'"]').featherlightGallery({galleryFadeIn:parseInt(args.galleryFadeIn),galleryFadeOut:parseInt(args.galleryFadeOut),previousIcon:'&#10094;',nextIcon:'&#10095;'});}else if(/-video-/.test(item)){$('a[data-rel="'+item+'"], a[rel="'+item+'"]').featherlight();}else{$('a[data-rel="'+item+'"], a[rel="'+item+'"]').featherlight();}});}
break;case'magnific':var selectors=[],last_image='';$('a[rel*="'+selector+'"], a[data-rel*="'+selector+'"]').each(function(i,item){var attr=$(item).attr('data-rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);else{attr=$(item).attr('rel');if(typeof attr!=='undefined'&&attr!==false&&attr!=='norl')
selectors.push(attr);}});if(selectors.length>0){selectors=$.unique(selectors);$(selectors).each(function(i,item){var subselector=$('a[data-rel="'+item+'"], a[rel="'+item+'"]'),element=$(subselector[0]),media_type=element.data('magnific_type'),content_type=element.data('rl_content');if(typeof content_type!=='undefined'){media_type=content_type;}
if(typeof media_type==='undefined'){media_type='image';}
subselector.magnificPopup({type:media_type==='gallery'?'image':(media_type==='video'?'iframe':media_type),disableOn:args.disableOn,midClick:args.midClick==='1',preloader:args.preloader==='1',closeOnContentClick:args.closeOnContentClick==='1',closeOnBgClick:args.closeOnBgClick==='1',closeBtnInside:args.closeBtnInside==='1',showCloseBtn:args.showCloseBtn==='1',enableEscapeKey:args.enableEscapeKey==='1',alignTop:args.alignTop==='1',autoFocusLast:args.autoFocusLast==='1',fixedContentPos:args.fixedContentPos==='auto'?'auto':(args.fixedContentPos==='1'),fixedBgPos:args.fixedBgPos==='auto'?'auto':(args.fixedBgPos==='1'),image:{titleSrc:function(item){return item.el.attr('data-rl_title')+'<small>'+item.el.attr('data-rl_caption')+'</small>';}},gallery:{enabled:subselector.length>1&&media_type==='gallery',navigateByImgClick:true,preload:[0,1]},callbacks:{close:function(){rl_hide_image(script,this.currItem.src);},imageLoadComplete:function(){rl_view_image(script,this.currItem.src);}}});});}
break;}});})(jQuery);
var ajaxurl=GmediaGallery.ajaxurl;jQuery(function($){$('style.gmedia_assets_style_import').appendTo('head');$('style.gmedia_module_style_import').appendTo('head');$('script.gm_script2html').each(function(){var html=$(this).html();$(this).replaceWith(html);});setTimeout(function(){$('a[download]').off('click');},50);});

(function(factory) {
  'use strict';
  if (typeof define === 'function' && define.amd) {
    define(['jquery'], factory);
  } else if (typeof exports !== 'undefined') {
    module.exports = factory(require('jquery'));
  } else {
    factory(jQuery);
  }
})(function ($) {
  'namespace sumo';
  $.fn.SumoSelect = function (options) {
    /* This is the easiest way to have default options.*/
    var settings = $.extend({
      placeholder: 'Select Here',   /* Dont change it here.*/
      csvDispCount: 3,              /* display no. of items in multiselect. 0 to display all.*/
      captionFormat:'{0} Selected', /* format of caption text. you can set your locale.*/
      captionFormatAllSelected:'{0} all selected!', /* format of caption text when all elements are selected. set null to use captionFormat. It will not work if there are disabled elements in select.*/
      floatWidth: 400,              /* Screen width of device at which the list is rendered in floating popup fashion.*/
      forceCustomRendering: false,  /* force the custom modal on all devices below floatWidth resolution.*/
      nativeOnDevice: ['Android', 'BlackBerry', 'iPhone', 'iPad', 'iPod', 'Opera Mini', 'IEMobile', 'Silk'],
      outputAsCSV: false,           /* true to POST data as csv ( false for Html control array ie. default select )*/
      csvSepChar: ',',              /* separation char in csv mode*/
      okCancelInMulti: false,       /* display ok cancel buttons in desktop mode multiselect also.*/
      isClickAwayOk: false,         /* for okCancelInMulti=true. sets whether click outside will trigger Ok or Cancel (default is cancel).*/
      triggerChangeCombined: true,  /* im multi select mode whether to trigger change event on individual selection or combined selection.*/
      selectAll: false,             /* to display select all button in multiselect mode.|| also select all will not be available on mobile devices.*/
      search: false,                /* to display input for filtering content. selectAlltext will be input text placeholder*/
      searchText: 'Search...',      /* placeholder for search input*/
      noMatch: 'No matches for "{0}"',
      prefix: '',                   /* some prefix usually the field name. eg. '<b>Hello</b>'*/
      locale: ['OK', 'Cancel', 'Select All'],  /* all text that is used. don't change the index.*/
      up: false,                    /* set true to open upside.*/
      showTitle: true               /* set to false to prevent title (tooltip) from appearing*/
    }, options);
    var ret = this.each(function () {
      var selObj = this; /* the original select object.*/
      if (this.sumo || !$(this).is('select')) return; /* already initialized*/
      this.sumo = {
        E: $(selObj), /* the jquery object of original select element.*/
        is_multi: $(selObj).attr('multiple'),  /* if its a multiple select*/
        select: '',
        caption: '',
        placeholder: '',
        optDiv: '',
        CaptionCont: '',
        ul:'',
        is_floating: false,
        is_opened: false,
        /* backdrop: '', */
        mob:false, /* if to open device default select */
        Pstate: [],
        createElems: function () {
          var O = this;
          O.E.wrap('<div class="SumoSelect" tabindex="0" role="button" aria-expanded="false">');
          O.select = O.E.parent();
          O.caption = $('<span>');
          O.CaptionCont = $('<p class="CaptionCont SelectBox" ><label><i></i></label></p>')
            .attr('style', O.E.attr('style'))
            .prepend(O.caption);
          O.select.append(O.CaptionCont);
          /* default turn off if no multiselect */
          if(!O.is_multi)settings.okCancelInMulti = false
          if(O.E.attr('disabled'))
            O.select.addClass('disabled').removeAttr('tabindex');
          /* if output as csv and is a multiselect.*/
          if (settings.outputAsCSV && O.is_multi && O.E.attr('name')) {
            /* create a hidden field to store csv value.*/
            O.select.append($('<input class="HEMANT123" type="hidden" />').attr('name', O.E.attr('name')).val(O.getSelStr()));
            /* so it can not post the original select.*/
            O.E.removeAttr('name');
          }
          /* break for mobile rendring.. if forceCustomRendering is false*/
          if (O.isMobile() && !settings.forceCustomRendering) {
            O.setNativeMobile();
            return;
          }
          /* if there is a name attr in select add a class to container div*/
          if(O.E.attr('name')) O.select.addClass('sumo_'+O.E.attr('name').replace(/\[\]/, ''))
          /* hide original select */
          O.E.addClass('SumoUnder').attr('tabindex','-1');
          /* Creating the list... */
          O.optDiv = $('<div class="optWrapper '+ (settings.up?'up':'') +'">');
          /* branch for floating list in low res devices.*/
          O.floatingList();
          /* Creating the markup for the available options*/
          O.ul = $('<ul class="options">');
          O.optDiv.append(O.ul);
          /* Select all functionality*/
          if(settings.selectAll && O.is_multi) O.SelAll();
          /* search functionality*/
          if(settings.search) O.Search();
          O.ul.append(O.prepItems(O.E.children()));
          /* if multiple then add the class multiple and add OK / CANCEL button */
          if (O.is_multi) O.multiSelelect();
          O.select.append(O.optDiv);
          O.basicEvents();
          O.selAllState();
        },
        prepItems: function(opts, d){
          var lis = [], O=this;
          $(opts).each(function (i, opt) { /* parsing options to li */
            opt = $(opt);
            lis.push(opt.is('optgroup')?
              $('<li class="group '+ (opt[0].disabled?'disabled':'') +'"><label>' + opt.attr('label') +'</label><ul></ul></li>')
                .find('ul')
                .append(O.prepItems(opt.children(), opt[0].disabled))
                .end()
              :
              O.createLi(opt, d)
            );
          });
          return lis;
        },
        /* Creates a LI element from a given option and binds events to it*/
        /*returns the jquery instance of li (not inserted in dom)*/
        createLi: function (opt, d) {
          var O = this;
          if(!opt.attr('value'))opt.attr('value',opt.val());
          var li = $('<li class="opt"><label>' + opt.text() + '</label></li>');
          li.data('opt', opt); /* store a direct reference to option.*/
          opt.data('li', li); /* store a direct reference to list item.*/
          if (O.is_multi) li.prepend('<span><i></i></span>');
          if (opt[0].disabled || d)
            li = li.addClass('disabled');
          O.onOptClick(li);
          if (opt[0].selected)
            li.addClass('selected');
          if (opt.attr('class'))
            li.addClass(opt.attr('class'));
          if (opt.attr('title'))
            li.attr('title', opt.attr('title'));
          return li;
        },
        /* Returns the selected items as string in a Multiselect.*/
        getSelStr: function () {
          /* get the pre selected items.*/
          sopt = [];
          this.E.find('option:selected').each(function () { sopt.push($(this).val()); });
          return sopt.join(settings.csvSepChar);
        },
        /* THOSE OK/CANCEL BUTTONS ON MULTIPLE SELECT.*/
        multiSelelect: function () {
          var O = this;
          O.optDiv.addClass('multiple');
          O.okbtn = $('<p tabindex="0" class="btnOk">'+settings.locale[0]+'</p>').click(function () {
            /* if combined change event is set.*/
            O._okbtn();
            O.hideOpts();
          });
          O.cancelBtn = $('<p tabindex="0" class="btnCancel">'+settings.locale[1]+'</p>').click(function () {
            O._cnbtn();
            O.hideOpts();
          });
          var btns = O.okbtn.add(O.cancelBtn);
          O.optDiv.append($('<div class="MultiControls">').append(btns));
          /* handling keyboard navigation on ok cancel buttons. */
          btns.on('keydown.sumo', function (e) {
            var el = $(this);
            switch (e.which) {
              case 32: /* space */
              case 13: /* enter */
                el.trigger('click');
                break;
              case 9:  /* tab */
                if(el.hasClass('btnOk'))return;
              case 27: /* esc */
                O._cnbtn();
                O.hideOpts();
                return;
            }
            e.stopPropagation();
            e.preventDefault();
          });
        },
        _okbtn:function(){
          var O = this, cg = 0;
          /* if combined change event is set. */
          if (settings.triggerChangeCombined) {
            /* check for a change in the selection. */
            if (O.E.find('option:selected').length != O.Pstate.length) {
              cg = 1;
            }
            else {
              O.E.find('option').each(function (i,e) {
                if(e.selected && O.Pstate.indexOf(i) < 0) cg = 1;
              });
            }
            if (cg) {
              O.callChange();
              O.setText();
            }
          }
        },
        _cnbtn:function(){
          var O = this;
          /* remove all selections */
          O.E.find('option:selected').each(function () { this.selected = false; });
          O.optDiv.find('li.selected').removeClass('selected')
          /* restore selections from saved state. */
          for(var i = 0; i < O.Pstate.length; i++) {
            O.E.find('option')[O.Pstate[i]].selected = true;
            O.ul.find('li.opt').eq(O.Pstate[i]).addClass('selected');
          }
          O.selAllState();
        },
        SelAll:function(){
          var O = this;
          if(!O.is_multi)return;
          O.selAll = $('<p class="select-all"><span><i></i></span><label>' + settings.locale[2] + '</label></p>');
          O.optDiv.addClass('selall');
          O.selAll.on('click',function(){
            O.selAll.toggleClass('selected');
            O.toggSelAll(O.selAll.hasClass('selected'), 1);
          });
          O.optDiv.prepend(O.selAll);
        },
        /* search module (can be removed if not required.) */
        Search: function(){
          var O = this,
            cc = O.CaptionCont.addClass('search'),
            P = $('<p class="no-match">');
          O.ftxt = $('<input type="text" class="search-txt" value="" placeholder="' + settings.searchText + '">')
            .on('click', function(e){
              e.stopPropagation();
            });
          cc.append(O.ftxt);
          O.optDiv.children('ul').after(P);
          O.ftxt.on('keyup.sumo',function(){
            var hid = O.optDiv.find('ul.options li.opt').each(function(ix,e){
              var e = $(e),
                opt = e.data('opt')[0];
              opt.hidden = e.text().toLowerCase().indexOf(O.ftxt.val().toLowerCase()) < 0;
              e.toggleClass('hidden', opt.hidden);
            }).not('.hidden');
            P.html(settings.noMatch.replace(/\{0\}/g, '<em></em>')).toggle(!hid.length);
            P.find('em').text(O.ftxt.val());
            O.selAllState();
          });
        },
        selAllState: function () {
          var O = this;
          if (settings.selectAll && O.is_multi) {
            var sc = 0, vc = 0;
            O.optDiv.find('li.opt').not('.hidden').each(function (ix, e) {
              if ($(e).hasClass('selected')) sc++;
              if (!$(e).hasClass('disabled')) vc++;
            });
            /* select all checkbox state change. */
            if (sc == vc) O.selAll.removeClass('partial').addClass('selected');
            else if (sc == 0) O.selAll.removeClass('selected partial');
            else O.selAll.addClass('partial') /* .removeClass('selected'); */
          }
        },
        showOpts: function () {
          var O = this;
          if (O.E.attr('disabled')) return; /* if select is disabled then retrun */
          O.E.trigger('sumo:opening', O);
          O.is_opened = true;
          O.select.addClass('open').attr('aria-expanded', 'true');
          O.E.trigger('sumo:opened', O);
          if(O.ftxt)O.ftxt.focus();
          else O.select.focus();
          /* hide options on click outside.*/
          $(document).on('click.sumo', function (e) {
            if (!O.select.is(e.target)                  /* if the target of the click isn't the container... */
              && O.select.has(e.target).length === 0){ /* ... nor a descendant of the container */
              if(!O.is_opened)return;
              O.hideOpts();
              if (settings.okCancelInMulti){
                if(settings.isClickAwayOk)
                  O._okbtn();
                else
                  O._cnbtn();
              }
            }
          });
          if (O.is_floating) {
            H = O.optDiv.children('ul').outerHeight() + 2;  /* +2 is clear fix*/
            if (O.is_multi) H = H + parseInt(O.optDiv.css('padding-bottom'));
            O.optDiv.css('height', H);
            $('body').addClass('sumoStopScroll');
          }
          O.setPstate();
        },
        /* maintain state when ok/cancel buttons are available storing the indexes. */
        setPstate: function(){
          var O = this;
          if (O.is_multi && (O.is_floating || settings.okCancelInMulti)){
            O.Pstate = [];
            /* assuming that find returns elements in tree order */
            O.E.find('option').each(function (i, e){if(e.selected) O.Pstate.push(i);});
          }
        },
        callChange:function(){
          this.E.trigger('change').trigger('click');
        },
        hideOpts: function () {
          var O = this;
          if(O.is_opened){
            O.E.trigger('sumo:closing', O);
            O.is_opened = false;
            O.select.removeClass('open').attr('aria-expanded', 'true').find('ul li.sel').removeClass('sel');
            O.E.trigger('sumo:closed', O);
            $(document).off('click.sumo');
            O.select.focus();
            $('body').removeClass('sumoStopScroll');
            /* clear the search */
            if(settings.search){
              O.ftxt.val('');
              O.ftxt.trigger('keyup.sumo');
            }
          }
        },
        setOnOpen: function () {
          var O = this,
            li = O.optDiv.find('li.opt:not(.hidden)').eq(settings.search?0:O.E[0].selectedIndex);
          if(li.hasClass('disabled')){
            li = li.next(':not(disabled)')
            if(!li.length) return;
          }
          O.optDiv.find('li.sel').removeClass('sel');
          li.addClass('sel');
          O.showOpts();
        },
        nav: function (up) {
          var O = this, c,
            s=O.ul.find('li.opt:not(.disabled, .hidden)'),
            sel = O.ul.find('li.opt.sel:not(.hidden)'),
            idx = s.index(sel);
          if (O.is_opened && sel.length) {
            if (up && idx > 0)
              c = s.eq(idx-1);
            else if(!up && idx < s.length-1 && idx > -1)
              c = s.eq(idx+1);
            else return; /* if no items before or after*/
            sel.removeClass('sel');
            sel = c.addClass('sel');
            /* setting sel item to visible view. */
            var ul = O.ul,
              st = ul.scrollTop(),
              t = sel.position().top + st;
            if(t >= st + ul.height()-sel.outerHeight())
              ul.scrollTop(t - ul.height() + sel.outerHeight());
            if(t<st)
              ul.scrollTop(t);
          }
          else
            O.setOnOpen();
        },
        basicEvents: function () {
          var O = this;
          O.CaptionCont.click(function (evt) {
            O.E.trigger('click');
            if (O.is_opened) O.hideOpts(); else O.showOpts();
            evt.stopPropagation();
          });
          O.select.on('keydown.sumo', function (e) {
            switch (e.which) {
              case 38: /* up */
                O.nav(true);
                break;
              case 40: /* down */
                O.nav(false);
                break;
              case 65: /* shortcut ctrl + a to select all and ctrl + shift + a to unselect all.*/
                if (O.is_multi && e.ctrlKey){
                  O.toggSelAll(!e.shiftKey, 1);
                  break;
                }
                else
                  return;
              case 32: /* space*/
                if(settings.search && O.ftxt.is(e.target))return;
              case 13: /* enter*/
                if (O.is_opened)
                  O.optDiv.find('ul li.sel').trigger('click');
                else
                  O.setOnOpen();
                break;
              case 9:	 /* tab*/
                if(!settings.okCancelInMulti)
                  O.hideOpts();
                return;
              case 27: /* esc*/
                if(settings.okCancelInMulti)O._cnbtn();
                O.hideOpts();
                return;
              default:
                return; /* exit this handler for other keys */
            }
            e.preventDefault(); /* prevent the default action (scroll / move caret) */
          });
          $(window).on('resize.sumo', function () {
            O.floatingList();
          });
        },
        onOptClick: function (li) {
          var O = this;
          li.click(function () {
            var li = $(this);
            if(li.hasClass('disabled'))return;
            var txt = "";
            if (O.is_multi) {
              li.toggleClass('selected');
              li.data('opt')[0].selected = li.hasClass('selected');
              O.selAllState();
            }
            else {
              li.parent().find('li.selected').removeClass('selected'); //if not multiselect then remove all selections from this list
              li.toggleClass('selected');
              li.data('opt')[0].selected = true;
            }
            if (!(O.is_multi && settings.triggerChangeCombined && (O.is_floating || settings.okCancelInMulti))) {
              O.setText();
              O.callChange();
            }
            if (!O.is_multi) O.hideOpts(); //if its not a multiselect then hide on single select.
          });
        },
        setText: function () {
          var O = this;
          O.placeholder = "";
          if (O.is_multi) {
            sels = O.E.find(':selected').not(':disabled'); //selected options.
            for (i = 0; i < sels.length; i++) {
              if (i + 1 >= settings.csvDispCount && settings.csvDispCount) {
                if (sels.length == O.E.find('option').length && settings.captionFormatAllSelected) {
                  O.placeholder = settings.captionFormatAllSelected.replace(/\{0\}/g, sels.length)+',';
                } else {
                  O.placeholder = settings.captionFormat.replace(/\{0\}/g, sels.length)+',';
                }
                break;
              }
              else O.placeholder += $(sels[i]).text() + ", ";
            }
            O.placeholder = O.placeholder.replace(/,([^,]*)$/, '$1'); //remove unexpected "," from last.
          }
          else {
            O.placeholder = O.E.find(':selected').not(':disabled').text();
          }
          var is_placeholder = false;
          if (!O.placeholder) {
            is_placeholder = true;
            O.placeholder = O.E.attr('placeholder');
            if (!O.placeholder)                  //if placeholder is there then set it
              O.placeholder = O.E.find('option:disabled:selected').text();
          }
          O.placeholder = O.placeholder ? (settings.prefix + ' ' + O.placeholder) : settings.placeholder
          O.caption.html(O.placeholder);
          if (settings.showTitle) O.CaptionCont.attr('title', O.placeholder);
          var csvField = O.select.find('input.HEMANT123');
          if (csvField.length) csvField.val(O.getSelStr());
          if (is_placeholder) O.caption.addClass('placeholder'); else O.caption.removeClass('placeholder');
          return O.placeholder;
        },
        isMobile: function () {
          /* Adapted from http://www.detectmobilebrowsers.com */
          var ua = navigator.userAgent || navigator.vendor || window.opera;
          /* Checks for iOs, Android, Blackberry, Opera Mini, and Windows mobile devices */
          for (var i = 0; i < settings.nativeOnDevice.length; i++) if (ua.toString().toLowerCase().indexOf(settings.nativeOnDevice[i].toLowerCase()) > 0) return settings.nativeOnDevice[i];
          return false;
        },
        setNativeMobile: function () {
          var O = this;
          O.E.addClass('SelectClass'); /* .css('height', O.select.outerHeight()); */
          O.mob = true;
          O.E.change(function () {
            O.setText();
          });
        },
        floatingList: function () {
          var O = this;
          /*called on init and also on resize.*/
          /*O.is_floating = true if window width is < specified float width*/
          O.is_floating = $(window).width() <= settings.floatWidth;
          /*set class isFloating*/
          O.optDiv.toggleClass('isFloating', O.is_floating);
          /*remove height if not floating*/
          if (!O.is_floating) O.optDiv.css('height', '');
          /*toggle class according to okCancelInMulti flag only when it is not floating*/
          O.optDiv.toggleClass('okCancelInMulti', settings.okCancelInMulti && !O.is_floating);
        },
        /* HELPERS FOR OUTSIDERS*/
        /* validates range of given item operations*/
        vRange: function (i) {
          var O = this;
          var opts = O.E.find('option');
          if (opts.length <= i || i < 0) throw "index out of bounds"
          return O;
        },
        /*toggles selection on c as boolean.*/
        toggSel: function (c, i) {
          var O = this;
          var opt;
          if (typeof(i) === "number"){
            O.vRange(i);
            opt = O.E.find('option')[i];
          }
          else{
            opt = O.E.find('option[value="'+i+'"]')[0]||0;
          }
          if (!opt || opt.disabled)
            return;
          if(opt.selected != c){
            opt.selected = c;
            if(!O.mob) $(opt).data('li').toggleClass('selected',c);
            O.callChange();
            O.setPstate();
            O.setText();
            O.selAllState();
          }
        },
        /*toggles disabled on c as boolean.*/
        toggDis: function (c, i) {
          var O = this.vRange(i);
          O.E.find('option')[i].disabled = c;
          if(c)O.E.find('option')[i].selected = false;
          if(!O.mob)O.optDiv.find('ul.options li').eq(i).toggleClass('disabled', c).removeClass('selected');
          O.setText();
        },
        /* toggle disable/enable on complete select control*/
        toggSumo: function(val) {
          var O = this;
          O.enabled = val;
          O.select.toggleClass('disabled', val);
          if (val) {
            O.E.attr('disabled', 'disabled');
            O.select.removeAttr('tabindex');
          }
          else{
            O.E.removeAttr('disabled');
            O.select.attr('tabindex','0');
          }
          return O;
        },
        /* toggles all option on c as boolean.*/
        /* set direct=false/0 bypasses okCancelInMulti behaviour.*/
        toggSelAll: function (c, direct) {
          var O = this;
          O.E.find('option:not(:disabled,:hidden)')
           .each(function(ix,e){
             var is_selected=e.selected,
               e = $(e).data('li');
             if(e.hasClass('hidden'))return;
             if(!!c){
               if(!is_selected)e.trigger('click');
             }
             else{
               if(is_selected)e.trigger('click');
             }
           });
          if(!direct){
            if(!O.mob && O.selAll)O.selAll.removeClass('partial').toggleClass('selected',!!c);
            O.callChange();
            O.setText();
            O.setPstate();
          }
        },
        /* outside accessibility options
         which can be accessed from the element instance.
         */
        reload:function(){
          var elm = this.unload();
          return $(elm).SumoSelect(settings);
        },
        unload: function () {
          var O = this;
          O.select.before(O.E);
          O.E.show();
          if (settings.outputAsCSV && O.is_multi && O.select.find('input.HEMANT123').length) {
            O.E.attr('name', O.select.find('input.HEMANT123').attr('name')); /* restore the name; */
          }
          O.select.remove();
          delete selObj.sumo;
          return selObj;
        },
        /* add a new option to select at a given index.*/
        add: function (val, txt, i) {
          if (typeof val == "undefined") throw "No value to add"
          var O = this;
          opts=O.E.find('option')
          if (typeof txt == "number") { i = txt; txt = val; }
          if (typeof txt == "undefined") { txt = val; }
          opt = $("<option></option>").val(val).html(txt);
          if (opts.length < i) throw "index out of bounds"
          if (typeof i == "undefined" || opts.length == i) { /* add it to the last if given index is last no or no index provides.*/
            O.E.append(opt);
            if(!O.mob)O.ul.append(O.createLi(opt));
          }
          else {
            opts.eq(i).before(opt);
            if(!O.mob)O.ul.find('li.opt').eq(i).before(O.createLi(opt));
          }
          return selObj;
        },
        /* removes an item at a given index. */
        remove: function (i) {
          var O = this.vRange(i);
          O.E.find('option').eq(i).remove();
          if(!O.mob)O.optDiv.find('ul.options li').eq(i).remove();
          O.setText();
        },
        /* Select an item at a given index.*/
        selectItem: function (i) { this.toggSel(true, i); },
        /* UnSelect an iten at a given index.*/
        unSelectItem: function (i) { this.toggSel(false, i); },
        /* Select all items  of the select.*/
        selectAll: function () { this.toggSelAll(true); },
        /* UnSelect all items of the select.*/
        unSelectAll: function () { this.toggSelAll(false); },
        /* Disable an iten at a given index.*/
        disableItem: function (i) { this.toggDis(true, i) },
        /* Removes disabled an iten at a given index.*/
        enableItem: function (i) { this.toggDis(false, i) },
        /* New simple methods as getter and setter are not working fine in ie8-*/
        /* variable to check state of control if enabled or disabled.*/
        enabled : true,
        /* Enables the control*/
        enable: function(){return this.toggSumo(false)},
        /* Disables the control*/
        disable: function(){return this.toggSumo(true)},
        init: function () {
          var O = this;
          O.createElems();
          O.setText();
          return O
        }
      };
      selObj.sumo.init();
    });
    return ret.length == 1 ? ret[0] : ret;
  };
});
/*! jQuery Mobile v1.3.2 | Copyright 2010, 2013 jQuery Foundation, Inc. | jquery.org/license */
(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,t,n,r){function x(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function T(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=x(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function N(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function C(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function k(){g=!1}function L(){g=!0}function A(){E=0,v.length=0,m=!1,L()}function O(){k()}function M(){_(),c=setTimeout(function(){c=0,A()},e.vmouse.resetTimerDuration)}function _(){c&&(clearTimeout(c),c=0)}function D(t,n,r){var i;if(r&&r[t]||!r&&C(n.target,t))i=T(n,t),e(n.target).trigger(i);return i}function P(t){var n=e.data(t.target,s);if(!m&&(!E||E!==n)){var r=D("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function H(t){var n=x(t).touches,r,i;if(n&&n.length===1){r=t.target,i=N(r);if(i.hasVirtualBinding){E=w++,e.data(r,s,E),_(),O(),d=!1;var o=x(t).touches[0];h=o.pageX,p=o.pageY,D("vmouseover",t,i),D("vmousedown",t,i)}}}function B(e){if(g)return;d||D("vmousecancel",e,N(e.target)),d=!0,M()}function j(t){if(g)return;var n=x(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=N(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&D("vmousecancel",t,s),D("vmousemove",t,s),M()}function F(e){if(g)return;L();var t=N(e.target),n;D("vmouseup",e,t);if(!d){var r=D("vclick",e,t);r&&r.isDefaultPrevented()&&(n=x(e).changedTouches[0],v.push({touchID:E,x:n.clientX,y:n.clientY}),m=!0)}D("vmouseout",e,t),d=!1,M()}function I(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function q(){}function R(t){var n=t.substr(1);return{setup:function(r,s){I(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,P),e(this).bind(n,q),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",H).bind("touchend",F).bind("touchmove",j).bind("scroll",B))},teardown:function(r,s){--l[t],l[t]||b.unbind(n,P),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",H).unbind("touchmove",j).unbind("touchend",F).unbind("scroll",B));var o=e(this),u=e.data(this,i);u&&(u[t]=!1),o.unbind(n,q),I(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<o.length;U++)e.event.special[o[U]]=R(o[U]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)})(e,t,n),function(e){e.mobile={}}(e),function(e,t){var r={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function l(t,n,r){var i=r.type;r.type=n,e.event.dispatch.call(t,r),r.type=i}var i=e(n);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function s(e,n){r=n,l(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(o,function(t){if(!e.event.special.scrollstart.enabled)return;r||s(t,!0),clearTimeout(i),i=setTimeout(function(){s(t,!1)},50)})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,n=e(t);n.bind("vmousedown",function(r){function a(){clearTimeout(u)}function f(){a(),n.unbind("vclick",c).unbind("vmouseup",a),i.unbind("vmousecancel",f)}function c(e){f(),s===e.target&&l(t,"tap",e)}if(r.which&&r.which!==1)return!1;var s=r.target,o=r.originalEvent,u;n.bind("vmouseup",a).bind("vclick",c),i.bind("vmousecancel",f),u=setTimeout(function(){l(t,"taphold",e.Event("taphold",{target:s}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1000,horizontalDistanceThreshold:10,verticalDistanceThreshold:475,start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n){n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>n.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,n=e(t);n.bind(u,function(t){function o(t){if(!i)return;s=e.event.special.swipe.stop(t),Math.abs(i.coords[0]-s.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}var i=e.event.special.swipe.start(t),s;n.bind(f,o).one(a,function(){n.unbind(f,o),i&&s&&e.event.special.swipe.handleSwipe(i,s),i=s=r})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(e,this)});

(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
/*custom scrollbar*/
(function(c){var b={init:function(e){var f={set_width:false,set_height:false,horizontalScroll:false,scrollInertia:950,mouseWheel:true,mouseWheelPixels:"auto",autoDraggerLength:true,autoHideScrollbar:false,snapAmount:null,snapOffset:0,scrollButtons:{enable:false,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:true,updateOnContentResize:false,autoExpandHorizontalScroll:false,autoScrollOnFocus:true,normalizeMouseWheelDelta:false},contentTouchScroll:true,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},e=c.extend(true,f,e);return this.each(function(){var m=c(this);if(e.set_width){m.css("width",e.set_width)}if(e.set_height){m.css("height",e.set_height)}if(!c(document).data("mCustomScrollbar-index")){c(document).data("mCustomScrollbar-index","1")}else{var t=parseInt(c(document).data("mCustomScrollbar-index"));c(document).data("mCustomScrollbar-index",t+1)}m.wrapInner("<div class='mCustomScrollBox mCS-"+e.theme+"' id='mCSB_"+c(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+c(document).data("mCustomScrollbar-index"));var g=m.children(".mCustomScrollBox");if(e.horizontalScroll){g.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var k=g.children(".mCSB_h_wrapper");k.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:k.children().outerWidth(),position:"relative"}).unwrap()}else{g.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />")}var o=g.children(".mCSB_container");if(c.support.touch){o.addClass("mCS_touch")}o.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var l=g.children(".mCSB_scrollTools"),h=l.children(".mCSB_draggerContainer"),q=h.children(".mCSB_dragger");if(e.horizontalScroll){q.data("minDraggerWidth",q.width())}else{q.data("minDraggerHeight",q.height())}if(e.scrollButtons.enable){if(e.horizontalScroll){l.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>")}else{l.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")}}g.bind("scroll",function(){if(!m.is(".mCS_disabled")){g.scrollTop(0).scrollLeft(0)}});m.data({mCS_Init:true,mCustomScrollbarIndex:c(document).data("mCustomScrollbar-index"),horizontalScroll:e.horizontalScroll,scrollInertia:e.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:e.mouseWheel,mouseWheelPixels:e.mouseWheelPixels,autoDraggerLength:e.autoDraggerLength,autoHideScrollbar:e.autoHideScrollbar,snapAmount:e.snapAmount,snapOffset:e.snapOffset,scrollButtons_enable:e.scrollButtons.enable,scrollButtons_scrollType:e.scrollButtons.scrollType,scrollButtons_scrollSpeed:e.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:e.scrollButtons.scrollAmount,autoExpandHorizontalScroll:e.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:e.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:e.advanced.normalizeMouseWheelDelta,contentTouchScroll:e.contentTouchScroll,onScrollStart_Callback:e.callbacks.onScrollStart,onScroll_Callback:e.callbacks.onScroll,onTotalScroll_Callback:e.callbacks.onTotalScroll,onTotalScrollBack_Callback:e.callbacks.onTotalScrollBack,onTotalScroll_Offset:e.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:e.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:e.callbacks.whileScrolling,bindEvent_scrollbar_drag:false,bindEvent_content_touch:false,bindEvent_scrollbar_click:false,bindEvent_mousewheel:false,bindEvent_buttonsContinuous_y:false,bindEvent_buttonsContinuous_x:false,bindEvent_buttonsPixels_y:false,bindEvent_buttonsPixels_x:false,bindEvent_focusin:false,bindEvent_autoHideScrollbar:false,mCSB_buttonScrollRight:false,mCSB_buttonScrollLeft:false,mCSB_buttonScrollDown:false,mCSB_buttonScrollUp:false});if(e.horizontalScroll){if(m.css("max-width")!=="none"){if(!e.advanced.updateOnContentResize){e.advanced.updateOnContentResize=true}}}else{if(m.css("max-height")!=="none"){var s=false,r=parseInt(m.css("max-height"));if(m.css("max-height").indexOf("%")>=0){s=r,r=m.parent().height()*s/100}m.css("overflow","hidden");g.css("max-height",r)}}m.mCustomScrollbar("update");if(e.advanced.updateOnBrowserResize){var i,j=c(window).width(),u=c(window).height();c(window).bind("resize."+m.data("mCustomScrollbarIndex"),function(){if(i){clearTimeout(i)}i=setTimeout(function(){if(!m.is(".mCS_disabled")&&!m.is(".mCS_destroyed")){var w=c(window).width(),v=c(window).height();if(j!==w||u!==v){if(m.css("max-height")!=="none"&&s){g.css("max-height",m.parent().height()*s/100)}m.mCustomScrollbar("update");j=w;u=v}}},150)})}if(e.advanced.updateOnContentResize){var p;if(e.horizontalScroll){var n=o.outerWidth()}else{var n=o.outerHeight()}p=setInterval(function(){if(e.horizontalScroll){if(e.advanced.autoExpandHorizontalScroll){o.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:o.outerWidth(),position:"relative"}).unwrap()}var v=o.outerWidth()}else{var v=o.outerHeight()}if(v!=n){m.mCustomScrollbar("update");n=v}},300)}})},update:function(){var n=c(this),k=n.children(".mCustomScrollBox"),q=k.children(".mCSB_container");q.removeClass("mCS_no_scrollbar");n.removeClass("mCS_disabled mCS_destroyed");k.scrollTop(0).scrollLeft(0);var y=k.children(".mCSB_scrollTools"),o=y.children(".mCSB_draggerContainer"),m=o.children(".mCSB_dragger");if(n.data("horizontalScroll")){var A=y.children(".mCSB_buttonLeft"),t=y.children(".mCSB_buttonRight"),f=k.width();if(n.data("autoExpandHorizontalScroll")){q.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:q.outerWidth(),position:"relative"}).unwrap()}var z=q.outerWidth()}else{var w=y.children(".mCSB_buttonUp"),g=y.children(".mCSB_buttonDown"),r=k.height(),i=q.outerHeight()}if(i>r&&!n.data("horizontalScroll")){y.css("display","block");var s=o.height();if(n.data("autoDraggerLength")){var u=Math.round(r/i*s),l=m.data("minDraggerHeight");if(u<=l){m.css({height:l})}else{if(u>=s-10){var p=s-10;m.css({height:p})}else{m.css({height:u})}}m.children(".mCSB_dragger_bar").css({"line-height":m.height()+"px"})}var B=m.height(),x=(i-r)/(s-B);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().top);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else{if(z>f&&n.data("horizontalScroll")){y.css("display","block");var h=o.width();if(n.data("autoDraggerLength")){var j=Math.round(f/z*h),C=m.data("minDraggerWidth");if(j<=C){m.css({width:C})}else{if(j>=h-10){var e=h-10;m.css({width:e})}else{m.css({width:j})}}}var v=m.width(),x=(z-f)/(h-v);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().left);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else{k.unbind("mousewheel focusin");if(n.data("horizontalScroll")){m.add(q).css("left",0)}else{m.add(q).css("top",0)}y.css("display","none");q.addClass("mCS_no_scrollbar");n.data({bindEvent_mousewheel:false,bindEvent_focusin:false})}}},scrolling:function(h,p,m,j,w,e,A,v){var k=c(this);if(!k.data("bindEvent_scrollbar_drag")){var n,o;if(c.support.msPointer){j.bind("MSPointerDown",function(H){H.preventDefault();k.data({on_drag:true});j.addClass("mCSB_dragger_onDrag");var G=c(this),J=G.offset(),F=H.originalEvent.pageX-J.left,I=H.originalEvent.pageY-J.top;if(F<G.width()&&F>0&&I<G.height()&&I>0){n=I;o=F}});c(document).bind("MSPointerMove."+k.data("mCustomScrollbarIndex"),function(H){H.preventDefault();if(k.data("on_drag")){var G=j,J=G.offset(),F=H.originalEvent.pageX-J.left,I=H.originalEvent.pageY-J.top;D(n,o,I,F)}}).bind("MSPointerUp."+k.data("mCustomScrollbarIndex"),function(x){k.data({on_drag:false});j.removeClass("mCSB_dragger_onDrag")})}else{j.bind("mousedown touchstart",function(H){H.preventDefault();H.stopImmediatePropagation();var G=c(this),K=G.offset(),F,J;if(H.type==="touchstart"){var I=H.originalEvent.touches[0]||H.originalEvent.changedTouches[0];F=I.pageX-K.left;J=I.pageY-K.top}else{k.data({on_drag:true});j.addClass("mCSB_dragger_onDrag");F=H.pageX-K.left;J=H.pageY-K.top}if(F<G.width()&&F>0&&J<G.height()&&J>0){n=J;o=F}}).bind("touchmove",function(H){H.preventDefault();H.stopImmediatePropagation();var K=H.originalEvent.touches[0]||H.originalEvent.changedTouches[0],G=c(this),J=G.offset(),F=K.pageX-J.left,I=K.pageY-J.top;D(n,o,I,F)});c(document).bind("mousemove."+k.data("mCustomScrollbarIndex"),function(H){if(k.data("on_drag")){var G=j,J=G.offset(),F=H.pageX-J.left,I=H.pageY-J.top;D(n,o,I,F)}}).bind("mouseup."+k.data("mCustomScrollbarIndex"),function(x){k.data({on_drag:false});j.removeClass("mCSB_dragger_onDrag")})}k.data({bindEvent_scrollbar_drag:true})}function D(G,H,I,F){if(k.data("horizontalScroll")){k.mCustomScrollbar("scrollTo",(j.position().left-(H))+F,{moveDragger:true,trigger:"internal"})}else{k.mCustomScrollbar("scrollTo",(j.position().top-(G))+I,{moveDragger:true,trigger:"internal"})}}if(c.support.touch&&k.data("contentTouchScroll")){if(!k.data("bindEvent_content_touch")){var l,B,r,s,u,C,E;p.bind("touchstart",function(x){x.stopImmediatePropagation();l=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0];B=c(this);r=B.offset();u=l.pageX-r.left;s=l.pageY-r.top;C=s;E=u});p.bind("touchmove",function(x){x.preventDefault();x.stopImmediatePropagation();l=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0];B=c(this).parent();r=B.offset();u=l.pageX-r.left;s=l.pageY-r.top;if(k.data("horizontalScroll")){k.mCustomScrollbar("scrollTo",E-u,{trigger:"internal"})}else{k.mCustomScrollbar("scrollTo",C-s,{trigger:"internal"})}})}}if(!k.data("bindEvent_scrollbar_click")){m.bind("click",function(F){var x=(F.pageY-m.offset().top)*k.data("scrollAmount"),y=c(F.target);if(k.data("horizontalScroll")){x=(F.pageX-m.offset().left)*k.data("scrollAmount")}if(y.hasClass("mCSB_draggerContainer")||y.hasClass("mCSB_draggerRail")){k.mCustomScrollbar("scrollTo",x,{trigger:"internal",scrollEasing:"draggerRailEase"})}});k.data({bindEvent_scrollbar_click:true})}if(k.data("mouseWheel")){if(!k.data("bindEvent_mousewheel")){h.bind("mousewheel",function(H,J){var G,F=k.data("mouseWheelPixels"),x=Math.abs(p.position().top),I=j.position().top,y=m.height()-j.height();if(k.data("normalizeMouseWheelDelta")){if(J<0){J=-1}else{J=1}}if(F==="auto"){F=100+Math.round(k.data("scrollAmount")/2)}if(k.data("horizontalScroll")){I=j.position().left;y=m.width()-j.width();x=Math.abs(p.position().left)}if((J>0&&I!==0)||(J<0&&I!==y)){H.preventDefault();H.stopImmediatePropagation()}G=x-(J*F);k.mCustomScrollbar("scrollTo",G,{trigger:"internal"})});k.data({bindEvent_mousewheel:true})}}if(k.data("scrollButtons_enable")){if(k.data("scrollButtons_scrollType")==="pixels"){if(k.data("horizontalScroll")){v.add(A).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",i,g);k.data({bindEvent_buttonsContinuous_x:false});if(!k.data("bindEvent_buttonsPixels_x")){v.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().left)+k.data("scrollButtons_scrollAmount"))});A.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().left)-k.data("scrollButtons_scrollAmount"))});k.data({bindEvent_buttonsPixels_x:true})}}else{e.add(w).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",i,g);k.data({bindEvent_buttonsContinuous_y:false});if(!k.data("bindEvent_buttonsPixels_y")){e.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().top)+k.data("scrollButtons_scrollAmount"))});w.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().top)-k.data("scrollButtons_scrollAmount"))});k.data({bindEvent_buttonsPixels_y:true})}}function q(x){if(!j.data("preventAction")){j.data("preventAction",true);k.mCustomScrollbar("scrollTo",x,{trigger:"internal"})}}}else{if(k.data("horizontalScroll")){v.add(A).unbind("click");k.data({bindEvent_buttonsPixels_x:false});if(!k.data("bindEvent_buttonsContinuous_x")){v.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollRight:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().left)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var i=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollRight"))};v.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",i);A.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollLeft:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().left)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var g=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollLeft"))};A.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",g);k.data({bindEvent_buttonsContinuous_x:true})}}else{e.add(w).unbind("click");k.data({bindEvent_buttonsPixels_y:false});if(!k.data("bindEvent_buttonsContinuous_y")){e.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollDown:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().top)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var t=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollDown"))};e.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",t);w.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollUp:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().top)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var f=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollUp"))};w.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",f);k.data({bindEvent_buttonsContinuous_y:true})}}function z(){var x=k.data("scrollButtons_scrollSpeed");if(k.data("scrollButtons_scrollSpeed")==="auto"){x=Math.round((k.data("scrollInertia")+100)/40)}return x}}}if(k.data("autoScrollOnFocus")){if(!k.data("bindEvent_focusin")){h.bind("focusin",function(){h.scrollTop(0).scrollLeft(0);var x=c(document.activeElement);if(x.is("input,textarea,select,button,a[tabindex],area,object")){var G=p.position().top,y=x.position().top,F=h.height()-x.outerHeight();if(k.data("horizontalScroll")){G=p.position().left;y=x.position().left;F=h.width()-x.outerWidth()}if(G+y<0||G+y>F){k.mCustomScrollbar("scrollTo",y,{trigger:"internal"})}}});k.data({bindEvent_focusin:true})}}if(k.data("autoHideScrollbar")){if(!k.data("bindEvent_autoHideScrollbar")){h.bind("mouseenter",function(x){h.addClass("mCS-mouse-over");d.showScrollbar.call(h.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(x){h.removeClass("mCS-mouse-over");if(x.type==="mouseleave"){d.hideScrollbar.call(h.children(".mCSB_scrollTools"))}});k.data({bindEvent_autoHideScrollbar:true})}}},scrollTo:function(e,f){var i=c(this),o={moveDragger:false,trigger:"external",callbacks:true,scrollInertia:i.data("scrollInertia"),scrollEasing:i.data("scrollEasing")},f=c.extend(o,f),p,g=i.children(".mCustomScrollBox"),k=g.children(".mCSB_container"),r=g.children(".mCSB_scrollTools"),j=r.children(".mCSB_draggerContainer"),h=j.children(".mCSB_dragger"),t=draggerSpeed=f.scrollInertia,q,s,m,l;if(!k.hasClass("mCS_no_scrollbar")){i.data({mCS_trigger:f.trigger});if(i.data("mCS_Init")){f.callbacks=false}if(e||e===0){if(typeof(e)==="number"){if(f.moveDragger){p=e;if(i.data("horizontalScroll")){e=h.position().left*i.data("scrollAmount")}else{e=h.position().top*i.data("scrollAmount")}draggerSpeed=0}else{p=e/i.data("scrollAmount")}}else{if(typeof(e)==="string"){var v;if(e==="top"){v=0}else{if(e==="bottom"&&!i.data("horizontalScroll")){v=k.outerHeight()-g.height()}else{if(e==="left"){v=0}else{if(e==="right"&&i.data("horizontalScroll")){v=k.outerWidth()-g.width()}else{if(e==="first"){v=i.find(".mCSB_container").find(":first")}else{if(e==="last"){v=i.find(".mCSB_container").find(":last")}else{v=i.find(e)}}}}}}if(v.length===1){if(i.data("horizontalScroll")){e=v.position().left}else{e=v.position().top}p=e/i.data("scrollAmount")}else{p=e=v}}}if(i.data("horizontalScroll")){if(i.data("onTotalScrollBack_Offset")){s=-i.data("onTotalScrollBack_Offset")}if(i.data("onTotalScroll_Offset")){l=g.width()-k.outerWidth()+i.data("onTotalScroll_Offset")}if(p<0){p=e=0;clearInterval(i.data("mCSB_buttonScrollLeft"));if(!s){q=true}}else{if(p>=j.width()-h.width()){p=j.width()-h.width();e=g.width()-k.outerWidth();clearInterval(i.data("mCSB_buttonScrollRight"));if(!l){m=true}}else{e=-e}}var n=i.data("snapAmount");if(n){e=Math.round(e/n)*n-i.data("snapOffset")}d.mTweenAxis.call(this,h[0],"left",Math.round(p),draggerSpeed,f.scrollEasing);d.mTweenAxis.call(this,k[0],"left",Math.round(e),t,f.scrollEasing,{onStart:function(){if(f.callbacks&&!i.data("mCS_tweenRunning")){u("onScrollStart")}if(i.data("autoHideScrollbar")){d.showScrollbar.call(r)}},onUpdate:function(){if(f.callbacks){u("whileScrolling")}},onComplete:function(){if(f.callbacks){u("onScroll");if(q||(s&&k.position().left>=s)){u("onTotalScrollBack")}if(m||(l&&k.position().left<=l)){u("onTotalScroll")}}h.data("preventAction",false);i.data("mCS_tweenRunning",false);if(i.data("autoHideScrollbar")){if(!g.hasClass("mCS-mouse-over")){d.hideScrollbar.call(r)}}}})}else{if(i.data("onTotalScrollBack_Offset")){s=-i.data("onTotalScrollBack_Offset")}if(i.data("onTotalScroll_Offset")){l=g.height()-k.outerHeight()+i.data("onTotalScroll_Offset")}if(p<0){p=e=0;clearInterval(i.data("mCSB_buttonScrollUp"));if(!s){q=true}}else{if(p>=j.height()-h.height()){p=j.height()-h.height();e=g.height()-k.outerHeight();clearInterval(i.data("mCSB_buttonScrollDown"));if(!l){m=true}}else{e=-e}}var n=i.data("snapAmount");if(n){e=Math.round(e/n)*n-i.data("snapOffset")}d.mTweenAxis.call(this,h[0],"top",Math.round(p),draggerSpeed,f.scrollEasing);d.mTweenAxis.call(this,k[0],"top",Math.round(e),t,f.scrollEasing,{onStart:function(){if(f.callbacks&&!i.data("mCS_tweenRunning")){u("onScrollStart")}if(i.data("autoHideScrollbar")){d.showScrollbar.call(r)}},onUpdate:function(){if(f.callbacks){u("whileScrolling")}},onComplete:function(){if(f.callbacks){u("onScroll");if(q||(s&&k.position().top>=s)){u("onTotalScrollBack")}if(m||(l&&k.position().top<=l)){u("onTotalScroll")}}h.data("preventAction",false);i.data("mCS_tweenRunning",false);if(i.data("autoHideScrollbar")){if(!g.hasClass("mCS-mouse-over")){d.hideScrollbar.call(r)}}}})}if(i.data("mCS_Init")){i.data({mCS_Init:false})}}}function u(w){this.mcs={top:k.position().top,left:k.position().left,draggerTop:h.position().top,draggerLeft:h.position().left,topPct:Math.round((100*Math.abs(k.position().top))/Math.abs(k.outerHeight()-g.height())),leftPct:Math.round((100*Math.abs(k.position().left))/Math.abs(k.outerWidth()-g.width()))};switch(w){case"onScrollStart":i.data("mCS_tweenRunning",true).data("onScrollStart_Callback").call(i,this.mcs);break;case"whileScrolling":i.data("whileScrolling_Callback").call(i,this.mcs);break;case"onScroll":i.data("onScroll_Callback").call(i,this.mcs);break;case"onTotalScrollBack":i.data("onTotalScrollBack_Callback").call(i,this.mcs);break;case"onTotalScroll":i.data("onTotalScroll_Callback").call(i,this.mcs);break}}},stop:function(){var g=c(this),e=g.children().children(".mCSB_container"),f=g.children().children().children().children(".mCSB_dragger");d.mTweenAxisStop.call(this,e[0]);d.mTweenAxisStop.call(this,f[0])},disable:function(e){var j=c(this),f=j.children(".mCustomScrollBox"),h=f.children(".mCSB_container"),g=f.children(".mCSB_scrollTools"),i=g.children().children(".mCSB_dragger");f.unbind("mousewheel focusin mouseenter mouseleave touchend");h.unbind("touchstart touchmove");if(e){if(j.data("horizontalScroll")){i.add(h).css("left",0)}else{i.add(h).css("top",0)}}g.css("display","none");h.addClass("mCS_no_scrollbar");j.data({bindEvent_mousewheel:false,bindEvent_focusin:false,bindEvent_content_touch:false,bindEvent_autoHideScrollbar:false}).addClass("mCS_disabled")},destroy:function(){var e=c(this);e.removeClass("mCustomScrollbar _mCS_"+e.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove();c(document).unbind("mousemove."+e.data("mCustomScrollbarIndex")+" mouseup."+e.data("mCustomScrollbarIndex")+" MSPointerMove."+e.data("mCustomScrollbarIndex")+" MSPointerUp."+e.data("mCustomScrollbarIndex"));c(window).unbind("resize."+e.data("mCustomScrollbarIndex"))}},d={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(g,i,h,f,o,y){var y=y||{},v=y.onStart||function(){},p=y.onUpdate||function(){},w=y.onComplete||function(){};var n=t(),l,j=0,r=g.offsetTop,s=g.style;if(i==="left"){r=g.offsetLeft}var m=h-r;q();e();function t(){if(window.performance&&window.performance.now){return window.performance.now()}else{if(window.performance&&window.performance.webkitNow){return window.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return new Date().getTime()}}}}function x(){if(!j){v.call()}j=t()-n;u();if(j>=g._time){g._time=(j>g._time)?j+l-(j-g._time):j+l-1;if(g._time<j+1){g._time=j+1}}if(g._time<f){g._id=_request(x)}else{w.call()}}function u(){if(f>0){g.currVal=k(g._time,r,m,f,o);s[i]=Math.round(g.currVal)+"px"}else{s[i]=h+"px"}p.call()}function e(){l=1000/60;g._time=j+l;_request=(!window.requestAnimationFrame)?function(z){u();return setTimeout(z,0.01)}:window.requestAnimationFrame;g._id=_request(x)}function q(){if(g._id==null){return}if(!window.requestAnimationFrame){clearTimeout(g._id)}else{window.cancelAnimationFrame(g._id)}g._id=null}function k(B,A,F,E,C){switch(C){case"linear":return F*B/E+A;break;case"easeOutQuad":B/=E;return -F*B*(B-2)+A;break;case"easeInOutQuad":B/=E/2;if(B<1){return F/2*B*B+A}B--;return -F/2*(B*(B-2)-1)+A;break;case"easeOutCubic":B/=E;B--;return F*(B*B*B+1)+A;break;case"easeOutQuart":B/=E;B--;return -F*(B*B*B*B-1)+A;break;case"easeOutQuint":B/=E;B--;return F*(B*B*B*B*B+1)+A;break;case"easeOutCirc":B/=E;B--;return F*Math.sqrt(1-B*B)+A;break;case"easeOutSine":return F*Math.sin(B/E*(Math.PI/2))+A;break;case"easeOutExpo":return F*(-Math.pow(2,-10*B/E)+1)+A;break;case"mcsEaseOut":var D=(B/=E)*B,z=D*B;return A+F*(0.499999999999997*z*D+-2.5*D*D+5.5*z+-6.5*D+4*B);break;case"draggerRailEase":B/=E/2;if(B<1){return F/2*B*B*B+A}B-=2;return F/2*(B*B*B+2)+A;break}}},mTweenAxisStop:function(e){if(e._id==null){return}if(!window.requestAnimationFrame){clearTimeout(e._id)}else{window.cancelAnimationFrame(e._id)}e._id=null},rafPolyfill:function(){var f=["ms","moz","webkit","o"],e=f.length;while(--e>-1&&!window.requestAnimationFrame){window.requestAnimationFrame=window[f[e]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[f[e]+"CancelAnimationFrame"]||window[f[e]+"CancelRequestAnimationFrame"]}}};d.rafPolyfill.call();c.support.touch=!!("ontouchstart" in window);c.support.msPointer=window.navigator.msPointerEnabled;var a=("https:"==document.location.protocol)?"https:":"http:";c.event.special.mousewheel||document.write('<script src="'+a+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>');c.fn.mCustomScrollbar=function(e){if(b[e]){return b[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return b.init.apply(this,arguments)}else{c.error("Method "+e+" does not exist")}}}})(jQuery);

;(function($) {
function defined(a) {
	return typeof a !== 'undefined';
}
function extend(child, parent, prototype) {
    var F = function() {};
    F.prototype = parent.prototype;
    child.prototype = new F();
    child.prototype.constructor = child;
	parent.prototype.constructor = parent;
    child._super = parent.prototype;
    if (prototype) {
        $.extend(child.prototype, prototype);
    }
}
var SUBST = [
    ['', ''],               /* spec*/
    ['exit', 'cancel'],     /* firefox & old webkits expect cancelFullScreen instead of exitFullscreen*/
    ['screen', 'Screen']    /* firefox expects FullScreen instead of Fullscreen*/
];
var VENDOR_PREFIXES = ['', 'o', 'ms', 'moz', 'webkit', 'webkitCurrent'];
function native(obj, name) {
    var prefixed;
    if (typeof obj === 'string') {
        name = obj;
        obj = document;
    }
    for (var i = 0; i < SUBST.length; ++i) {
        name = name.replace(SUBST[i][0], SUBST[i][1]);
        for (var j = 0; j < VENDOR_PREFIXES.length; ++j) {
            prefixed = VENDOR_PREFIXES[j];
            prefixed += j === 0 ? name : name.charAt(0).toUpperCase() + name.substr(1);
            if (defined(obj[prefixed])) {
                return obj[prefixed];
            }
        }
    }
    return void 0;
}var ua = navigator.userAgent;
var fsEnabled = native('fullscreenEnabled');
var IS_ANDROID_CHROME = ua.indexOf('Android') !== -1 && ua.indexOf('Chrome') !== -1; 
var IS_NATIVELY_SUPPORTED = 
		!IS_ANDROID_CHROME &&
		 defined(native('fullscreenElement')) && 
		(!defined(fsEnabled) || fsEnabled === true);
var version = $.fn.jquery.split('.');
var JQ_LT_17 = (parseInt(version[0]) < 2 && parseInt(version[1]) < 7);
var FullScreenAbstract = function() {
	this.__options = null;
	this._fullScreenElement = null;
	this.__savedStyles = {};
};
FullScreenAbstract.prototype = {
	_DEFAULT_OPTIONS: {
		styles: {
			'boxSizing': 'border-box',
			'MozBoxSizing': 'border-box',
			'WebkitBoxSizing': 'border-box'
		},
		toggleClass: null
	},
	__documentOverflow: '',
	__htmlOverflow: '',
	_preventDocumentScroll: function() {
		this.__documentOverflow = $('body')[0].style.overflow;
		this.__htmlOverflow = $('html')[0].style.overflow;
		/* $('body, html').css('overflow', 'hidden');*/
	},
	_allowDocumentScroll: function() {
		/* $('body')[0].style.overflow = this.__documentOverflow;*/
		/* $('html')[0].style.overflow = this.__htmlOverflow; */
	},
	_fullScreenChange: function() {
		if (!this.isFullScreen()) {
			this._allowDocumentScroll();
			this._revertStyles();
			this._triggerEvents();
			this._fullScreenElement = null;
		} else {
			this._preventDocumentScroll();
			this._triggerEvents();
		}
	},
	_fullScreenError: function(e) {
		this._revertStyles();
		this._fullScreenElement = null;
		if (e) {
			$(document).trigger('fscreenerror', [e]);
		}
	},
	_triggerEvents: function() {
		$(this._fullScreenElement).trigger(this.isFullScreen() ? 'fscreenopen' : 'fscreenclose');
		$(document).trigger('fscreenchange', [this.isFullScreen(), this._fullScreenElement]);
	},
	_saveAndApplyStyles: function() {
		var $elem = $(this._fullScreenElement);
		this.__savedStyles = {};
		for (var property in this.__options.styles) {
			/* save */
			this.__savedStyles[property] = this._fullScreenElement.style[property];
			/* apply */
			this._fullScreenElement.style[property] = this.__options.styles[property];
		}
		if (this.__options.toggleClass) {
			$elem.addClass(this.__options.toggleClass);
		}
	},
	_revertStyles: function() {
		var $elem = $(this._fullScreenElement);
		for (var property in this.__options.styles) {
			this._fullScreenElement.style[property] = this.__savedStyles[property];
		}
		if (this.__options.toggleClass) {
			$elem.removeClass(this.__options.toggleClass);
		}
	},
	open: function(elem, options) {
		/* do nothing if request is for already fullscreened element */
		if (elem === this._fullScreenElement) {
			return;
		}
		/* exit active fullscreen before opening another one */
		if (this.isFullScreen()) {
			this.exit();
		}
		/* save fullscreened element */
		this._fullScreenElement = elem;
		/* apply options, if any */
		this.__options = $.extend(true, {}, this._DEFAULT_OPTIONS, options);
		/* save current element styles and apply new */
		this._saveAndApplyStyles();
	},
	exit: null,
	isFullScreen: null,
	isNativelySupported: function() {
		return IS_NATIVELY_SUPPORTED;
	}
};
var FullScreenNative = function() {
	FullScreenNative._super.constructor.apply(this, arguments);
	this.exit = $.proxy(native('exitFullscreen'), document);
	this._DEFAULT_OPTIONS = $.extend(true, {}, this._DEFAULT_OPTIONS, {
		'styles': {
			'width': '100%',
			'height': '100%'
		}
	});
	$(document)
		.bind(this._prefixedString('fullscreenchange') + ' MSFullscreenChange', $.proxy(this._fullScreenChange, this))
		.bind(this._prefixedString('fullscreenerror') + ' MSFullscreenError', $.proxy(this._fullScreenError, this));
};
extend(FullScreenNative, FullScreenAbstract, {
	VENDOR_PREFIXES: ['', 'o', 'moz', 'webkit'],
	_prefixedString: function(str) {
		return $.map(this.VENDOR_PREFIXES, function(s) {
			return s + str;
		}).join(' ');
	},
	open: function(elem, options) {
		FullScreenNative._super.open.apply(this, arguments);
		var requestFS = native(elem, 'requestFullscreen');
		requestFS.call(elem);
	},
	exit: $.noop,
	isFullScreen: function() {
		return native('fullscreenElement') !== null;
	},
	element: function() {
		return native('fullscreenElement');
	}
});
var FullScreenFallback = function() {
	FullScreenFallback._super.constructor.apply(this, arguments);
	this._DEFAULT_OPTIONS = $.extend({}, this._DEFAULT_OPTIONS, {
		'styles': {
			'position': 'fixed',
			'zIndex': '2147483647',
			'left': 0,
			'top': 0,
			'bottom': 0,
			'right': 0
		}
	});
	this.__delegateKeydownHandler();
};
extend(FullScreenFallback, FullScreenAbstract, {
	__isFullScreen: false,
	__delegateKeydownHandler: function() {
		var $doc = $(document);
		$doc.delegate('*', 'keydown.fullscreen', $.proxy(this.__keydownHandler, this));
		var data = JQ_LT_17 ? $doc.data('events') : $._data(document).events;
		var events = data['keydown'];
		if (!JQ_LT_17) {
			events.splice(0, 0, events.splice(events.delegateCount - 1, 1)[0]);
		} else {
			data.live.unshift(data.live.pop());
		}
	},
	__keydownHandler: function(e) {
		if (this.isFullScreen() && e.which === 27) {
			this.exit();
			return false;
		}
		return true;
	},
	_revertStyles: function() {
		FullScreenFallback._super._revertStyles.apply(this, arguments);
		/* force redraw (fixes bug in IE7 with content dissapearing) */
		this._fullScreenElement.offsetHeight;
	},
	open: function(elem) {
		FullScreenFallback._super.open.apply(this, arguments);
		this.__isFullScreen = true;
		this._fullScreenChange();
	},
	exit: function() {
		this.__isFullScreen = false;
		this._fullScreenChange();
	},
	isFullScreen: function() {
		return this.__isFullScreen;
	},
	element: function() {
		return this.__isFullScreen ? this._fullScreenElement : null;
	}
});$.fullscreen = IS_NATIVELY_SUPPORTED 
				? new FullScreenNative() 
				: new FullScreenFallback();
$.fn.fullscreen = function(options) {
	var elem = this[0];
	options = $.extend({
		toggleClass: null,
		/* overflow: 'hidden'*/
	}, options);
	options.styles = {
		/* overflow: options.overflow */
	};
	/* delete options.overflow; */
	if (elem) {
		$.fullscreen.open(elem, options);
	}
	return this;
};
})(jQuery);
var isPopUpOpened=false;var bwg_overflow_initial_value=false;var bwg_overflow_x_initial_value=false;var bwg_overflow_y_initial_value=false;function spider_createpopup(url,current_view,width,height,duration,description,lifetime,lightbox_ctrl_btn_pos){url=url.replace(/&#038;/g,'&');if(isPopUpOpened){return};isPopUpOpened=true;if(spider_hasalreadyreceivedpopup(description)||spider_isunsupporteduseragent()){return;}
bwg_overflow_initial_value=jQuery("html").css("overflow");bwg_overflow_x_initial_value=jQuery("html").css("overflow-x");bwg_overflow_y_initial_value=jQuery("html").css("overflow-y");jQuery("html").attr("style","overflow:hidden !important;");jQuery("#bwg_spider_popup_loading_"+current_view).show();jQuery("#spider_popup_overlay_"+current_view).css({display:"block"});jQuery.ajax({type:"GET",url:url,success:function(data){var popup=jQuery('<div id="spider_popup_wrap" class="spider_popup_wrap" style="'+' width:'+width+'px;'+' height:'+height+'px;'+' margin-top:-'+height/2+'px;'+' margin-left: -'+width/2+'px; ">'+
data+'</div>').hide().appendTo("body");spider_showpopup(description,lifetime,popup,duration,lightbox_ctrl_btn_pos);},beforeSend:function(){},complete:function(){}});}
function spider_showpopup(description,lifetime,popup,duration,lightbox_ctrl_btn_pos){var cur_image_key=parseInt(jQuery('#bwg_current_image_key').val());if(typeof data[cur_image_key]!='undefined'){isPopUpOpened=true;var is_embed=data[cur_image_key]['filetype'].indexOf("EMBED_")>-1?true:false;if(!is_embed){if(jQuery('#spider_popup_wrap .bwg_popup_image_spun img').prop('complete')){bwg_first_image_load(popup);}
else{jQuery('#spider_popup_wrap .bwg_popup_image_spun img').on('load error',function(){bwg_first_image_load(popup);});}}
else{bwg_first_image_load(popup);}
spider_receivedpopup(description,lifetime,lightbox_ctrl_btn_pos);}}
function bwg_first_image_load(popup){popup.show();jQuery(".bwg_spider_popup_loading").hide();if(bwg_param['preload_images']){bwg_preload_images(parseInt(jQuery('#bwg_current_image_key').val()));}
bwg_load_filmstrip();}
function spider_hasalreadyreceivedpopup(description){if(document.cookie.indexOf(description)>-1){delete document.cookie[document.cookie.indexOf(description)];}
return false;}
function spider_receivedpopup(description,lifetime,lightbox_ctrl_btn_pos){var date=new Date();date.setDate(date.getDate()+lifetime);document.cookie=description+"=true;expires="+date.toUTCString()+";path=/";if(lightbox_ctrl_btn_pos=='bottom'){jQuery(".bwg_toggle_container").css("bottom",jQuery(".bwg_ctrl_btn_container").height()+"px");}
else if(lightbox_ctrl_btn_pos=='top'){jQuery(".bwg_toggle_container").css("top",jQuery(".bwg_ctrl_btn_container").height()+"px");}}
function spider_isunsupporteduseragent(){return(!window.XMLHttpRequest);}
function spider_destroypopup(duration){if(document.getElementById("spider_popup_wrap")!=null){if(typeof jQuery().fullscreen!=='undefined'&&jQuery.isFunction(jQuery().fullscreen)){if(jQuery.fullscreen.isFullScreen()){jQuery.fullscreen.exit();}}
if(typeof enable_addthis!="undefined"&&enable_addthis){jQuery(".at4-share-outer").hide();}
setTimeout(function(){jQuery(".spider_popup_wrap").remove();jQuery(".bwg_spider_popup_loading").css({display:"none"});jQuery(".spider_popup_overlay").css({display:"none"});jQuery(document).off("keydown");if(bwg_overflow_initial_value!==false){jQuery("html").css("overflow",bwg_overflow_initial_value);}
if(bwg_overflow_x_initial_value!==false){jQuery("html").css("overflow-x",bwg_overflow_x_initial_value);}
if(bwg_overflow_y_initial_value!==false){jQuery("html").css("overflow-y",bwg_overflow_y_initial_value);}},20);}
isPopUpOpened=false;var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var viewportmeta=document.querySelector('meta[name="viewport"]');if(isMobile&&viewportmeta){viewportmeta.content='width=device-width, initial-scale=1';}
var scrrr=jQuery(document).scrollTop();if(bwg_objectL10n.is_pro){location.replace("#");}
jQuery(document).scrollTop(scrrr);if(typeof bwg_param['bwg_playInterval']!="undefined"){clearInterval(bwg_param['bwg_playInterval']);}}
function get_ajax_pricelist(){var post_data={};jQuery(".add_to_cart_msg").html("");post_data["ajax_task"]="display";post_data["image_id"]=jQuery('#bwg_popup_image').attr('image_id');jQuery("#ecommerce_ajax_loading").css('height',jQuery(".bwg_ecommerce_panel").css('height'));jQuery("#ecommerce_opacity_div").css('width',jQuery(".bwg_ecommerce_panel").css('width'));jQuery("#ecommerce_opacity_div").css('height',jQuery(".bwg_ecommerce_panel").css('height'));jQuery("#ecommerce_loading_div").css('width',jQuery(".bwg_ecommerce_panel").css('width'));jQuery("#ecommerce_loading_div").css('height',jQuery(".bwg_ecommerce_panel").css('height'));document.getElementById("ecommerce_opacity_div").style.display='';document.getElementById("ecommerce_loading_div").style.display='table-cell';jQuery.ajax({type:"POST",url:jQuery('#bwg_ecommerce_form').attr('action'),data:post_data,success:function(data){jQuery(".pge_tabs li a").on("click",function(){jQuery(".pge_tabs_container > div").hide();jQuery(".pge_tabs li").removeClass("pge_active");jQuery(jQuery(this).attr("href")).show();jQuery(this).closest("li").addClass("pge_active");jQuery("[name=type]").val(jQuery(this).attr("href").substr(1));return false;});var manual=jQuery(data).find('.manual').html();jQuery('.manual').html(manual);var downloads=jQuery(data).find('.downloads').html();jQuery('.downloads').html(downloads);var pge_options=jQuery(data).find('.pge_options').html();jQuery('.pge_options').html(pge_options);var pge_add_to_cart=jQuery(data).find('.pge_add_to_cart').html();jQuery('.pge_add_to_cart').html(pge_add_to_cart);},beforeSend:function(){},complete:function(){document.getElementById("ecommerce_opacity_div").style.display='none';document.getElementById("ecommerce_loading_div").style.display='none';}});return false;}
function spider_ajax_save(form_id){var post_data={};post_data["bwg_name"]=jQuery("#bwg_name").val();post_data["bwg_comment"]=jQuery("#bwg_comment").val();post_data["bwg_email"]=jQuery("#bwg_email").val();post_data["bwg_captcha_input"]=jQuery("#bwg_captcha_input").val();post_data["ajax_task"]=jQuery("#ajax_task").val();post_data["image_id"]=jQuery("#image_id").val();post_data["comment_id"]=jQuery("#comment_id").val();jQuery("#ajax_loading").css('height',jQuery(".bwg_comments").css('height'));jQuery("#opacity_div").css('width',jQuery(".bwg_comments").css('width'));jQuery("#opacity_div").css('height',jQuery(".bwg_comments").css('height'));jQuery("#loading_div").css('width',jQuery(".bwg_comments").css('width'));jQuery("#loading_div").css('height',jQuery(".bwg_comments").css('height'));document.getElementById("opacity_div").style.display='';document.getElementById("loading_div").style.display='table-cell';jQuery.ajax({type:"POST",url:jQuery('#'+form_id).attr('action'),data:post_data,success:function(data){var str=jQuery(data).find('.bwg_comments').html();jQuery('.bwg_comments').html(str);},beforeSend:function(){},complete:function(){document.getElementById("opacity_div").style.display='none';document.getElementById("loading_div").style.display='none';jQuery(".bwg_comments").mCustomScrollbar({scrollInertia:150,advanced:{updateOnContentResize:true}});jQuery(".bwg_comments_close_btn").click(bwg_comment);bwg_captcha_refresh('bwg_captcha');}});return false;}
function spider_rate_ajax_save(form_id){var post_data={};post_data["image_id"]=jQuery("#"+form_id+" input[name='image_id']").val();post_data["rate"]=jQuery("#"+form_id+" input[name='score']").val();post_data["ajax_task"]=jQuery("#rate_ajax_task").val();jQuery.ajax({type:"POST",url:jQuery('#'+form_id).attr('action'),data:post_data,success:function(data){var str=jQuery(data).find('#'+form_id).html();jQuery('#'+form_id).html(str);},beforeSend:function(){},complete:function(){}});return false;}
function spider_set_input_value(input_id,input_value){if(document.getElementById(input_id)){document.getElementById(input_id).value=input_value;}}
function spider_form_submit(event,form_id){if(document.getElementById(form_id)){document.getElementById(form_id).submit();}
if(event.preventDefault){event.preventDefault();}
else{event.returnValue=false;}}
function spider_check_required(id,name){if(jQuery('#'+id).val()==''){alert(name+' '+bwg_objectL10n.bwg_field_required);jQuery('#'+id).attr('style','border-color: #FF0000;');jQuery('#'+id).focus();return true;}
else{return false;}}
function comment_check_privacy_policy(){var bwg_submit=jQuery('#bwg_submit');bwg_submit.removeClass('bwg-submit-disabled');bwg_submit.removeAttr("disabled");if(!jQuery('#bwg_comment_privacy_policy').is(':checked')){bwg_submit.addClass('bwg-submit-disabled');bwg_submit.attr('disabled','disabled');}}
function spider_check_email(id){if(jQuery('#'+id).val()!=''){var email=jQuery('#'+id).val().replace(/^\s+|\s+$/g,'');if(email.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)==-1){alert(bwg_objectL10n.bwg_mail_validation);return true;}
return false;}}
function bwg_captcha_refresh(id){if(document.getElementById(id+"_img")&&document.getElementById(id+"_input")){srcArr=document.getElementById(id+"_img").src.split("&r=");document.getElementById(id+"_img").src=srcArr[0]+'&r='+Math.floor(Math.random()*100);document.getElementById(id+"_img").style.display="inline-block";document.getElementById(id+"_input").value="";}}
function bwg_play_instagram_video(obj,bwg){jQuery(obj).parent().find("video").each(function(){if(jQuery(this).get(0).paused){jQuery(this).get(0).play();jQuery(obj).children().hide();}
else{jQuery(this).get(0).pause();jQuery(obj).children().show();}})}
function bwg_add_comment(){var form=jQuery('#bwg_comment_form');var url=form.attr('action');var post_data={};post_data['ajax_task']='add_comment';post_data['comment_name']=form.find('#bwg_name').val();post_data['comment_email']=form.find('#bwg_email').val();post_data['comment_text']=form.find('#bwg_comment').val();post_data['comment_captcha']=form.find('#bwg_captcha_input').val();post_data['privacy_policy']=(form.find('#bwg_comment_privacy_policy').is(":checked"))?1:0;post_data['comment_image_id']=jQuery('#bwg_popup_image').attr('image_id');post_data['comment_moderation']=form.find('#bwg_comment_moderation').val();jQuery('.bwg_spider_ajax_loading').hide();jQuery.ajax({url:url,type:"POST",dataType:'json',data:post_data,success:function(res){jQuery('.bwg_comment_error').text('');if(res.error==true){jQuery.each(res.error_messages,function(index,value){if(value){jQuery('.bwg_comment_'+index+'_error').text(value);}});}
else{form.find('#bwg_comment').val('');jQuery('.bwg_comment_waiting_message').hide();if(res.published==0){jQuery('.bwg_comment_waiting_message').show();}
if(res.html_comments_block!=''){jQuery('#bwg_added_comments').html(res.html_comments_block).show();}}},beforeSend:function(){jQuery('.bwg_spider_ajax_loading').show();},complete:function(){if(form.find('#bwg_comment_privacy_policy').length>0){form.find('#bwg_comment_privacy_policy').prop('checked',false);comment_check_privacy_policy();}
bwg_captcha_refresh('bwg_captcha');jQuery('.bwg_spider_ajax_loading').hide();},error:function(){}});return false;}
function bwg_remove_comment(id_comment){var form=jQuery('#bwg_comment_form');var url=form.attr('action');var post_data={};post_data['ajax_task']='delete_comment';post_data['id_image']=jQuery('#bwg_popup_image').attr('image_id');post_data['id_comment']=id_comment;jQuery.ajax({url:url,type:"POST",dataType:'json',data:post_data,success:function(res){if(res.error==false){jQuery('#bwg_comment_block_'+id_comment).fadeOut("slow").remove();}},beforeSend:function(){},complete:function(){},error:function(){}});return false;}
function bwg_gallery_box(image_id,bwg_container,openEcommerce,gallery_id){jQuery(".bwg-validate").each(function(){jQuery(this).on("keypress change",function(){jQuery(this).parent().next().find(".bwg_comment_error").html("");});});if(typeof openEcommerce=="undefined"){openEcommerce=false;}
var bwg=bwg_container.data('bwg');var bwg_lightbox_url;if(bwg_container.find(".bwg-container").data('lightbox-url')){bwg_lightbox_url=bwg_container.find(".bwg-container").data('lightbox-url');}
else{bwg_lightbox_url=bwg_container.data('lightbox-url');}
var filterTags=jQuery("#bwg_tag_id_"+bwg).val();filterTags=filterTags?filterTags:0;var ecommerce=openEcommerce==true?"&open_ecommerce=1":"";var filtersearchname=jQuery("#bwg_search_input_"+bwg).val();var filtersortby=jQuery("#bwg_order_"+bwg).val()?"&filtersortby="+jQuery("#bwg_order_"+bwg).val():'';filtersearchname=filtersearchname?filtersearchname:'';if(typeof gallery_id!="undefined"){bwg_lightbox_url+='&gallery_id='+gallery_id;}
var open_comment='';var open_comment_attr=jQuery('#bwg_blog_style_share_buttons_'+image_id).attr('data-open-comment');if(typeof open_comment_attr!==typeof undefined&&open_comment_attr!==false){open_comment='&open_comment=1';}
spider_createpopup(bwg_lightbox_url+'&image_id='+image_id+"&filter_tag="+filterTags+ecommerce+open_comment+'&filter_search_name='+filtersearchname+filtersortby,bwg,bwg_container.data('popup-width'),bwg_container.data('popup-height'),1,'testpopup',5,bwg_container.data('buttons-position'));}
function bwg_change_image_lightbox(current_key,key,data,from_effect){bwg_current_key=bwg_param['bwg_current_key'];jQuery(".bwg_image_info").css("height","auto");setTimeout(function(){if(jQuery(".bwg_image_info_container1").height()<(jQuery(".bwg_image_info").height()+jQuery(".bwg_toggle_container").height()+bwg_image_info_pos+2*(parseInt(bwg_param['lightbox_info_margin'])))){if(bwg_param['lightbox_ctrl_btn_pos']=='top'){jQuery(".bwg_image_info").css("top",bwg_image_info_pos+"px");}
jQuery(".bwg_image_info").height(jQuery(".bwg_image_info_container1").height()-jQuery(".bwg_toggle_container").height()-bwg_image_info_pos-2*(parseInt(bwg_param['lightbox_info_margin'])));}},200);jQuery("#spider_popup_left").show();jQuery("#spider_popup_right").show();jQuery(".bwg_image_info").hide();if(bwg_param['enable_loop']==0){if(key==(parseInt(data.length)-1)){jQuery("#spider_popup_right").hide();}
if(key==0){jQuery("#spider_popup_left").hide();}}
var ecommerceACtive=bwg_param['ecommerceACtive'];if(ecommerceACtive==1&&bwg_param['enable_image_ecommerce']==1){if(data[key]["pricelist"]==0){jQuery(".bwg_ecommerce").hide();}
else{jQuery(".bwg_ecommerce").show();jQuery(".pge_tabs li").hide();jQuery("#downloads").hide();jQuery("#manual").hide();var pricelistSections=data[key]["pricelist_sections"].split(",");if(pricelistSections){jQuery("#"+pricelistSections[0]).show();jQuery("[name=type]").val(pricelistSections[0]);if(pricelistSections.length>1){jQuery(".pge_tabs").show();for(k=0;k<pricelistSections.length;k++){jQuery("#"+pricelistSections[k]+"_li").show();}}
else{jQuery(".pge_tabs").hide();}}
else{jQuery("[name=type]").val("");}}}
jQuery("#bwg_image_container").find("iframe").each(function(){jQuery(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');jQuery(this)[0].contentWindow.postMessage('{ "method": "pause" }',"*");jQuery(this)[0].contentWindow.postMessage('pause','*');});jQuery("#bwg_image_container").find("video").each(function(){jQuery(this).trigger('pause');});if(typeof data[key]!='undefined'){if(typeof data[current_key]!='undefined'){if(jQuery(".bwg_play_pause").length&&!jQuery(".bwg_play_pause").hasClass("fa-play")){bwg_play(data);}
if(!from_effect){jQuery("#bwg_current_image_key").val(key);}
if(bwg_param['bwg_trans_in_progress']){bwg_param['event_stack'].push(current_key+'-'+key);return;}
var direction='right';if(bwg_current_key>key){var direction='left';}
else if(bwg_current_key==key){return;}
jQuery(".bwg_image_count").html(data[key]["number"]);jQuery(".bwg_watermark").css({display:'none'});if(bwg_param['width_or_height']=='width'){bwg_current_filmstrip_pos=key*(jQuery(".bwg_filmstrip_thumbnail").width()+2+2*bwg_param['lightbox_filmstrip_thumb_border_width']);}else if(bwg_param['width_or_height']=='height'){bwg_current_filmstrip_pos=key*(jQuery(".bwg_filmstrip_thumbnail").height()+2+2*bwg_param['lightbox_filmstrip_thumb_border_width']);}
bwg_param['bwg_current_key']=key;if(bwg_objectL10n.is_pro){location.replace("#bwg"+bwg_param['gallery_id']+"/"+data[key]["id"]);history.replaceState(undefined,undefined,"#bwg"+bwg_param['gallery_id']+"/"+data[key]["id"]);}
if(bwg_param['popup_enable_rate']){jQuery("#bwg_rate_form input[name='image_id']").val(data[key]["id"]);jQuery("#bwg_star").attr("data-score",data[key]["avg_rating"]);jQuery("#bwg_star").removeAttr("title");bwg_rating(data[key]["rate"],data[key]["rate_count"],data[key]["avg_rating"],key);}
spider_set_input_value('rate_ajax_task','save_hit_count');spider_rate_ajax_save('bwg_rate_form');jQuery(".bwg_image_hits span").html(++data[key]["hit_count"]);jQuery("#bwg_popup_image").attr('image_id',data[key]["id"]);jQuery(".bwg_image_title").html(jQuery('<span style="display: block;" />').html(data[key]["alt"]).text());jQuery(".bwg_image_description").html(jQuery('<span style="display: block;" />').html(data[key]["description"]).text());jQuery(".bwg_filmstrip_thumbnail").removeClass("bwg_thumb_active").addClass("bwg_thumb_deactive");jQuery("#bwg_filmstrip_thumbnail_"+key).removeClass("bwg_thumb_deactive").addClass("bwg_thumb_active");jQuery(".bwg_image_info").css("opacity",1);if(data[key]["alt"].trim()==""){if(data[key]["description"].trim()==""){jQuery(".bwg_image_info").css("opacity",0);}}
if(jQuery(".bwg_image_info_container1").css("display")!='none'){jQuery(".bwg_image_info_container1").css("display","table-cell");}
else{jQuery(".bwg_image_info_container1").css("display","none");}
if(jQuery(".bwg_image_rate_container1").css("display")!='none'){jQuery(".bwg_image_rate_container1").css("display","table-cell");}
else{jQuery(".bwg_image_rate_container1").css("display","none");}
var current_image_class=jQuery(".bwg_popup_image_spun").css("zIndex")==2?".bwg_popup_image_spun":".bwg_popup_image_second_spun";var next_image_class=current_image_class==".bwg_popup_image_second_spun"?".bwg_popup_image_spun":".bwg_popup_image_second_spun";var is_embed=data[key]['filetype'].indexOf("EMBED_")>-1?true:false;var is_embed_instagram_post=data[key]['filetype'].indexOf('INSTAGRAM_POST')>-1?true:false;var is_embed_instagram_video=data[key]['filetype'].indexOf('INSTAGRAM_VIDEO')>-1?true:false;var is_ifrem=(jQuery.inArray(data[key]['filetype'],['EMBED_OEMBED_YOUTUBE_VIDEO','EMBED_OEMBED_VIMEO_VIDEO','EMBED_OEMBED_FACEBOOK_VIDEO','EMBED_OEMBED_DAILYMOTION_VIDEO'])!==-1)?true:false;var cur_height=jQuery(current_image_class).height();var cur_width=jQuery(current_image_class).width();var innhtml='<span class="bwg_popup_image_spun1" style="display: '+(!is_embed?'table':'block')+'; width: inherit; height: inherit;"><span class="bwg_popup_image_spun2" style="display:'+(!is_embed?'table-cell':'block')+'; vertical-align: middle;text-align: center;height: 100%;">';if(!is_embed){jQuery(".bwg-loading").removeClass("hidden");jQuery("#bwg_download").removeClass("hidden");innhtml+='<img style="max-height: '+cur_height+'px; max-width: '+cur_width+'px;" class="bwg_popup_image bwg_popup_watermark" src="'+bwg_param['site_url']+jQuery('<span style="display: block;" />').html(data[key]["image_url"]).text()+'" alt="'+data[key]["alt"]+'" />';}
else{jQuery("#bwg_download").addClass("hidden");innhtml+='<span class="bwg_popup_embed bwg_popup_watermark" style="display: '+(is_ifrem?'block':'table')+'; table-layout: fixed; height: 100%;">'+(is_embed_instagram_video?'<div class="bwg_inst_play_btn_cont" onclick="bwg_play_instagram_video(this)" ><div class="bwg_inst_play"></div></div>':' ');if(is_embed_instagram_post){var post_width=0;var post_height=0;if(cur_height<cur_width+88){post_height=cur_height;post_width=post_height-88;}
else{post_width=cur_width;post_height=post_width+88;}
innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",'data-width':data[key]['image_width'],'data-height':data[key]['image_height'],frameborder:"0",allowfullscreen:"allowfullscreen",style:"width:"+post_width+"px; height:"+post_height+"px; vertical-align:middle; display:inline-block; position:relative;"});}
else{innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",frameborder:"0",allowfullscreen:"allowfullscreen",style:"display:"+(is_ifrem?'block':'table-cell')+"; width:inherit; height:inherit; vertical-align:middle;"});}
innhtml+="</span>";}
innhtml+='</span></span>';jQuery(next_image_class).html(innhtml);jQuery(next_image_class).find("img").on("load error",function(){jQuery(".bwg-loading").addClass("hidden");});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:cur_width,maxHeight:cur_height,height:'auto',});function bwg_afterload(){if(bwg_param['preload_images']){bwg_preload_images(key);}
window['bwg_'+bwg_param['bwg_image_effect']](current_image_class,next_image_class,direction);jQuery(current_image_class).find('.bwg_fb_video').each(function(){jQuery(this).attr('src','');});if(!is_embed){jQuery("#bwg_fullsize_image").attr("href",bwg_param['site_url']+data[key]['image_url']);jQuery("#bwg_download").attr("href",bwg_param['site_url']+data[key]['thumb_url'].replace('/thumb/','/.original/'));}
else{jQuery("#bwg_fullsize_image").attr("href",data[key]['image_url']);}
var image_arr=data[key]['image_url'].split("/");jQuery("#bwg_download").attr("download",image_arr[image_arr.length-1].replace(/\?bwg=(\d+)$/,""));var bwg_share_url=encodeURIComponent(bwg_param['bwg_share_url'])+"="+data[key]['id']+encodeURIComponent('#bwg'+bwg_param['gallery_id']+'/')+data[key]['id'];if(is_embed){var bwg_share_image_url=encodeURIComponent(data[key]['thumb_url']);}
else{var bwg_share_image_url=bwg_param['bwg_share_image_url']+encodeURIComponent(encodeURIComponent(data[key]['image_url']));}
bwg_share_image_url=bwg_share_image_url.replace(/%252F/g,'%2F');if(typeof addthis_share!="undefined"){addthis_share.url=bwg_share_url;}
jQuery("#bwg_facebook_a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+bwg_share_url);jQuery("#bwg_twitter_a").attr("href","https://twitter.com/share?url="+bwg_share_url);jQuery("#bwg_google_a").attr("href","https://plus.google.com/share?url="+bwg_share_url);jQuery("#bwg_pinterest_a").attr("href","http://pinterest.com/pin/create/button/?s=100&url="+bwg_share_url+"&media="+bwg_share_image_url+"&description="+data[key]['alt']+'%0A'+data[key]['description']);jQuery("#bwg_tumblr_a").attr("href","https://www.tumblr.com/share/photo?source="+bwg_share_image_url+"&caption="+data[key]['alt']+"&clickthru="+bwg_share_url);if(jQuery(".bwg_comment_container").hasClass("bwg_open")){if(data[key]["comment_count"]==0){jQuery("#bwg_added_comments").hide();}
else{jQuery("#bwg_added_comments").show();spider_set_input_value('ajax_task','display');spider_set_input_value('image_id',jQuery('#bwg_popup_image').attr('image_id'));spider_ajax_save('bwg_comment_form');}}
if(jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){if(data[key]["pricelist"]==0){bwg_popup_sidebar_close(jQuery(".bwg_ecommerce_container"));bwg_animate_image_box_for_hide_sidebar();jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_close");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_show_ecommerce);jQuery(".spider_popup_close_fullscreen").show();}
else{get_ajax_pricelist();}}
if(typeof jQuery().mCustomScrollbar!=='undefined'){if(jQuery.isFunction(jQuery().mCustomScrollbar)){jQuery(".bwg_comments").mCustomScrollbar({advanced:{updateOnContentResize:true}});}}
jQuery(".bwg_comments .mCSB_scrollTools").hide();if(bwg_param['enable_image_filmstrip']){bwg_move_filmstrip();}
bwg_resize_instagram_post();}
if(!is_embed){var cur_img=jQuery(next_image_class).find('img');cur_img.one('load',function(){bwg_afterload();}).each(function(){if(this.complete)jQuery(this).load();});}
else{bwg_afterload();}}}}
function bwg_preload_images_lightbox(key){var count_all=data.length;var preloadCount=(bwg_param['preload_images_count']==0||bwg_param['preload_images_count']>=count_all)?count_all:bwg_param['preload_images_count'];var indexedImgCount=0;for(var i=1;indexedImgCount<preloadCount;i++){var sign=1;do{var index=(key+i*sign+count_all)%count_all;if(typeof data[index]!="undefined"){var is_embed=data[index]['filetype'].indexOf("EMBED_")>-1?true:false;if(!is_embed){jQuery("<img/>").attr("src",bwg_param['site_url']+jQuery('<span style="display: block;" />').html(data[index]["image_url"]).text());}}
sign*=-1;indexedImgCount++;}
while(sign!=1);}}
function bwg_popup_sidebar_open(obj){var comment_container_width=bwg_param['lightbox_comment_width'];var lightbox_comment_pos=bwg_param['lightbox_comment_pos'];if(comment_container_width>jQuery(window).width()){comment_container_width=jQuery(window).width();obj.css({width:comment_container_width,});jQuery(".spider_popup_close_fullscreen").hide();jQuery(".spider_popup_close").hide();if(jQuery(".bwg_ctrl_btn").hasClass("fa-pause")){var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));jQuery(".bwg_play_pause").trigger(isMobile?'touchend':'click');}}
else{jQuery(".spider_popup_close_fullscreen").show();}
if(lightbox_comment_pos=='left'){obj.animate({left:0},100);}else{obj.animate({right:0},100);}}
function bwg_comment(){jQuery(".bwg_watermark").css({display:'none'});jQuery(".bwg_ecommerce_wrap").css("z-index","-1");jQuery(".bwg_comment_wrap").css("z-index","25");if(jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){bwg_popup_sidebar_close(jQuery(".bwg_ecommerce_container"));jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_close");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_show_ecommerce);}
if(jQuery(".bwg_comment_container").hasClass("bwg_open")){if(jQuery(".bwg_comment_container").attr("data-play-status")=="1"){jQuery(".bwg_ctrl_btn.bwg_play_pause").removeClass("fa-play").addClass("fa-pause").attr('title','Pause');}
bwg_popup_sidebar_close(jQuery(".bwg_comment_container"));bwg_animate_image_box_for_hide_sidebar();jQuery(".bwg_comment_wrap").css("z-index","-1");jQuery(".bwg_comment_container").attr("class","bwg_comment_container bwg_close");jQuery(".bwg_comment").attr("title",bwg_objectsL10n.bwg_show_comments);jQuery(".spider_popup_close_fullscreen").show();}
else{if(jQuery(".bwg_play_pause").hasClass("fa-pause")){jQuery(".bwg_comment_container").attr("data-play-status","1");}else{jQuery(".bwg_comment_container").attr("data-play-status","0");}
jQuery(".bwg_ctrl_btn.bwg_play_pause").removeClass("fa-pause").addClass("fa-play").attr('title','Play');bwg_popup_sidebar_open(jQuery(".bwg_comment_container"));bwg_animate_image_box_for_show_sidebar();jQuery(".bwg_comment_container").attr("class","bwg_comment_container bwg_open");jQuery(".bwg_comment").attr("title",bwg_objectsL10n.bwg_hide_comments);var cur_image_key=parseInt(jQuery("#bwg_current_image_key").val());if(typeof data[cur_image_key]!="undefined"&&data[cur_image_key]["comment_count"]!=0){jQuery("#bwg_added_comments").show();spider_set_input_value('ajax_task','display');spider_set_input_value('image_id',jQuery('#bwg_popup_image').attr('image_id'));spider_ajax_save('bwg_comment_form');}}
jQuery(".bwg_comments").mCustomScrollbar({scrollInertia:150,advanced:{updateOnContentResize:true}});}
function bwg_ecommerce(){jQuery(".bwg_watermark").css({display:'none'});jQuery(".bwg_ecommerce_wrap").css("z-index","25");jQuery(".bwg_comment_wrap").css("z-index","-1");if(jQuery(".bwg_comment_container").hasClass("bwg_open")){bwg_popup_sidebar_close(jQuery(".bwg_comment_container"));jQuery(".bwg_comment_container").attr("class","bwg_comment_container bwg_close");jQuery(".bwg_comment").attr("title",bwg_objectsL10n.bwg_show_comments);}
if(jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){bwg_popup_sidebar_close(jQuery(".bwg_ecommerce_container"));bwg_animate_image_box_for_hide_sidebar();jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_close");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_show_ecommerce);}
else{bwg_popup_sidebar_open(jQuery(".bwg_ecommerce_container"));bwg_animate_image_box_for_show_sidebar();jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_open");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_hide_ecommerce);get_ajax_pricelist();}}
function bwg_popup_sidebar_close(obj){var border_width=parseInt(obj.css('borderRightWidth'));if(!border_width){border_width=0;}
if(lightbox_comment_pos=='left'){obj.animate({left:-obj.width()-border_width},100);}else if(lightbox_comment_pos=='right'){obj.animate({right:-obj.width()-border_width},100);}}
function bwg_animate_image_box_for_hide_sidebar(){if(lightbox_comment_pos=='left'){jQuery(".bwg_image_wrap").animate({left:0,width:jQuery("#spider_popup_wrap").width()},100);}else if(lightbox_comment_pos=='right'){jQuery(".bwg_image_wrap").animate({right:0,width:jQuery("#spider_popup_wrap").width()},100);}
jQuery(".bwg_image_container").animate({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},100);jQuery(".bwg_popup_image").animate({maxWidth:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed").animate({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").animate({width:jQuery(".spider_popup_wrap").width()},100);jQuery(".bwg_filmstrip").animate({width:jQuery(".spider_popup_wrap").width()-40},100);}else if(bwg_param['width_or_height']=='height'){jQuery(".bwg_filmstrip_container").animate({height:jQuery(".spider_popup_wrap").width()},100);jQuery(".bwg_filmstrip").animate({height:jQuery(".spider_popup_wrap").width()-40},100);}
bwg_set_filmstrip_pos(jQuery(".spider_popup_wrap").width()-40);jQuery(".spider_popup_close_fullscreen").show(100);}
function bwg_animate_image_box_for_show_sidebar(){var bwg_comment_container=jQuery(".bwg_comment_container").width()||jQuery(".bwg_ecommerce_container").width();if(lightbox_comment_pos=='left'){jQuery(".bwg_image_wrap").animate({left:bwg_comment_container,width:jQuery("#spider_popup_wrap").width()-bwg_comment_container},100);}else if(lightbox_comment_pos=='right'){jQuery(".bwg_image_wrap").animate({right:bwg_comment_container,width:jQuery("#spider_popup_wrap").width()-bwg_comment_container},100);}
jQuery(".bwg_image_container").animate({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-bwg_comment_container},100);jQuery(".bwg_popup_image").animate({maxWidth:jQuery("#spider_popup_wrap").width()-bwg_comment_container-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").animate({maxWidth:jQuery("#spider_popup_wrap").width()-bwg_comment_container-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").css({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?0:bwg_comment_container)});jQuery(".bwg_filmstrip").animate({width:jQuery(".bwg_filmstrip_container").width()-40},100);bwg_set_filmstrip_pos(jQuery(".bwg_filmstrip_container").width()-40);}}
function bwg_reset_zoom(){var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var viewportmeta=document.querySelector('meta[name="viewport"]');if(isMobile){if(viewportmeta){viewportmeta.content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0';}}}
function bwg_open_with_fullscreen(){jQuery(".bwg_watermark").css({display:'none'});var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=jQuery(".bwg_comment_container").width()||jQuery(".bwg_ecommerce_container").width();}
bwg_popup_current_width=jQuery(window).width();bwg_popup_current_height=window.innerHeight;jQuery("#spider_popup_wrap").css({width:jQuery(window).width(),height:window.innerHeight,left:0,top:0,margin:0,zIndex:100002});jQuery(".bwg_image_wrap").css({width:(jQuery(window).width()-comment_container_width)});jQuery(".bwg_image_container").css({height:(bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)),width:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)});jQuery(".bwg_popup_image").css({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_video").css({width:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").css({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)});jQuery(".bwg_filmstrip").css({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40});bwg_set_filmstrip_pos(jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40);}else{jQuery(".bwg_filmstrip_container").css({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)});jQuery(".bwg_filmstrip").css({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40});bwg_set_filmstrip_pos(window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40);}
jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-small");jQuery(".bwg_resize-full").attr("title",bwg_objectsL10n.bwg_restore);jQuery(".spider_popup_close").attr("class","bwg_ctrl_btn spider_popup_close_fullscreen");}
function bwg_resize_full(){jQuery(".bwg_watermark").css({display:'none'});var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=jQuery(".bwg_comment_container").width()||jQuery(".bwg_ecommerce_container").width();}
if(jQuery(".bwg_resize-full").hasClass("fa-resize-small")){if(jQuery(window).width()>bwg_param['image_width']){bwg_popup_current_width=bwg_param['image_width'];}
if(window.innerHeight>bwg_param['image_height']){bwg_popup_current_height=bwg_param['image_height'];}
jQuery("#spider_popup_wrap").animate({width:bwg_popup_current_width,height:bwg_popup_current_height,left:'50%',top:'50%',marginLeft:-bwg_popup_current_width/2,marginTop:-bwg_popup_current_height/2,zIndex:100002},500);jQuery(".bwg_image_wrap").animate({width:bwg_popup_current_width-comment_container_width},500);jQuery(".bwg_image_container").animate({height:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0),width:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},500);jQuery(".bwg_popup_image").animate({maxWidth:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_change_watermark_container();if((jQuery("#spider_popup_wrap").width()<jQuery(window).width())){if(jQuery("#spider_popup_wrap").height()<window.innerHeight){jQuery(".spider_popup_close_fullscreen").attr("class","spider_popup_close");}}}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").animate({maxWidth:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();if(jQuery("#spider_popup_wrap").width()<jQuery(window).width()){if(jQuery("#spider_popup_wrap").height()<window.innerHeight){jQuery(".spider_popup_close_fullscreen").attr("class","spider_popup_close");}}}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").animate({width:bwg_popup_current_width-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({width:bwg_popup_current_width-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(bwg_popup_current_width-40);}else{jQuery(".bwg_filmstrip_container").animate({height:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({height:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(bwg_popup_current_height-40);}
jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-full");jQuery(".bwg_resize-full").attr("title","<?php echo __('Maximize', BWG()->prefix); ?>");}
else{bwg_popup_current_width=jQuery(window).width();bwg_popup_current_height=window.innerHeight;jQuery("#spider_popup_wrap").animate({width:jQuery(window).width(),height:window.innerHeight,left:0,top:0,margin:0,zIndex:100002},500);jQuery(".bwg_image_wrap").animate({width:(jQuery(window).width()-comment_container_width)},500);jQuery(".bwg_image_container").animate({height:(bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)),width:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},500);jQuery(".bwg_popup_image").animate({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").animate({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").animate({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40);}else{jQuery(".bwg_filmstrip_container").animate({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40);}
jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-small");jQuery(".bwg_resize-full").attr("title","<?php echo __('Restore', BWG()->prefix); ?>");jQuery(".spider_popup_close").attr("class","bwg_ctrl_btn spider_popup_close_fullscreen");}}
function bwg_popup_resize_lightbox(){if(typeof jQuery().fullscreen!=='undefined'){if(jQuery.isFunction(jQuery().fullscreen)){if(!jQuery.fullscreen.isFullScreen()){jQuery(".bwg_resize-full").show();if(!jQuery('.bwg_resize-full').hasClass('fa-resize-small')){jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-full");}
jQuery(".bwg_resize-full").attr("title",bwg_objectsL10n.bwg_maximize);jQuery(".bwg_fullscreen").attr("class","bwg_ctrl_btn bwg_fullscreen fa fa-fullscreen");jQuery(".bwg_fullscreen").attr("title",bwg_objectsL10n.fulscreen);}}}
var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=bwg_param['lightbox_comment_width'];}
if(comment_container_width>jQuery(window).width()){comment_container_width=jQuery(window).width();jQuery(".bwg_comment_container").css({width:comment_container_width});jQuery(".bwg_ecommerce_container").css({width:comment_container_width});jQuery(".spider_popup_close_fullscreen").hide();}
else{jQuery(".spider_popup_close_fullscreen").show();}
if(!(!(window.innerHeight>bwg_param['image_height'])||!(bwg_param['open_with_fullscreen']!=1))&&!jQuery('.bwg_resize-full').hasClass('fa-resize-small')){jQuery("#spider_popup_wrap").css({height:bwg_param['image_height'],top:'50%',marginTop:-bwg_param['image_height']/2,zIndex:100002});jQuery(".bwg_image_container").css({height:(bwg_param['image_height']-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0))});jQuery(".bwg_popup_image").css({maxHeight:bwg_param['image_height']-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxHeight:bwg_param['image_height']-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});if(bwg_param['filmstrip_direction']=='vertical'){jQuery(".bwg_filmstrip_container").css({height:bwg_param['image_height']});jQuery(".bwg_filmstrip").css({height:(bwg_param['image_height']-40)})}
bwg_popup_current_height=bwg_param['image_height'];}
else{jQuery("#spider_popup_wrap").css({height:window.innerHeight,top:0,marginTop:0,zIndex:100002});jQuery(".bwg_image_container").css({height:(window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0))});jQuery(".bwg_popup_image").css({maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});if(bwg_param['filmstrip_direction']=='vertical'){jQuery(".bwg_filmstrip_container").css({height:(window.innerHeight)});jQuery(".bwg_filmstrip").css({height:(window.innerHeight-40)});}
bwg_popup_current_height=window.innerHeight;}
if(!(!(jQuery(window).width()>=bwg_param['image_width'])||!(bwg_param['open_with_fullscreen']!=1))){jQuery("#spider_popup_wrap").css({width:bwg_param['image_width'],left:'50%',marginLeft:-bwg_param['image_width']/2,zIndex:100002});jQuery(".bwg_image_wrap").css({width:bwg_param['image_width']-comment_container_width});jQuery(".bwg_image_container").css({width:(bwg_param['image_width']-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width)});jQuery(".bwg_popup_image").css({maxWidth:bwg_param['image_width']-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:bwg_param['image_width']-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});if(bwg_param['filmstrip_direction']=='horizontal'){jQuery(".bwg_filmstrip_container").css({width:bwg_param['image_width']-comment_container_width});jQuery(".bwg_filmstrip").css({width:(bwg_param['image_width']-comment_container_width-40)});}
bwg_popup_current_width=bwg_param['image_width'];}
else{jQuery("#spider_popup_wrap").css({width:jQuery(window).width(),left:0,marginLeft:0,zIndex:100002});jQuery(".bwg_image_wrap").css({width:(jQuery(window).width()-comment_container_width)});jQuery(".bwg_image_container").css({width:(jQuery(window).width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width)});jQuery(".bwg_popup_image").css({maxWidth:jQuery(window).width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:jQuery(window).width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});if(bwg_param['filmstrip_direction']=='horizontal'){jQuery(".bwg_filmstrip_container").css({width:(jQuery(window).width()-comment_container_width)});jQuery(".bwg_filmstrip").css({width:(jQuery(window).width()-comment_container_width-40)});}
bwg_popup_current_width=jQuery(window).width();}
bwg_resize_instagram_post();bwg_change_watermark_container();if(!(!(window.innerHeight>bwg_param['image_height']-2*bwg_param['lightbox_close_btn_top'])||!(jQuery(window).width()>=bwg_param['image_width']-2*bwg_param['lightbox_close_btn_right'])||!(bwg_param['open_with_fullscreen']!=1))){jQuery(".spider_popup_close_fullscreen").attr("class","spider_popup_close");}
else{if(!(!(jQuery("#spider_popup_wrap").width()<jQuery(window).width())||!(jQuery("#spider_popup_wrap").height()<jQuery(window).height()))){jQuery(".spider_popup_close").attr("class","bwg_ctrl_btn spider_popup_close_fullscreen");}}
if(bwg_param['lightbox_ctrl_btn_pos']=='bottom'){if(jQuery(".bwg_toggle_container i").hasClass('fa-angle-down')){jQuery(".bwg_toggle_container").css("bottom",jQuery(".bwg_ctrl_btn_container").height()+"px");}}
if(bwg_param['lightbox_ctrl_btn_pos']=='top'){if(jQuery(".bwg_toggle_container i").hasClass('fa-angle-up')){jQuery(".bwg_toggle_container").css("top",jQuery(".bwg_ctrl_btn_container").height()+"px");}}};
function spider_display_embed(embed_type,file_url,embed_id,attrs){var html_to_insert='';switch(embed_type){case'EMBED_OEMBED_YOUTUBE_VIDEO':var oembed_youtube_html='<iframe ';if(embed_id!=''){oembed_youtube_html+=' src="'+'//www.youtube.com/embed/'+embed_id+'?enablejsapi=1&wmode=transparent"';}
for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_youtube_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_youtube_html+=" ></iframe>";html_to_insert+=oembed_youtube_html;break;case'EMBED_OEMBED_VIMEO_VIDEO':var oembed_vimeo_html='<iframe ';if(embed_id!=''){oembed_vimeo_html+=' src="'+'//player.vimeo.com/video/'+embed_id+'?enablejsapi=1"';}
for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_vimeo_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_vimeo_html+=" ></iframe>";html_to_insert+=oembed_vimeo_html;break;case'EMBED_OEMBED_FLICKR_IMAGE':var oembed_flickr_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_flickr_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_flickr_html+=" >";if(embed_id!=''){oembed_flickr_html+='<img src="'+embed_id+'"'+' style="'+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'auto !important'+'; height:'+'auto !important'+';">';}
oembed_flickr_html+="</div>";html_to_insert+=oembed_flickr_html;break;case'EMBED_OEMBED_FLICKR_VIDEO':break;case'EMBED_OEMBED_INSTAGRAM_VIDEO':var oembed_instagram_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_instagram_html+=" >";if(embed_id!=''){oembed_instagram_html+='<video style="width:auto !important; height:auto !important; max-width:100% !important; max-height:100% !important; margin:0 !important;" controls>'+'<source src="'+embed_id+'" type="video/mp4"> Your browser does not support the video tag. </video>';}
oembed_instagram_html+="</div>";html_to_insert+=oembed_instagram_html;break;case'EMBED_OEMBED_INSTAGRAM_IMAGE':var oembed_instagram_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_instagram_html+=" >";if(embed_id!=''){oembed_instagram_html+='<img src="//instagram.com/p/'+embed_id+'/media/?size=l"'+' style=" '+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'auto'+'; height:'+'auto'+';">';}
oembed_instagram_html+="</div>";html_to_insert+=oembed_instagram_html;break;case'EMBED_OEMBED_INSTAGRAM_POST':var oembed_instagram_html='<div ';var id='';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';if(attr=='CLASS'||attr=='class'||attr=='Class'){obj_class=attrs[attr];}}}}
oembed_instagram_html+=" >";if(embed_id!=''){oembed_instagram_html+='<iframe class="inner_instagram_iframe_'+obj_class+'" src="//instagr.am/p/'+embed_id+'/embed/?enablejsapi=1"'+' style="'+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'100%'+'; height:'+'100%'+'; margin:0'+'; display:table-cell; vertical-align:middle;"'+'frameborder="0" scrolling="no" allowtransparency="false" allowfullscreen'+'></iframe>';}
oembed_instagram_html+="</div>";html_to_insert+=oembed_instagram_html;break;case'EMBED_OEMBED_FACEBOOK_IMAGE':var oembed_facebook_html='<span ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_facebook_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_facebook_html+=" >";if(embed_id!=''){oembed_facebook_html+='<img src="'+file_url+'"'+' style=" '+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'auto'+'; height:'+'100%'+';">';}
oembed_facebook_html+="</span>";html_to_insert+=oembed_facebook_html;break;case'EMBED_OEMBED_FACEBOOK_VIDEO':var oembed_facebook_video_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_facebook_video_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_facebook_video_html+=" >";if(embed_id!=''){oembed_facebook_video_html+='<iframe src="//www.facebook.com/video/embed?video_id='+file_url+'&enablejsapi=1&wmode=transparent"'+' style="'+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'100%'+'; height:'+'100%'+'; margin:0'+'; display:table-cell; vertical-align:middle;"'+'frameborder="0" class="bwg_fb_video" scrolling="no" allowtransparency="false" allowfullscreen'+'></iframe>';}
oembed_facebook_video_html+="</div>";html_to_insert+=oembed_facebook_video_html;break;case'EMBED_OEMBED_DAILYMOTION_VIDEO':var oembed_dailymotion_html='<iframe ';if(embed_id!=''){oembed_dailymotion_html+=' src="'+'//www.dailymotion.com/embed/video/'+embed_id+'?api=postMessage"';}
for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_dailymotion_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_dailymotion_html+=" ></iframe>";html_to_insert+=oembed_dailymotion_html;break;case'EMBED_OEMBED_IMGUR':var oembed_imgur_html='<div ';for(attr in attrs){if(!(/src/i).test(attr)){if(attr!=''&&attrs[attr]!=''){oembed_instagram_html+=' '+attr+'="'+attrs[attr]+'"';}}}
oembed_imgur_html+=" >";if(embed_id!=''){oembed_imgur_html+='<img src="'+embed_id+'"'+' style="'+'max-width:'+'100%'+" !important"+'; max-height:'+'100%'+" !important"+'; width:'+'auto'+'; height:'+'auto'+" !important"+';">';}
oembed_imgur_html+="</div>";html_to_insert+=oembed_imgur_html;break;default:;}
return html_to_insert;}
function bwg_add_instagram_gallery(instagram_access_token,from_popup){from_popup=typeof from_popup!=='undefined'?from_popup:false;if(from_popup===true){if(bwg_check_instagram_gallery_input(instagram_access_token,from_popup)){return false;}
var whole_post='0';if(jQuery("input[name=popup_instagram_post_gallery]:checked").val()==1){whole_post='1';};var instagram_user=encodeURI(jQuery("#popup_instagram_gallery_source").val());var autogallery_image_number=encodeURI(jQuery("#popup_instagram_image_number").val());}
else{if(bwg_check_instagram_gallery_input(instagram_access_token,from_popup)){return false;}
if(!bwg_check_gallery_empty(false,true)){return false;}
var whole_post='0';if(jQuery("input[name=instagram_post_gallery]:checked").val()==1){whole_post='1';}
var instagram_user=encodeURI(jQuery("#gallery_source").val());var update_flag=jQuery("input[name=update_flag]:checked").val();var autogallery_image_number=encodeURI(jQuery("#autogallery_image_number").val());}
jQuery('#bulk_embed').hide();jQuery('#loading_div').show();var filesValid=[];var data={'action':'addInstagramGallery','instagram_user':instagram_user,'instagram_access_token':instagram_access_token,'whole_post':whole_post,'autogallery_image_number':autogallery_image_number,'update_flag':update_flag,'async':true};jQuery.post(ajax_url,data,function(response){if(response==false){alert('Error: cannot get response from the server.');jQuery('#loading_div').hide();if(from_popup){jQuery('#bulk_embed').show();}
return false;}
else{var index_start=response.indexOf("WD_delimiter_start");var index_end=response.indexOf("WD_delimiter_end");if(index_start==-1||index_end==-1){jQuery('#loading_div').hide();if(from_popup){jQuery('#bulk_embed').show();}
return false;}
response=response.substring(index_start+18,index_end);response_JSON=jQuery.parseJSON(response);if(!response_JSON){alert('There is some error. Cannot add Instagram gallery.');jQuery('#loading_div').hide();if(from_popup){jQuery('#bulk_embed').show();}
return false;}
else{if(response_JSON[0]=='error'){alert('Error: '+jQuery.parseJSON(response)[1]);jQuery('#loading_div').hide();if(from_popup){jQuery('#bulk_embed').show();}
return false;}
else{var len=response_JSON.length;for(var i=1;i<=len;i++){if(response_JSON[len-i]!=false){var item=response_JSON[len-i];filesValid.push(item);}}
bwg_add_image(filesValid);if(!from_popup){bwg_gallery_update_flag();jQuery('#tr_instagram_gallery_add_button').hide();}
jQuery('#loading_div').hide();if(from_popup){jQuery('.opacity_bulk_embed').hide();}
return"ok";}}}});};
var bwg_param;var bwg=0;var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var bwg_click=isMobile?'touchend':'click';var bwg_params=[];var bwg_params_ib=[];var bwg_params_carousel=[];jQuery.fn.extend({hideShow:function(callback){this.checkForVisiblilityChange(callback);return this;},checkForVisiblilityChange:function(callback){if(!(this.length>>>0)){return undefined;}
var elem,i=0;while((elem=this[i++])){var curValue=jQuery(elem).is(":visible");(elem.lastVisibility===undefined)&&(elem.lastVisibility=curValue);(curValue!==elem.lastVisibility)&&(elem.lastVisibility=curValue,(typeof callback==="function")&&(callback.apply(this,[new jQuery.Event('visibilityChanged'),curValue?"shown":"hidden"])),(function(elem,curValue){setTimeout(function(){jQuery(elem).trigger('visibilityChanged',[curValue?"shown":"hidden"])},10)})(elem,curValue))}
(function(that,a){setTimeout(function(){that.checkForVisiblilityChange.apply(that,a);},10)})(this,arguments)}});jQuery(document).ajaxComplete(function(){setTimeout(function(){bwg_main_ready();});});jQuery(document).ready(function(){document.addEventListener("visibilitychange",function(){var bwg_error=false;jQuery(".bwg_container").each(function(){if(jQuery(this).find(".wd_error").length>0){bwg_error=true;}});if(!bwg_error){if(document.visibilityState=='visible'){bwg_slideshow_focus();}
if(document.visibilityState=='hidden'){bwg_slideshow_blur();}}});bwg_main_ready();jQuery(this).hideShow(function(event,visibility){if(visibility=='shown'){bwg_main_ready();}});});function bwg_main_ready(){jQuery(".bwg_container").each(function(){if(jQuery(this).find(".wd_error").length>0){var bwg=jQuery(this).data("bwg");bwg_container_loaded(bwg);}});bwg_document_ready();jQuery(".bwg-thumbnails, .bwg-masonry-thumbnails, .bwg-album-thumbnails").each(function(){bwg_all_thumnails_loaded(this);});jQuery(".bwg-mosaic-thumbnails").each(function(){bwg_thumbnail_mosaic(this);});bwg_slideshow_ready();bwg_carousel_ready();bwg_carousel_onload();bwg_image_browser_ready();}
function bwg_resize_search_line(){jQuery('.search_line').each(function(){var element=jQuery(this);if(element.width()<410){element.addClass('bwg-search-line-responsive');}
else{element.removeClass('bwg-search-line-responsive');}});}
jQuery(window).on("resize",function(){var bwg_error=false;jQuery(".bwg_container").each(function(){if(jQuery(this).find(".wd_error").length>0){bwg_error=true;}});if(!bwg_error){jQuery(".bwg-thumbnails, .bwg-masonry-thumbnails, .bwg-album-thumbnails").each(function(){bwg_all_thumnails_loaded(this);});bwg_slideshow_resize();bwg_image_browser_resize();bwg_carousel_resize();bwg_blog_style_resize();jQuery(".bwg-mosaic-thumbnails").each(function(){bwg_thumbnail_mosaic(this);});}
bwg_resize_search_line();});jQuery(window).on("load",function(){var bwg_error=false;jQuery(".bwg_container").each(function(){if(jQuery(this).find(".wd_error").length>0){bwg_error=true;}});if(!bwg_error){bwg_blog_style_onload();jQuery(".bwg-mosaic-thumbnails").each(function(){bwg_thumbnail_mosaic(this);});}});jQuery(".bwg-masonry-thumb-span img, .bwg-mosaic-thumb-span img").on("error",function(){jQuery(this).height(100);jQuery(this).width(100);});function bwg_slideshow_resize(){jQuery(".bwg_slideshow").each(function(){bwg=jQuery(this).attr('data-bwg');if(jQuery("#bwg_slideshow_image_container_"+bwg).length){bwg_params[bwg]=JSON.parse(jQuery("#bwg_slideshow_image_container_"+bwg).attr("data-params"));bwg_params[bwg]['event_stack']=[];bwg_popup_resize(bwg);}});}
function bwg_blog_style_resize(){jQuery(".bwg_blog_style").each(function(){bwg=jQuery(this).attr('data-bwg');jQuery('.bwg_embed_frame_16x9_'+bwg).each(function(e){jQuery(this).width(jQuery(this).parent().width());jQuery(this).height(jQuery(this).width()*0.5625);});jQuery('.bwg_embed_frame_instapost_'+bwg).each(function(e){jQuery(this).width(jQuery(this).parent().width());jQuery(this).height((jQuery(this).width()-16)*jQuery(this).attr('data-height')/jQuery(this).attr('data-width')+96);});})}
function bwg_blog_style_onload(){jQuery(".bwg_blog_style").each(function(){bwg=jQuery(this).attr('data-bwg');var data_right_click=jQuery("#bwg_blog_style_"+bwg);jQuery('.bwg_embed_frame_16x9_'+bwg).each(function(e){if(jQuery('.bwg_blog_style_image_'+bwg).find('.fluid-width-video-wrapper').length){jQuery('.fluid-width-video-wrapper').removeAttr('style');var content=jQuery(this).parents('.bwg_blog_style_image_'+bwg).find('.fluid-width-video-wrapper').contents();jQuery(this).parents('.fluid-width-video-wrapper').replaceWith(content);}
jQuery(this).width(jQuery(this).parents('.bwg_blog_style_image_'+bwg).width());jQuery(this).height(jQuery(this).width()*0.5625);});jQuery('.bwg_embed_frame_instapost_'+bwg).each(function(e){jQuery(this).width(jQuery(this).parents('.bwg_blog_style_image_'+bwg).width());jQuery(this).height((jQuery(this).width()-16)*jQuery(this).attr('data-height')/jQuery(this).attr('data-width')+96);});bwg_container_loaded(bwg);});}
function bwg_blog_style_ready(){jQuery(".bwg_blog_style").each(function(){var bwg=jQuery(this).attr('data-bwg');bwg_container_loaded(bwg);var bwg_touch_flag=false;jQuery(this).find('.bwg_lightbox_'+bwg).on('click',function(){var image_id=jQuery(this).attr('data-image-id');jQuery('#bwg_blog_style_share_buttons_'+image_id).removeAttr('data-open-comment');if(!bwg_touch_flag){bwg_touch_flag=true;setTimeout(function(){bwg_touch_flag=false;},100);bwg_gallery_box(image_id,jQuery(this).closest('.bwg_container'));return false;}});jQuery(".bwg_lightbox_"+bwg+" .bwg_ecommerce").on("click",function(event){event.stopPropagation();if(!bwg_touch_flag){bwg_touch_flag=true;setTimeout(function(){bwg_touch_flag=false;},100);bwg_gallery_box(jQuery(this).attr("data-image-id"),jQuery(this).closest('.bwg_container'),true);return false;}});jQuery('div[id^="bwg_container"]').each(function(){var bwg_container=jQuery(this);var search_tags=bwg_container.find('.search_tags');if(search_tags.length){search_tags.SumoSelect({triggerChangeCombined:true,placeholder:bwg_objectsL10n.bwg_select_tag,search:1,searchText:bwg_objectsL10n.bwg_search,forceCustomRendering:true,noMatch:bwg_objectsL10n.bwg_tag_no_match,captionFormatAllSelected:bwg_objectsL10n.bwg_all_tags_selected,captionFormat:'{0} '+bwg_objectsL10n.bwg_tags_selected,});}
var bwg_order=bwg_container.find('.bwg_order');if(bwg_order.length){bwg_order.SumoSelect({triggerChangeCombined:true,forceCustomRendering:true,});}});var bwg_hash=window.location.hash.substring(1);if(bwg_hash){if(bwg_hash.indexOf("bwg")!="-1"){bwg_hash_array=bwg_hash.replace("bwg","").split("/");if(bwg_hash_array[0]=="<?php echo $params_array['gallery_id']; ?>"){bwg_gallery_box(bwg_hash_array[1]);}}}});}
function bwg_slideshow_focus(){jQuery(".bwg_slideshow").each(function(){bwg=jQuery(this).attr('data-bwg');if(jQuery("#bwg_slideshow_image_container_"+bwg).length){bwg_params[bwg]=JSON.parse(jQuery("#bwg_slideshow_image_container_"+bwg).attr("data-params"));bwg_params[bwg]['event_stack']=[];window.clearInterval(window['bwg_playInterval'+bwg]);if(!jQuery(".bwg_ctrl_btn_"+bwg).hasClass("fa-play")){bwg_play(bwg_params[bwg]['data'],bwg);}}});}
function bwg_slideshow_blur(){jQuery(".bwg_slideshow").each(function(){bwg=jQuery(this).attr('data-bwg');if(jQuery("#bwg_slideshow_image_container_"+bwg).length){bwg_params[bwg]=JSON.parse(jQuery("#bwg_slideshow_image_container_"+bwg).attr("data-params"));bwg_params[bwg]['event_stack']=[];window.clearInterval(window['bwg_playInterval'+bwg]);}});}
function bwg_carousel_ready(){jQuery(".bwg-carousel").each(function(){var bwg=jQuery(this).data("bwg");bwg_params_carousel[bwg]=[];bwg_params_carousel[bwg]['bwg_currentCenterNum']=1;bwg_params_carousel[bwg]['bwg_currentlyMoving']=false;bwg_params_carousel[bwg]['data']=[];jQuery("#spider_carousel_left-ico_"+bwg).on("click",function(){bwg_params_carousel[bwg]['carousel'].prev();});jQuery("#spider_carousel_right-ico_"+bwg).on("click",function(){bwg_params_carousel[bwg]['carousel'].next();});if(parseInt(bwg_params_carousel[bwg]['carousel_enable_autoplay'])){jQuery(".bwg_carousel_play_pause_"+bwg).attr("title",bwg_objectsL10n.pause);jQuery(".bwg_carousel_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_carousel_play_pause_"+bwg+" fa fa-pause");}
jQuery(".bwg_carousel_play_pause_"+bwg).on(bwg_click,function(){if(jQuery(".bwg_ctrl_btn_"+bwg).hasClass("fa-play")){jQuery(".bwg_carousel_play_pause_"+bwg).attr("title",bwg_objectsL10n.pause);jQuery(".bwg_carousel_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_carousel_play_pause_"+bwg+" fa fa-pause");bwg_params_carousel[bwg]['carousel'].start();}
else{jQuery(".bwg_carousel_play_pause_"+bwg).attr("title",bwg_objectsL10n.play);jQuery(".bwg_carousel_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_carousel_play_pause_"+bwg+" fa fa-play");bwg_params_carousel[bwg]['carousel'].pause();}});if(typeof jQuery().swiperight!=='undefined'){if(jQuery.isFunction(jQuery().swiperight)){jQuery("#bwg_container1_"+bwg).swiperight(function(){bwg_params_carousel[bwg]['carousel'].prev();});}}
if(typeof jQuery().swipeleft!=='undefined'){if(jQuery.isFunction(jQuery().swipeleft)){jQuery("#bwg_container1_"+bwg).swipeleft(function(){bwg_params_carousel[bwg]['carousel'].next();});}}});}
function bwg_carousel_resize(){jQuery(".bwg-carousel").each(function(){var bwg=jQuery(this).data("bwg");bwg_carousel_params(bwg);bwg_params_carousel[bwg]['carousel'].pause();bwg_carousel_watermark(bwg);if(!jQuery(".bwg_ctrl_btn_"+bwg).hasClass("fa-play")){bwg_params_carousel[bwg]['carousel'].start();}});}
function bwg_carousel_onload(){jQuery(".bwg-carousel").each(function(){var bwg=jQuery(this).data("bwg");bwg_params_carousel[bwg]=jQuery(this).data("params");bwg_carousel_watermark(bwg);bwg_carousel_params(bwg);bwg_container_loaded(bwg);});}
function bwg_carousel_params(bwg){var parent_width=jQuery("#bwg_container1_"+bwg).parent().width();var par=1;if(parent_width<bwg_params_carousel[bwg]['carousel_r_width']){par=parent_width/bwg_params_carousel[bwg]['carousel_r_width'];}
else{parent_width=bwg_params_carousel[bwg]['carousel_r_width'];}
if(bwg_params_carousel[bwg]['carousel_image_column_number']>bwg_params_carousel[bwg]['count']){bwg_params_carousel[bwg]['carousel_image_column_number']=bwg_params_carousel[bwg]['count'];}
jQuery(".bwg_carousel_play_pause_"+bwg).css({display:(!parseInt(bwg_params_carousel[bwg]['carousel_play_pause_butt'])?'none':'')});if(!parseInt(bwg_params_carousel[bwg]['carousel_prev_next_butt'])){jQuery("#bwg_carousel-left"+bwg).css({display:'none'});jQuery("#bwg_carousel-right"+bwg).css({display:'none'});}
else{jQuery("#bwg_carousel-right"+bwg).css({display:''});jQuery("#bwg_carousel-left"+bwg).css({display:''});}
jQuery(".inner_instagram_iframe_bwg_embed_frame_"+bwg).each(function(){var parent_container=jQuery(this).parent();if(bwg_params_carousel[bwg]['image_height']/(parseInt(parent_container.attr('data-height'))+96)<bwg_params_carousel[bwg]['image_width']/parseInt(parent_container.attr('data-width'))){parent_container.height(bwg_params_carousel[bwg]['image_height']*par);parent_container.width((parent_container.height()-96)*parent_container.attr('data-width')/parent_container.attr('data-height')+16);}
else{parent_container.width(bwg_params_carousel[bwg]['image_width']*par);parent_container.height((parent_container.width()-16)*parent_container.attr('data-height')/parent_container.attr('data-width')+96);}});jQuery(".bwg_carousel_image_container_"+bwg).css({width:bwg_params_carousel[bwg]['image_width']*par,height:bwg_params_carousel[bwg]['image_height']*par});jQuery(".bwg_carousel_watermark_text_"+bwg+", .bwg_carousel_watermark_text_"+bwg+":hover").css({fontSize:((parent_width)*(bwg_params_carousel[bwg]['watermark_font_size']/bwg_params_carousel[bwg]['image_width'])*par)});jQuery(".bwg_carousel-image "+bwg).css({width:bwg_params_carousel[bwg]['image_width']*par,height:bwg_params_carousel[bwg]['image_height']*par});jQuery(".bwg_carousel_watermark_container_"+bwg).css({width:bwg_params_carousel[bwg]['image_width']*par,height:bwg_params_carousel[bwg]['image_height']*par});jQuery(".bwg_carousel_embed_video_"+bwg).css({width:bwg_params_carousel[bwg]['image_width']*par,height:bwg_params_carousel[bwg]['image_height']*par});jQuery(".bwg_carousel_watermark_spun_"+bwg).css({width:bwg_params_carousel[bwg]['image_width']*par,height:bwg_params_carousel[bwg]['image_height']*par});jQuery(".bwg_carousel-container"+bwg).css({width:parent_width,height:bwg_params_carousel[bwg]['image_height']*par});jQuery(".bwg_video_hide"+bwg).css({width:bwg_params_carousel[bwg]['image_width']*par,height:bwg_params_carousel[bwg]['image_height']*par});bwg_params_carousel[bwg]['carousel']=jQuery("#bwg_carousel"+bwg).featureCarousel({containerWidth:parent_width*par,containerHeight:bwg_params_carousel[bwg]['image_height']*par,fit_containerWidth:bwg_params_carousel[bwg]['carousel_fit_containerWidth'],largeFeatureWidth:bwg_params_carousel[bwg]['image_width']*par,largeFeatureHeight:bwg_params_carousel[bwg]['image_height']*par,smallFeaturePar:bwg_params_carousel[bwg]['carousel_image_par'],currentlyMoving:false,startingFeature:bwg_params_carousel[bwg]['bwg_currentCenterNum'],featuresArray:[],timeoutVar:null,rotationsRemaining:0,autoPlay:bwg_params_carousel[bwg]['car_inter']*1000,interval:bwg_params_carousel[bwg]['carousel_interval']*1000,imagecount:bwg_params_carousel[bwg]['carousel_image_column_number'],bwg_number:bwg,enable_image_title:bwg_params_carousel[bwg]['enable_image_title'],borderWidth:0});}
function bwg_carousel_watermark(bwg){var par=1;var parent_width=jQuery("#bwg_container1_"+bwg).parent().width();if(parent_width<bwg_params_carousel[bwg]['carousel_r_width']){par=parent_width/bwg_params_carousel[bwg]['carousel_r_width'];}
if(parent_width>=bwg_params_carousel[bwg]['image_width']){bwg_carousel_change_watermark_container(bwg);jQuery("#bwg_carousel_play_pause-ico_"+bwg).css({fontSize:bwg_params_carousel[bwg]['carousel_play_pause_btn_size']});jQuery(".bwg_carousel_watermark_image_"+bwg).css({maxWidth:bwg_params_carousel[bwg]['watermark_width']*par,maxHeight:bwg_params_carousel[bwg]['watermark_height']*par});jQuery(".bwg_carousel_watermark_text_"+bwg+", .bwg_carousel_watermark_text_"+bwg+":hover").css({fontSize:par*bwg_params_carousel[bwg]['watermark_font_size']});}
else{var img_width=bwg_params_carousel[bwg]['image_width']/par;bwg_carousel_change_watermark_container(bwg);jQuery("#bwg_carousel_play_pause-ico_"+bwg).css({fontSize:(parent_width*bwg_params_carousel[bwg]['carousel_play_pause_btn_size']/img_width)});jQuery(".bwg_carousel_watermark_image_"+bwg).css({maxWidth:(parent_width*bwg_params_carousel[bwg]['watermark_width']/img_width),maxHeight:(parent_width*bwg_params_carousel[bwg]['watermark_height']/img_width)});jQuery(".bwg_carousel_watermark_text_"+bwg+", .bwg_carousel_watermark_text_"+bwg+":hover").css({fontSize:(parent_width*bwg_params_carousel[bwg]['watermark_font_size']/img_width)});}}
function bwg_carousel_change_watermark_container(bwg){jQuery(".bwg_carousel"+bwg).children().each(function(){if(jQuery(this).css("zIndex")==2){var bwg_current_image_span=jQuery(this).find("img");if(!bwg_current_image_span.length){bwg_current_image_span=jQuery(this).find("iframe");}
var width=bwg_current_image_span.width();var height=bwg_current_image_span.height();jQuery(".bwg_carousel_watermark_spun_"+bwg).width(width);jQuery(".bwg_carousel_watermark_spun_"+bwg).height(height);jQuery(".bwg_carousel_title_spun_"+bwg).width(width);jQuery(".bwg_carouel_title_spun_"+bwg).height(height);jQuery(".bwg_carousel_watermark_"+bwg).css({display:'none'});}});}
function bwg_carousel_preload(bwg,right){var preload_images_count=1;var selector=jQuery(".bwg_carousel_preload").get();if(!right){selector.reverse();}
var i=0;jQuery(selector).each(function(){if(++i>preload_images_count){return false;}
if(jQuery(this).parent().hasClass('bwg_carousel_embed_video_'+bwg)||jQuery(this).parent().hasClass('bwg_embed_frame_'+bwg)||jQuery(this).parent().hasClass('bwg_carousel_video')){jQuery(this).attr('src',jQuery(this).attr('data-src'));jQuery(this).on("load",function(){jQuery(this).removeClass('bwg_carousel_preload');});if(jQuery(this).parent().hasClass('bwg_carousel_video')){jQuery(".bwg_carousel_video")[0].load();jQuery(this).parent().parent().removeClass('bwg_carousel_preload');}
jQuery(this).removeAttr('data-src');}
else{jQuery(this).css({'background-image':"url('"+jQuery(this).attr('data-background')+"')",'height':'100%',});jQuery(this).removeClass('bwg_carousel_preload');jQuery(this).removeAttr('data-background');}});}
function bwg_slideshow_ready(){jQuery(".bwg_slideshow").each(function(){var bwg=jQuery(this).data("bwg");if(jQuery("#bwg_slideshow_image_container_"+bwg).length){bwg_params[bwg]=JSON.parse(jQuery("#bwg_slideshow_image_container_"+bwg).attr("data-params"));bwg_params[bwg]['event_stack']=[];bwg_container_loaded(bwg);var data=bwg_params[bwg]['data'];if(typeof jQuery().swiperight!=='undefined'){if(jQuery.isFunction(jQuery().swiperight)){jQuery("#bwg_container1_"+bwg).swiperight(function(){bwg_change_image(parseInt(jQuery("#bwg_current_image_key_"+bwg).val()),(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())-bwg_iterator(bwg))>=0?(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())-bwg_iterator(bwg))%data.length:data.length-1,data,'',bwg);return false;});}}
if(typeof jQuery().swipeleft!=='undefined'){if(jQuery.isFunction(jQuery().swipeleft)){jQuery("#bwg_container1_"+bwg).swipeleft(function(){bwg_change_image(parseInt(jQuery("#bwg_current_image_key_"+bwg).val()),(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())+bwg_iterator(bwg)%data.length),data,'',bwg);return false;});}}
var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var bwg_click=isMobile?'touchend':'click';bwg_popup_resize(bwg);jQuery(".bwg_slideshow_watermark_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_title_text_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_description_text_"+bwg).css({display:'none'});setTimeout(function(){bwg_change_watermark_container(bwg);},500);if(bwg_params[bwg]['filmstrip_direction']=='horizontal'){jQuery(".bwg_slideshow_image_container_"+bwg).height(jQuery(".bwg_slideshow_image_wrap_"+bwg).height()-bwg_params[bwg]['slideshow_filmstrip_height']);}
else{jQuery(".bwg_slideshow_image_container_"+bwg).width(jQuery(".bwg_slideshow_image_wrap_"+bwg).width()-bwg_params[bwg]['slideshow_filmstrip_width']);}
var mousewheelevt=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";jQuery(".bwg_slideshow_filmstrip_"+bwg).bind(mousewheelevt,function(e){var evt=window.event||e;evt=evt.originalEvent?evt.originalEvent:evt;var delta=evt.detail?evt.detail*(-40):evt.wheelDelta;if(delta>0){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).trigger("click");}
else{jQuery(".bwg_slideshow_filmstrip_right_"+bwg).trigger("click");}
return false;});jQuery(".bwg_slideshow_filmstrip_right_"+bwg).on(bwg_click,function(){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).stop(true,false);if(bwg_params[bwg]['left_or_top']=='left'){if(bwg_params[bwg]['width_or_height']=='width'){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width()-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}
else{if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height()-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}}
else{if(bwg_params[bwg]['width_or_height']=='width'){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width()-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}
else{if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height()-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}}});jQuery(".bwg_slideshow_filmstrip_left_"+bwg).on(bwg_click,function(){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).stop(true,false);if(bwg_params[bwg]['left_or_top']=='left'){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left<0){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left>-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:0},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left+bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])},500,'linear');}}
window.setTimeout(function(){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left==0){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}
else{if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top<0){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top>-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:0},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top+bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])},500,'linear');}}
window.setTimeout(function(){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top==0){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}});if(bwg_params[bwg]['width_or_height']=='width'){bwg_set_filmstrip_pos(jQuery(".bwg_slideshow_filmstrip_"+bwg).width(),bwg);}
else{bwg_set_filmstrip_pos(jQuery(".bwg_slideshow_filmstrip_"+bwg).height(),bwg);}
jQuery("#bwg_slideshow_play_pause_"+bwg).off(bwg_click).on(bwg_click,function(){if(jQuery(".bwg_ctrl_btn_"+bwg).hasClass("fa-play")){bwg_play(bwg_params[bwg]['data'],bwg);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("title",bwg_objectsL10n.pause);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_slideshow_play_pause_"+bwg+" fa fa-pause");if(bwg_params[bwg]['enable_slideshow_music']==1){document.getElementById("bwg_audio_"+bwg).play();}}
else{window.clearInterval(window['bwg_playInterval'+bwg]);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("title","Play");jQuery(".bwg_slideshow_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_slideshow_play_pause_"+bwg+" fa fa-play");if(bwg_params[bwg]['enable_slideshow_music']==1){document.getElementById("bwg_audio_"+bwg).pause();}}});if(bwg_params[bwg]['enable_slideshow_autoplay']!=0){bwg_play(bwg_params[bwg]['data'],bwg);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("title",bwg_objectsL10n.pause);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_slideshow_play_pause_"+bwg+" fa fa-pause");if(bwg_params[bwg]['enable_slideshow_music']==1&&jQuery("#bwg_audio_"+bwg).length){document.getElementById("bwg_audio_"+bwg).play();}}
if(bwg_params[bwg]['preload_images']){bwg_preload_images(parseInt(jQuery("#bwg_current_image_key_".$bwg).val()),bwg);}
jQuery(".bwg_slideshow_image_"+bwg).removeAttr("width");jQuery(".bwg_slideshow_image_"+bwg).removeAttr("height");}});}
function bwg_image_browser_resize(){jQuery(".bwg_image_browser").each(function(){var bwg=jQuery(this).attr('data-bwg');if(jQuery('.image_browser_images_conteiner_'+bwg).length){bwg_params_ib[bwg]=JSON.parse(jQuery('#bwg_container1_'+bwg+' .image_browser_images_conteiner_'+bwg).attr('data-params'));bwg_image_browser(bwg);}});}
function bwg_image_browser_ready(){jQuery(".bwg_image_browser").each(function(){var bwg=jQuery(this).attr('data-bwg');bwg_container_loaded(bwg);if(jQuery('.image_browser_images_conteiner_'+bwg).length){bwg_params_ib[bwg]=JSON.parse(jQuery('.image_browser_images_conteiner_'+bwg).attr('data-params'));setTimeout(function(){bwg_image_browser(bwg);},3);}});}
function bwg_search_focus(that){jQuery(that).parent().find('.bwg_search_input').focus();jQuery(that).hide();}
function bwg_key_press(that){jQuery(that).parent().find('.bwg_search_reset_container').removeClass("hidden");jQuery(that).parent().find('.bwg_search_loupe_container1').removeClass("hidden");}
function bwg_all_thumnails_loaded(that){var thumbnails_count=0;var thumbnails_loaded=jQuery(that).find("img").length;if(0==thumbnails_loaded){bwg_all_thumbnails_loaded_callback(that);}
else{jQuery(that).find("img").each(function(){var fakeSrc=jQuery(this).attr("src");jQuery("<img/>").attr("src",fakeSrc).on("load error",function(){if(++thumbnails_count>=thumbnails_loaded){bwg_all_thumbnails_loaded_callback(that);}});});}
return thumbnails_loaded==0;}
function bwg_all_thumbnails_loaded_callback(that){if(jQuery(that).hasClass('bwg-thumbnails')){bwg_thumbnail(that);}
if(jQuery(that).hasClass('bwg-masonry-thumbnails')){bwg_thumbnail_masonry(that);}
if(jQuery(that).hasClass('bwg-album-extended')){bwg_album_extended(that);}}
function bwg_container_loaded(bwg){jQuery('#gal_front_form_'+bwg).removeClass('bwg-hidden');jQuery('#ajax_loading_'+bwg).addClass('bwg-hidden');}
function bwg_album_thumbnail(that){bwg_container_loaded(jQuery(that).data('bwg'));}
function bwg_album_extended(that){var container_width=jQuery(that).width();var thumb_width=jQuery(that).data("thumbnail-width");var spacing=jQuery(that).data("spacing");var max_count=jQuery(that).data("max-count");var column_count=parseInt(container_width/(2*thumb_width));if(column_count<1){column_count=1;}
if(column_count>max_count){column_count=max_count;}
var min_width=100/column_count;var bwg_item=jQuery(that).find(".bwg-extended-item");var margin_left=parseInt(bwg_item.css("margin-left"));var margin_right=parseInt(bwg_item.css("margin-right"));bwg_item.css({width:"calc("+min_width+"% - "+(margin_left+margin_right)+"px)"});if(bwg_item.width()<thumb_width){bwg_item.find(".bwg-extended-item0, .bwg-extended-item1").css({width:'calc(100% - '+spacing+'px)'});}
else if(bwg_item.width()>2*thumb_width){bwg_item.find(".bwg-extended-item0").css({width:'calc(50% - '+spacing+'px)'});bwg_item.find(".bwg-extended-item1").css({width:'calc(100% - '+(thumb_width+spacing*2)+'px)'});}
else{bwg_item.find(".bwg-extended-item0, .bwg-extended-item1").css({width:'calc(50% - '+spacing+'px)'});}
jQuery(that).children(".bwg-extended-item").each(function(){var image=jQuery(this).find("img");var item0=jQuery(this).find(".bwg-item0");var item2=jQuery(this).find(".bwg-item2");if((item2.width()/item2.height())>(image.width()/image.height())){if(item2.width()>image.width()){image.css({width:"100%"});}
else{image.css({maxWidth:"100%"});}}
else{if(item2.height()>image.height()){image.css({height:"100%"});}
else{image.css({maxHeight:"100%"});}}
jQuery(this).find(".bwg-item2").css({marginLeft:(item0.width()-image.width())/2,marginTop:(item0.height()-image.height())/2});});bwg_container_loaded(jQuery(that).data('bwg'));}
function bwg_thumbnail(that){var container_width=jQuery(that).width();var thumb_width=jQuery(that).data("thumbnail-width");var max_count=jQuery(that).data("max-count");var column_count=parseInt(container_width/thumb_width)+1;if(column_count>max_count){column_count=max_count;}
var min_width=100/column_count;var bwg_item=jQuery(that).find(".bwg-item");bwg_item.css({width:min_width+"%"});jQuery(that).children(".bwg-item").each(function(){var image=jQuery(this).find("img");var item2=jQuery(this).find(".bwg-item2");if((item2.width()/item2.height())>(image.width()/image.height())){if(item2.width()>image.width()){image.css({width:"100%"});}
else{image.css({maxWidth:"100%"});}}
else{if(item2.height()>image.height()){image.css({height:"100%"});}
else{image.css({maxHeight:"100%"});}}
jQuery(this).find(".bwg-item2").css({marginLeft:(item2.width()-image.width())/2,marginTop:(item2.height()-image.height())/2});});bwg_container_loaded(jQuery(that).data('bwg'));}
function bwg_thumbnail_masonry(that){var container=jQuery(that);container.find('.bwg-empty-item').remove();var masonry_type=container.data("masonry-type");if('horizontal'==masonry_type){var thumb_height=container.data("thumbnail-height");var max_count=container.data("max-count");var column_widths=[];for(i=0;i<max_count;i++){column_widths.push(0);}
container.find(".bwg-item").each(function(){var order=column_widths.indexOf(Math.min.apply(Math,column_widths));jQuery(this).css({height:thumb_height,order:order+1});column_widths[order]+=jQuery(this)[0].getBoundingClientRect().width;});var container_width=Math.max.apply(Math,column_widths);container.width(container_width);for(i=0;i<max_count;i++){if(column_widths[i]<container_width){container.append(jQuery('<div class="bwg-item bwg-empty-item"></div>').css({height:thumb_height,order:i+1,width:container_width-column_widths[i]}));}}}
else{container.removeAttr('style');var container_width=container.width();var thumb_width=container.data("thumbnail-width");var max_count=container.data("max-count");var column_count=parseInt(container_width/thumb_width)+(container.data('resizable-thumbnails')=='0'?0:1);if(column_count>max_count){column_count=max_count;}
var thumb_count=container.find(".bwg-item").length;if(thumb_count<column_count){column_count=thumb_count;}
var min_width=100/column_count;var column_heights=[];for(i=0;i<column_count;i++){column_heights.push(0);}
container.find(".bwg-item").each(function(){var order=column_heights.indexOf(Math.min.apply(Math,column_heights));jQuery(this).css({width:min_width+"%",order:order+1});column_heights[order]+=jQuery(this)[0].getBoundingClientRect().height;});var container_height=Math.max.apply(Math,column_heights);for(i=0;i<column_count;i++){if(column_heights[i]<container_height){container.append(jQuery('<div class="bwg-item bwg-empty-item"></div>').css({width:min_width+"%",order:i+1,height:container_height-column_heights[i]}));}}
container.outerWidth(column_count*thumb_width);container.height(container_height);}
bwg_container_loaded(container.data('bwg'));}
function bwg_thumbnail_mosaic(that){var container=jQuery(that);var bwg=container.attr('data-bwg');var block_id=container.attr('data-block-id');var padding_px=parseInt(container.attr('data-thumb-padding'))/2;var border_px=parseInt(container.attr('data-thumb-border'));var border_and_padding=border_px+padding_px;if(container.attr('data-mosaic-direction')=='horizontal'){var thumb_height=parseInt(container.attr('data-height'));if(container.attr('data-resizable')=='1'){if(jQuery(window).width()>=1920){var thumbnail_height=(1+jQuery(window).width()/1920)*thumb_height;}
else if(jQuery(window).width()<=640){var thumbnail_height=jQuery(window).width()/640*thumb_height;}
else{var thumbnail_height=thumb_height;}}
else{var thumbnail_height=thumb_height;}
var mosaic_pics=jQuery(".bwg_mosaic_thumb_"+bwg);mosaic_pics.each(function(index){var thumb_w=mosaic_pics.get(index).naturalWidth;var thumb_h=mosaic_pics.get(index).naturalHeight;thumb_w=thumb_w*thumbnail_height/thumb_h;mosaic_pics.eq(index).height(thumbnail_height);mosaic_pics.eq(index).width(thumb_w);});var divwidth=jQuery("#bwg_mosaic_thumbnails_div_"+bwg).width()/100*parseInt(container.attr('data-total-width'));jQuery("#"+block_id).width(divwidth);var row_height=thumbnail_height+2*border_and_padding;var row_number=0;var row_of_img=[];row_of_img[0]=0;var imgs_by_rows=[];imgs_by_rows[0]=0;var row_cum_width=0;mosaic_pics.each(function(index){row_cum_width2=row_cum_width+mosaic_pics.eq(index).width()+2*border_and_padding;if(row_cum_width2-divwidth<0){row_cum_width=row_cum_width2;row_of_img[index]=row_number;imgs_by_rows[row_number]++;}
else{if(index!==mosaic_pics.length-1){if((Math.abs(row_cum_width-divwidth)>Math.abs(row_cum_width2-divwidth))||!(!(Math.abs(row_cum_width-divwidth)<=Math.abs(row_cum_width2-divwidth))||!(imgs_by_rows[row_number]==0))){if(index!==mosaic_pics.length-2){row_cum_width=row_cum_width2;row_of_img[index]=row_number;imgs_by_rows[row_number]++;row_number++;imgs_by_rows[row_number]=0;row_cum_width=0;}
else{row_cum_width=row_cum_width2;row_of_img[index]=row_number;imgs_by_rows[row_number]++;}}
else{row_number++;imgs_by_rows[row_number]=1;row_of_img[index]=row_number;row_cum_width=row_cum_width2-row_cum_width;}}
else{row_cum_width=row_cum_width2;row_of_img[index]=row_number;imgs_by_rows[row_number]++;}}});var stretch=[];var row_new_height=[];for(var row=0;row<=row_number;row++){stretch[row]=1;row_new_height[row]=row_height;}
for(var row=0;row<=row_number;row++){row_cum_width=0;mosaic_pics.each(function(index){if(row_of_img[index]==row){row_cum_width+=mosaic_pics.eq(index).width();}});stretch[row]=x=(divwidth-imgs_by_rows[row]*2*border_and_padding)/row_cum_width;row_new_height[row]=(row_height-2*border_and_padding)*stretch[row]+2*border_and_padding;}
var last_img_index=[];last_img_index[0]=0;var img_left=[];var row_top=[];img_left[0]=0;row_top[0]=0;for(var row=1;row<=row_number;row++){img_left[row]=img_left[0];row_top[row]=row_top[row-1]+row_new_height[row-1];}
mosaic_pics.each(function(index){var thumb_w=mosaic_pics.eq(index).width();var thumb_h=mosaic_pics.eq(index).height();mosaic_pics.eq(index).width(thumb_w*stretch[row_of_img[index]]);mosaic_pics.eq(index).height(thumb_h*stretch[row_of_img[index]]);mosaic_pics.eq(index).parent().css({top:row_top[row_of_img[index]],left:img_left[row_of_img[index]]});img_left[row_of_img[index]]+=thumb_w*stretch[row_of_img[index]]+2*border_and_padding;last_img_index[row_of_img[index]]=index;});jQuery("#"+block_id).height(row_top[row_number]+row_new_height[row_number]-row_top[0]);}
else{var thumb_width=parseInt(container.attr('data-width'));if(container.attr('data-resizable')=='1'){if(jQuery(window).width()>=1920){var thumbnail_width=(1+jQuery(window).width()/1920)*thumb_width;}
else if(jQuery(window).width()<=640){var thumbnail_width=jQuery(window).width()/640*thumb_width;}
else{var thumbnail_width=thumb_width;}}
else{var thumbnail_width=thumb_width;}
var mosaic_pics=jQuery(".bwg_mosaic_thumb_"+bwg);mosaic_pics.each(function(index){var thumb_w=mosaic_pics.get(index).naturalWidth;var thumb_h=mosaic_pics.get(index).naturalHeight;mosaic_pics.eq(index).height(thumb_h*thumbnail_width/thumb_w);mosaic_pics.eq(index).width(thumbnail_width);});var divwidth=jQuery("#bwg_mosaic_thumbnails_div_"+bwg).width()/100*parseInt(container.attr('data-total-width'));jQuery('#'+block_id).width(divwidth);var col_width=thumbnail_width+2*border_and_padding<divwidth?thumbnail_width:divwidth-2*border_and_padding;var col_number=Math.floor(divwidth/(col_width+2*border_and_padding));var col_of_img=[];col_of_img[0]=0;var imgs_by_cols=[];var min_top=[];for(var x=0;x<col_number;x++){min_top[x]=0;imgs_by_cols[x]=0;}
var img_wrap_left=0;mosaic_pics.each(function(index){var col=0;var min=min_top[0];for(var x=0;x<col_number;x++){if(min>min_top[x]){min=min_top[x];col=x;}}
col_of_img[index]=col;imgs_by_cols[col]++;img_container_top=min;img_container_left=img_wrap_left+col*(col_width+2*border_and_padding);mosaic_pics.eq(index).parent().css({top:img_container_top,left:img_container_left});min_top[col]+=mosaic_pics.eq(index).height()+2*border_and_padding;});var stretch=[];stretch[0]=1;var sum_col_width=0;var sum_col_height=[];var axbx=0;var axpxbx=0;for(var x=0;x<col_number;x++){sum_col_width+=col_width;sum_col_height[x]=0;mosaic_pics.each(function(index){if(col_of_img[index]==x){sum_col_height[x]+=mosaic_pics.eq(index).height();}});if(sum_col_height[x]!=0){axbx+=col_width/sum_col_height[x];axpxbx+=col_width*imgs_by_cols[x]*2*border_and_padding/sum_col_height[x];}}
var common_height=0;if(axbx!=0){common_height=(sum_col_width+axpxbx)/axbx;}
for(var x=0;x<col_number;x++){if(sum_col_height[x]!=0){stretch[x]=(common_height-imgs_by_cols[x]*2*border_and_padding)/sum_col_height[x];}}
var img_container_left=[];img_container_left[0]=img_wrap_left;for(var x=1;x<=col_number;x++){img_container_left[x]=img_container_left[x-1]+col_width*stretch[x-1]+2*border_and_padding;}
var img_container_top=[];for(var x=0;x<col_number;x++){img_container_top[x]=0;}
var last_img_index=[];last_img_index[0]=0;mosaic_pics.each(function(index){var thumb_w=mosaic_pics.eq(index).width();var thumb_h=mosaic_pics.eq(index).height();mosaic_pics.eq(index).width(thumb_w*stretch[col_of_img[index]]);mosaic_pics.eq(index).height(thumb_h*stretch[col_of_img[index]]);mosaic_pics.eq(index).parent().css({top:img_container_top[col_of_img[index]],left:img_container_left[col_of_img[index]]});img_container_top[col_of_img[index]]+=thumb_h*stretch[col_of_img[index]]+2*border_and_padding;last_img_index[col_of_img[index]]=index;});jQuery("#"+block_id).width(img_container_left[col_number]).height(img_container_top[0]);}
jQuery(".bwg_mosaic_thumbnails_"+bwg).css({visibility:'visible'});jQuery(".tablenav-pages_"+bwg).css({visibility:'visible'});bwg_container_loaded(bwg);jQuery(".bwg_mosaic_thumb_"+bwg).removeClass("bwg-hidden");jQuery("#bwg_mosaic_thumbnails_div_"+bwg).removeClass("bwg-hidden");bwg_mosaic_mosaic_play_icons(bwg,container,border_and_padding);if(container.attr('data-image-title')=='hover'){bwg_mosaic_title_on_hover(bwg,container,border_and_padding)}
if(container.attr('data-ecommerce-icon')=='hover'){jQuery(".bwg_mosaic_thumb_spun_"+bwg).on("mouseenter",function(){var img_w=jQuery(this).parents(".bwg-mosaic-thumb-span").children(".bwg_mosaic_thumb_"+bwg).width();var img_h=jQuery(this).parents(".bwg-mosaic-thumb-span").children(".bwg_mosaic_thumb_"+bwg).height();jQuery(this).children(".bwg_ecommerce_spun1_"+bwg).width(img_w);var title_w=jQuery(this).children(".bwg_ecommerce_spun1_"+bwg).width();var title_h=jQuery(this).children(".bwg_ecommerce_spun1_"+bwg).height();jQuery(this).children(".bwg_ecommerce_spun1_"+bwg).css({top:border_and_padding+0.5*img_h-0.5*title_h,left:border_and_padding+0.5*img_w-0.5*title_w,'opacity':1,'filter':'Alpha(opacity=100)'});});jQuery(".bwg_mosaic_thumb_spun_"+bwg).on("mouseleave",function(){jQuery(this).children(".bwg_ecommerce_spun1_"+bwg).css({top:0,left:-10000,'opacity':0,'filter':'Alpha(opacity=0)','padding':container.attr('data-title-margin')});});}}
function bwg_mosaic_title_on_hover(bwg,container,border_and_padding){jQuery(".bwg-mosaic-thumb-span").on("mouseenter",function(){var img_w=jQuery(this).children(".bwg_mosaic_thumb_"+bwg).width();var img_h=jQuery(this).children(".bwg_mosaic_thumb_"+bwg).height();jQuery(this).find(".bwg_mosaic_title_spun1_"+bwg).width(img_w);var title_w=jQuery(this).find(".bwg_mosaic_title_spun1_"+bwg).width();var title_h=jQuery(this).find(".bwg_mosaic_title_spun1_"+bwg).height();jQuery(this).find(".bwg_mosaic_title_spun1_"+bwg).css({top:((border_and_padding+0.5*img_h-0.5*title_h)<0)?border_and_padding:border_and_padding+0.5*img_h-0.5*title_h,left:border_and_padding+0.5*img_w-0.5*title_w,'opacity':1,'filter':'Alpha(opacity=100)','max-height':'calc(100% - '+2*border_and_padding+'px)','overflow':'hidden'});});jQuery(".bwg-mosaic-thumb-span").on("mouseleave",function(){jQuery(this).find(".bwg_mosaic_title_spun1_"+bwg).css({top:0,left:-10000,'opacity':0,'filter':'Alpha(opacity=0)','padding':container.attr('data-title-margin'),'max-height':'calc(100% - '+2*border_and_padding+'px)','overflow':'hidden'});});}
function bwg_mosaic_mosaic_play_icons(bwg,container,border_and_padding){if(container.attr('data-play-icon')=='1'){jQuery(".bwg_mosaic_play_icon_spun_"+bwg).each(function(){var img_w=jQuery(this).parent().children(".bwg_mosaic_thumb_"+bwg).width();var img_h=jQuery(this).parent().children(".bwg_mosaic_thumb_"+bwg).height();jQuery(this).css({top:border_and_padding+0.5*img_h-0.5*jQuery(this).height(),left:border_and_padding+0.5*img_w-0.5*jQuery(this).width(),'opacity':1,'filter':'Alpha(opacity=100)'});});}}
function bwg_mosaic_ajax(bwg,tot_cccount_mosaic_ajax){var cccount_mosaic_ajax=0;jQuery(".bwg_mosaic_thumb_spun_"+bwg+" img").on("load",function(){if(++cccount_mosaic_ajax>=tot_cccount_mosaic_ajax){bwg_thumbnail_mosaic(jQuery('.bwg-mosaic-thumbnails[data-bwg='+bwg+']'));}});jQuery(".bwg_mosaic_thumb_spun_"+bwg+" img").on("error",function(){jQuery(this).height(100);jQuery(this).width(100);if(++cccount_mosaic_ajax>=tot_cccount_mosaic_ajax){bwg_thumbnail_mosaic(jQuery('.bwg-mosaic-thumbnails[data-bwg='+bwg+']'));}});}
function bwg_add_album(){var bwg_touch_flag=false;jQuery(".bwg-album").off("click").on("click",function(){if(!bwg_touch_flag){var bwg=jQuery(this).attr("data-bwg");bwg_touch_flag=true;setTimeout(function(){bwg_touch_flag=false;},100);bwg_ajax('gal_front_form_'+bwg,bwg,jQuery(this).attr("data-container_id"),jQuery(this).attr("data-alb_gal_id"),jQuery(this).attr("data-album_gallery_id"),jQuery(this).attr("data-def_type"),'',jQuery(this).attr("data-title"));return false;}});jQuery(".bwg_description_more").on("click",function(){if(jQuery(this).hasClass("bwg_more")){jQuery(this).parent().find(".bwg_description_full").show();jQuery(this).addClass("bwg_hide").removeClass("bwg_more");jQuery(this).html(jQuery(this).data("hide-msg"));}
else{jQuery(this).parent().find(".bwg_description_full").hide();jQuery(this).addClass("bwg_more").removeClass("bwg_hide");jQuery(this).html(jQuery(this).data("more-msg"));}});}
function bwg_add_lightbox(){var bwg_touch_flag=false;jQuery(".bwg_lightbox .bwg-item0, .bwg_lightbox .bwg_slide, .bwg_lightbox .bwg-carousel-image").on("click",function(event){event.stopPropagation();event.preventDefault();var that=jQuery(this).parent();if(!bwg_touch_flag){bwg_touch_flag=true;setTimeout(function(){bwg_touch_flag=false;},100);bwg_gallery_box(jQuery(that).attr("data-image-id"),jQuery(that).closest('.bwg_container'));return false;}});jQuery(".bwg_lightbox .bwg_ecommerce").on("click",function(event){event.stopPropagation();if(!bwg_touch_flag){bwg_touch_flag=true;setTimeout(function(){bwg_touch_flag=false;},100);var image_id=jQuery(this).closest(".bwg_lightbox").attr("data-image-id");bwg_gallery_box(image_id,jQuery(this).closest('.bwg_container'),true);return false;}});}
function bwg_document_ready(){bwg_add_lightbox();jQuery('div[id^="bwg_container"]').each(function(){var bwg_container=jQuery(this);if(bwg_container.data('right-click-protection')){bwg_disable_right_click(bwg_container);}
jQuery(".SumoSelect > .CaptionCont > label > i").addClass("fa fa-angle-down closed");var search_tags=bwg_container.find('.search_tags');if(search_tags.length){search_tags.SumoSelect({triggerChangeCombined:true,placeholder:bwg_objectsL10n.bwg_select_tag,search:1,searchText:bwg_objectsL10n.bwg_search,forceCustomRendering:true,noMatch:bwg_objectsL10n.bwg_tag_no_match,captionFormatAllSelected:bwg_objectsL10n.bwg_all_tags_selected,captionFormat:'{0} '+bwg_objectsL10n.bwg_tags_selected,});}
var bwg_order=bwg_container.find('.bwg_order');if(bwg_order.length){bwg_order.SumoSelect({triggerChangeCombined:true,forceCustomRendering:true,});}
if(jQuery(this).find('.bwg_search_input').val()==''){jQuery(this).find('search_placeholder_title').show();}
else{jQuery(this).find('search_placeholder_title').hide();}
jQuery(".bwg_thumbnail .bwg_search_container_2").focusout(function(e){if(jQuery(this).find('.bwg_search_input').val()==''){jQuery(this).find('.search_placeholder_title').show();jQuery(this).find('.bwg_search_loupe_container1').addClass("hidden");jQuery(this).find('.bwg_search_reset_container').addClass("hidden");}});});var currentTags;jQuery('.search_tags').on('sumo:opened',function(event){currentTags=jQuery(this).parent().find('.CaptionCont').attr('title');if(jQuery(this).parent().find('ul li').length==0){jQuery(".no-match").html(bwg_objectsL10n.bwg_tag_no_match);jQuery(".no-match").show();}});jQuery('.bwg_thumbnail .search_tags').on('sumo:closed',function(event){var newTags='';var curCont=jQuery(this).parent().parent();var current_view=curCont.find('.current_view').val();var form_id=curCont.find('.form_id').val();var cur_gal_id=curCont.find('.cur_gal_id').val();var album_gallery_id=curCont.find('.album_gallery_id').val();var type=curCont.find('.type').val();jQuery(this).parent().find('.opt.selected').each(function(){newTags=newTags+jQuery(this).text()+',';});newTags=newTags.slice(0,-1);if(newTags==''){newTags=bwg_objectsL10n.bwg_select_tag;}
jQuery(this).parent().find('.CaptionCont').attr('title',newTags);jQuery(this).parent().find('.CaptionCont .placeholder').html(newTags);if(currentTags!=newTags){jQuery('#bwg_tag_id_'+current_view).val(jQuery('#bwg_tag_id_'+cur_gal_id).val());bwg_select_tag(current_view,form_id,cur_gal_id,album_gallery_id,type,false);}});jQuery('.bwg_thumbnail .SumoSelect').on('sumo:closed',function(){jQuery(this).find('label i').removeClass('opened fa fa-angle-up');jQuery(this).find('label i').addClass("fa fa-angle-down closed");});jQuery('.bwg_thumbnail .SumoSelect').on('sumo:opened',function(){jQuery(this).find('label i').removeClass('closed fa fa-angle-down');jQuery(this).find('label i').addClass("fa fa-angle-up opened");});bwg_add_album();var bwg_hash=window.location.hash.substring(1);if(bwg_hash){if(bwg_hash.indexOf("bwg")!="-1"){bwg_hash_array=bwg_hash.replace("bwg","").split("/");var bwg_container=jQuery('.bwg_container');if(bwg_container){bwg_gallery_box(bwg_hash_array[1],bwg_container,false,bwg_hash_array[0]);}}}
bwg_blog_style_ready();bwg_image_browser_ready();bwg_resize_search_line();}
function bwg_clear_search_input(current_view){jQuery("#bwg_search_input_"+current_view).val('');jQuery("#bwg_search_container_1_"+current_view+" .bwg_search_loupe_container1").addClass("hidden");jQuery("#bwg_search_container_1_"+current_view+" .bwg_search_reset_container").addClass("hidden");}
function bwg_check_search_input_enter(that,e){var key_code=e.which||e.keyCode;if(key_code==13){jQuery(that).closest('.bwg_search_container_1').find('.bwg_search').trigger('click');return false;}
return true;}
function bwg_ajax(form_id,current_view,id,album_gallery_id,cur_album_id,type,srch_btn,title,sortByParam,load_more,description){jQuery("#ajax_loading_"+current_view).removeClass('bwg-hidden');if(typeof bwg_scroll_load_action==="function"){jQuery(window).off("scroll",bwg_scroll_load_action);}
jQuery(".bwg_thumbnail .search_tags").off("sumo:closed");var ajax_url=jQuery('#'+form_id).data("ajax-url");var masonry_loaded=0;var mosaic_loaded=0;if(typeof load_more=="undefined"){var load_more=false;}
var page_number=jQuery("#page_number_"+current_view).val();var post_data={};var breadcrumb_str=jQuery('#bwg_album_breadcrumb_'+current_view).val();if(breadcrumb_str&&load_more!==true){var breadcrumb=JSON.parse(breadcrumb_str);if(album_gallery_id=='back'){breadcrumb.splice(-1,1);var last_el=breadcrumb.slice(-1)[0];album_gallery_id=last_el["id"];page_number=last_el["page"];post_data["action_"+current_view]='back';}
else if(load_more==='numeric'||srch_btn){breadcrumb.splice(-1,1);breadcrumb.push({id:album_gallery_id,page:page_number});}
else{breadcrumb.push({id:album_gallery_id,page:1});page_number=1;}
post_data["bwg_album_breadcrumb_"+current_view]=JSON.stringify(breadcrumb);}
post_data['gallery_type']=jQuery('#'+form_id).data("gallery-type");post_data['gallery_id']=jQuery('#'+form_id).data("gallery-id");post_data['tag']=jQuery('#'+form_id).data("tag");post_data['album_id']=jQuery('#'+form_id).data("album-id");post_data['theme_id']=jQuery('#'+form_id).data("theme-id");post_data['shortcode_id']=jQuery('#'+form_id).data("shortcode-id");post_data['bwg']=current_view;if(srch_btn){page_number=1;}
if(typeof title=="undefined"||title==''){var title="";}
if(typeof description=="undefined"||description==''){var description="";}
if(typeof sortByParam=="undefined"||sortByParam==''){var sortByParam=jQuery(".bwg_order_"+current_view).val();}
post_data["page_number_"+current_view]=page_number;post_data["bwg_load_more_"+current_view]=jQuery("#bwg_load_more_"+current_view).val();post_data["album_gallery_id_"+current_view]=album_gallery_id;post_data["type_"+current_view]=type;post_data["title_"+current_view]=title;post_data["description_"+current_view]=description;post_data["sortImagesByValue_"+current_view]=sortByParam;if(jQuery("#bwg_search_input_"+current_view).length>0){post_data["bwg_search_"+current_view]=jQuery("#bwg_search_input_"+current_view).val();}
post_data["bwg_tag_id_"+id]=jQuery("#bwg_tag_id_"+id).val();jQuery('#gal_front_form_'+current_view).addClass('bwg-hidden');jQuery("#ajax_loading_"+current_view).removeClass('bwg-hidden');jQuery.ajax({type:"POST",url:ajax_url,data:post_data,success:function(data){masonry_loaded=jQuery(data).find(".bwg_masonry_thumb_spun_"+current_view+" img").length;mosaic_loaded=jQuery(data).find(".bwg_mosaic_thumb_spun_"+current_view+" img").length;if(load_more===true){if(id=="bwg_thumbnails_mosaic_"+current_view){jQuery('#'+id).append(jQuery(data).closest(".bwg-container-"+current_view).find("#"+id).html());}
else if(id=="bwg_album_compact_"+current_view){jQuery('#'+id).append(jQuery(data).closest(".bwg-album-thumbnails").html());}
else{jQuery('#'+id).append(jQuery(data).closest(".bwg-container-"+current_view).html());}
jQuery('.bwg_nav_cont_'+current_view).html(jQuery(data).closest('.bwg_nav_cont_'+current_view).html());}
else{jQuery('#bwg_container3_'+current_view).html(data);}},complete:function(){jQuery("div[id^='bwg_container1_'] img").each(function(){if(jQuery(this).attr("data-lazy-src")!=undefined&&jQuery(this).attr("data-lazy-src")!=''){jQuery(this).attr("src",jQuery(this).attr("data-lazy-src"));}
else if(jQuery(this).attr("data-src")!=undefined&&jQuery(this).attr("data-src")!=''){jQuery(this).attr("src",jQuery(this).attr("data-src"));}});jQuery(".blog_style_image_buttons_conteiner_"+current_view).find(jQuery(".bwg_blog_style_img_"+current_view)).on("load",function(){jQuery(".bwg_blog_style_img_"+current_view).closest(jQuery(".blog_style_image_buttons_conteiner_"+current_view)).show();});jQuery("#bwg_tags_id_"+id).val(jQuery("#bwg_tag_id_"+id).val());if(jQuery(".pagination-links_"+current_view).length){jQuery("html, body").animate({scrollTop:jQuery('#'+form_id).offset().top-150},500);}
bwg_document_ready();bwg_mosaic_ajax(current_view,mosaic_loaded);var no_data=bwg_all_thumnails_loaded(".bwg-container-"+current_view);if(no_data){bwg_container_loaded(current_view);}
jQuery(".blog_style_images_conteiner_"+current_view+" .bwg_embed_frame_16x9_"+current_view).each(function(e){jQuery(this).width(jQuery(this).parent().width());jQuery(this).height(jQuery(this).width()*0.5625);});jQuery(".blog_style_images_conteiner_"+current_view+" .bwg_embed_frame_instapost_"+current_view).each(function(e){jQuery(this).width(jQuery(this).parent().width());jQuery(this).height((jQuery(this).width()-16)*jQuery(this).attr('data-height')/jQuery(this).attr('data-width')+96);});jQuery('#bwg_embed_frame_16x9_'+current_view).width(jQuery('#bwg_embed_frame_16x9_'+current_view).parent().width());jQuery('#bwg_embed_frame_16x9_'+current_view).height(jQuery('#bwg_embed_frame_16x9_'+current_view).width()*0.5625);jQuery('#bwg_embed_frame_instapost_'+current_view).width(jQuery('#bwg_embed_frame_16x9_'+current_view).parent().width());jQuery('.bwg_embed_frame_instapost_'+current_view).height((jQuery('.bwg_embed_frame_instapost_'+current_view).width()-16)*jQuery('.bwg_embed_frame_instapost_'+current_view).attr('data-height')/jQuery('.bwg_embed_frame_instapost_'+current_view).attr('data-width')+96);jQuery("#bwg_search_input_"+current_view).val(post_data["bwg_search_"+current_view]);if(jQuery("#bwg_search_input_"+current_view).val()!=''){jQuery("#bwg_search_input_"+current_view).parent().find('.search_placeholder_title').hide();jQuery("#bwg_search_input_"+current_view).parent().parent().find('.bwg_search_reset_container').show();jQuery("#bwg_search_input_"+current_view).parent().parent().find('.bwg_search_loupe_container1').show();}else{jQuery("#bwg_search_input_"+current_view).parent().find('.search_placeholder_title').show();}
var cur_gal_id=jQuery("#bwg_container2_"+current_view+" .cur_gal_id").val();jQuery('#bwg_tag_id_'+current_view).val(jQuery('#bwg_tag_id_'+cur_gal_id).val());}});return false;}
function bwg_select_tag(current_view,form_id,cur_gal_id,album_gallery_id,type,reset){if(reset){jQuery("#bwg_tag_id_"+cur_gal_id).val('');}
bwg_ajax(form_id,current_view,cur_gal_id,album_gallery_id,'',type,1,'');}
function bwg_preload_images_lightbox(key){var count_all=data.length;var preloadCount=(bwg_param['preload_images_count']==0||bwg_param['preload_images_count']>=count_all)?count_all:bwg_param['preload_images_count'];var indexedImgCount=0;for(var i=1;indexedImgCount<preloadCount;i++){var sign=1;do{var index=(key+i*sign+count_all)%count_all;if(typeof data[index]!="undefined"){var is_embed=data[index]['filetype'].indexOf("EMBED_")>-1?true:false;if(!is_embed){jQuery("<img/>").attr("src",bwg_param['site_url']+jQuery('<span style="display: block;" />').html(data[index]["image_url"]).text());}}
sign*=-1;indexedImgCount++;}
while(sign!=1);}}
function bwg_cube(tz,ntx,nty,nrx,nry,wrx,wry,current_image_class,next_image_class,direction,bwg){var type_slideshow=false;var bwg_prefix="";var bwg_transition_dur;if(typeof bwg!='undefined'){type_slideshow=true;bwg_params[bwg]['bwg_trans_in_progress']=true;bwg_prefix="_"+bwg;bwg_transition_dur=bwg_params[bwg]['bwg_transition_duration'];var event_stack=bwg_params[bwg]['event_stack']}else{bwg_transition_dur=bwg_transition_duration;}
if(!bwg_testBrowser_cssTransitions(bwg)){return bwg_fallback(current_image_class,next_image_class,direction,bwg);}
if(!bwg_testBrowser_cssTransforms3d(bwg)){return bwg_fallback3d(current_image_class,next_image_class,direction,bwg);}
if(!type_slideshow){bwg_param['bwg_trans_in_progress']=true;jQuery(".bwg_filmstrip_thumbnail").removeClass("bwg_thumb_active").addClass("bwg_thumb_deactive");jQuery("#bwg_filmstrip_thumbnail_"+bwg_param['bwg_current_key']).removeClass("bwg_thumb_deactive").addClass("bwg_thumb_active");jQuery(".bwg_slide_bg").css('perspective',1000);}else{jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).removeClass("bwg_slideshow_thumb_active_"+bwg).addClass("bwg_slideshow_thumb_deactive_"+bwg);jQuery("#bwg_filmstrip_thumbnail_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_thumb_deactive_"+bwg).addClass("bwg_slideshow_thumb_active_"+bwg);jQuery(".bwg_slideshow_dots_"+bwg).removeClass("bwg_slideshow_dots_active_"+bwg).addClass("bwg_slideshow_dots_deactive_"+bwg);jQuery("#bwg_dots_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_dots_deactive_"+bwg).addClass("bwg_slideshow_dots_active_"+bwg);jQuery(".bwg_slide_bg_"+bwg).css('perspective',1000);}
jQuery(current_image_class).css({transform:'translateZ('+tz+'px)',backfaceVisibility:'hidden'});jQuery(next_image_class).css({opacity:1,filter:'Alpha(opacity=100)',backfaceVisibility:'hidden',transform:'translateY('+nty+'px) translateX('+ntx+'px) rotateY('+nry+'deg) rotateX('+nrx+'deg)'});jQuery(".bwg_slider"+bwg_prefix).css({transform:'translateZ(-'+tz+'px)',transformStyle:'preserve-3d'});setTimeout(function(){jQuery(".bwg_slider"+bwg_prefix).css({transition:'all '+bwg_transition_dur+'ms ease-in-out',transform:'translateZ(-'+tz+'px) rotateX('+wrx+'deg) rotateY('+wry+'deg)'});},20);jQuery(".bwg_slider"+bwg_prefix).one('webkitTransitionEnd transitionend otransitionend oTransitionEnd mstransitionend',jQuery.proxy(bwg_after_trans));function bwg_after_trans(){jQuery(current_image_class).removeAttr('style');jQuery(next_image_class).removeAttr('style');jQuery(".bwg_slider"+bwg_prefix).removeAttr('style');jQuery(current_image_class).css({'opacity':0,filter:'Alpha(opacity=0)','z-index':1});jQuery(next_image_class).css({'opacity':1,filter:'Alpha(opacity=100)','z-index':2});jQuery(".bwg_image_info").show();jQuery(current_image_class).html('');if(type_slideshow){bwg_change_watermark_container(bwg);bwg_params[bwg]['bwg_trans_in_progress']=false;var data=bwg_params[bwg]['data'];var event_stack=bwg_params[bwg]['event_stack'];}else{bwg_param['bwg_trans_in_progress']=false;var event_stack=bwg_param['event_stack'];}
if(typeof event_stack!=='undefined'){if(event_stack.length>0){key=event_stack[0].split("-");event_stack.shift();bwg_change_image(key[0],key[1],data,true,bwg);}}
bwg_change_watermark_container();}
if(bwg_transition_dur==0){bwg_after_trans();}}
function bwg_fade(current_image_class,next_image_class,direction,bwg){var type_slideshow=false;var bwg_transition_dur;if(typeof bwg!='undefined'){type_slideshow=true;bwg_params[bwg]['bwg_trans_in_progress']=true;bwg_transition_dur=bwg_params[bwg]['bwg_transition_duration'];}else{bwg_param['bwg_trans_in_progress']=true;bwg_transition_dur=bwg_param['bwg_transition_duration'];}
if(type_slideshow){jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).removeClass("bwg_slideshow_thumb_active_"+bwg).addClass("bwg_slideshow_thumb_deactive_"+bwg);jQuery("#bwg_filmstrip_thumbnail_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_thumb_deactive_"+bwg).addClass("bwg_slideshow_thumb_active_"+bwg);jQuery(".bwg_slideshow_dots_"+bwg).removeClass("bwg_slideshow_dots_active_"+bwg).addClass("bwg_slideshow_dots_deactive_"+bwg);jQuery("#bwg_dots_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_dots_deactive_"+bwg).addClass("bwg_slideshow_dots_active_"+bwg);}else{jQuery(".bwg_filmstrip_thumbnail").removeClass("bwg_thumb_active").addClass("bwg_thumb_deactive");jQuery("#bwg_filmstrip_thumbnail_"+bwg_param['bwg_current_key']).removeClass("bwg_thumb_deactive").addClass("bwg_thumb_active");}
function bwg_after_trans(){jQuery(".bwg_image_info").show();bwg_change_watermark_container(bwg);if(type_slideshow){bwg_params[bwg]['bwg_trans_in_progress']=false;}else{bwg_param['bwg_trans_in_progress']=false;}}
if(bwg_testBrowser_cssTransitions()){jQuery(next_image_class).css('transition','opacity '+bwg_transition_dur+'ms linear');jQuery(current_image_class).css({'opacity':0,'z-index':1});jQuery(next_image_class).css({'opacity':1,'z-index':2});jQuery(next_image_class).one('webkitTransitionEnd transitionend otransitionend oTransitionEnd mstransitionend',jQuery.proxy(bwg_after_trans));}
else{jQuery(current_image_class).animate({'opacity':0,'z-index':1},bwg_transition_dur);jQuery(next_image_class).animate({'opacity':1,'z-index':2},{duration:bwg_transition_dur,complete:function(){if(type_slideshow){bwg_params[bwg]['bwg_trans_in_progress']=false;}else{bwg_param['bwg_trans_in_progress']=false;}
jQuery(current_image_class).html('');bwg_after_trans()}});jQuery(current_image_class).fadeTo(bwg_transition_dur,0);jQuery(next_image_class).fadeTo(bwg_transition_dur,1);}
if(bwg_transition_dur==0){bwg_after_trans();}}
function bwg_change_watermark_container(bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';jQuery(".bwg_slider"+defix).children().each(function(){if(jQuery(this).css("zIndex")==2){var bwg_current_image_span=jQuery(this).find("img");if(bwg_current_image_span.length){if(bwg_current_image_span.prop('complete')){var width=bwg_current_image_span.width();var height=bwg_current_image_span.height();bwg_change_each_watermark_container(width,height,bwg);}
else{bwg_current_image_span.on("load",function(){var width=bwg_current_image_span.width();var height=bwg_current_image_span.height();bwg_change_each_watermark_container(width,height,bwg);});}}
else{bwg_current_image_span=jQuery(this).find("iframe");if(!bwg_current_image_span.length){bwg_current_image_span=jQuery(this).find("video");}
var width=bwg_current_image_span.width();var height=bwg_current_image_span.height();bwg_change_each_watermark_container(width,height,bwg);}}});}
function bwg_change_each_watermark_container(width,height,bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';jQuery(".bwg"+source+"_watermark_spun"+defix).width(width);jQuery(".bwg"+source+"_watermark_spun"+defix).height(height);jQuery(".bwg"+source+"_watermark"+defix).css({display:''});if(typeof bwg=='undefined'){var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=bwg_param['lightbox_comment_width'];}
if(width<=(jQuery(window).width()-comment_container_width)){jQuery(".bwg_watermark_image").css({width:((jQuery(".spider_popup_wrap").width()-comment_container_width)*bwg_param['watermark_font_size']/bwg_param['image_width'])});jQuery(".bwg_watermark_text, .bwg_watermark_text:hover").css({fontSize:((jQuery(".spider_popup_wrap").width()-comment_container_width)*bwg_param['watermark_font_size']/bwg_param['image_width'])});}}else{jQuery(".bwg"+source+"_title_spun"+defix).width(width);jQuery(".bwg"+source+"_title_spun"+defix).height(height);jQuery(".bwg"+source+"_description_spun"+defix).width(width);jQuery(".bwg"+source+"_description_spun"+defix).height(height);}
if(jQuery.trim(jQuery(".bwg"+source+"_title_text"+defix).text())){jQuery(".bwg_slideshow_title_text"+defix).css({display:''});}
if(jQuery.trim(jQuery(".bwg"+source+"_description_text"+defix).text())){jQuery(".bwg"+source+"_description_text"+defix).css({display:''});}}
function bwg_set_filmstrip_pos(filmStripWidth,bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';var left_or_top=(typeof bwg!='undefined')?bwg_params[bwg]['left_or_top']:bwg_param['left_or_top'];var top_bottom_space=parseInt(jQuery(".bwg_filmstrip_thumbnails").attr('data-all-images-top-bottom-space'));var right_left_space=parseInt(jQuery(".bwg_filmstrip_thumbnails").attr('data-all-images-right-left-space'));if(typeof bwg=='undefined'){if(bwg_param['outerWidth_or_outerHeight']=='outerWidth'){var selectedImagePos=-bwg_current_filmstrip_pos-(jQuery(".bwg_filmstrip_thumbnail").outerWidth(true))/2;}else if(bwg_param['outerWidth_or_outerHeight']=='outerHeight'){var selectedImagePos=-bwg_current_filmstrip_pos-(jQuery(".bwg_filmstrip_thumbnail").outerHeight(true))/2;}
if(bwg_param['width_or_height']=='width'){var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_filmstrip_thumbnails").width(),selectedImagePos+filmStripWidth/2));}else if(bwg_param['width_or_height']=='height'){var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_filmstrip_thumbnails").height(),selectedImagePos+filmStripWidth/2));}}else{if(bwg_params[bwg]['width_or_height']=='width'){var selectedImagePos=-bwg_params[bwg]['bwg_current_filmstrip_pos']-(jQuery(".bwg_slideshow_filmstrip_thumbnail"+defix).width()+bwg_params[bwg]['filmstrip_thumb_margin_hor'])/2;var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_slideshow_filmstrip_thumbnails"+defix).width(),selectedImagePos+filmStripWidth/2));}
else{var selectedImagePos=-bwg_params[bwg]['bwg_current_filmstrip_pos']-(jQuery(".bwg_slideshow_filmstrip_thumbnail"+defix).height()+bwg_params[bwg]['filmstrip_thumb_margin_hor'])/2;var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_slideshow_filmstrip_thumbnails"+defix).height(),selectedImagePos+filmStripWidth/2));}}
if(imagesContainerLeft+right_left_space>0){right_left_space=0;}
if(imagesContainerLeft+top_bottom_space>0){top_bottom_space=0;}
if(left_or_top=='left'){jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({left:imagesContainerLeft+right_left_space},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}else{jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({top:imagesContainerLeft+top_bottom_space},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}}
function bwg_filmstrip_arrows(bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';var width_or_height=(typeof bwg!='undefined')?bwg_params[bwg]['width_or_heigh']:bwg_param['width_or_height'];if(width_or_height=='width'){var condition1=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).width();var condition2=jQuery(".bwg"+source+"_filmstrip"+defix).width()}else{var condition1=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).height();var condition2=jQuery(".bwg"+source+"_filmstrip"+defix).height()}
if(condition1<condition2){jQuery(".bwg"+source+"_filmstrip_left"+defix).hide();jQuery(".bwg"+source+"_filmstrip_right"+defix).hide();}
else{jQuery(".bwg"+source+"_filmstrip_left"+defix).show();jQuery(".bwg"+source+"_filmstrip_right"+defix).show();}}
function bwg_move_filmstrip(bwg){var bwg_filmstrip_width;var bwg_filmstrip_thumbnails_width;var image_left;var image_right;var long_filmstrip_cont_left;var long_filmstrip_cont_right;var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';var outerWidth_or_outerHeight=(typeof bwg!='undefined')?bwg_params[bwg]['outerWidth_or_outerHeight']:bwg_param['outerWidth_or_outerHeight'];var left_or_top=(typeof bwg!='undefined')?bwg_params[bwg]['left_or_top']:bwg_param['left_or_top'];if(outerWidth_or_outerHeight=='outerWidth'){bwg_filmstrip_width=jQuery(".bwg"+source+"_filmstrip"+defix).outerWidth(true);bwg_filmstrip_thumbnails_width=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).outerWidth(true);}else{bwg_filmstrip_width=jQuery(".bwg"+source+"_filmstrip"+defix).outerHeight(true);bwg_filmstrip_thumbnails_width=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).outerHeight(true);}
if(left_or_top=='left'){image_left=jQuery(".bwg"+source+"_thumb_active"+defix).position().left;if(outerWidth_or_outerHeight=='outerWidth'){image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().left+jQuery(".bwg"+source+"_thumb_active"+defix).outerWidth(true);}else{image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().left+jQuery(".bwg"+source+"_thumb_active"+defix).outerHeight(true);}
long_filmstrip_cont_left=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().left;long_filmstrip_cont_right=Math.abs(jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().left)+bwg_filmstrip_width;}else{image_left=jQuery(".bwg"+source+"_thumb_active"+defix).position().top;if(outerWidth_or_outerHeight=='outerWidth'){image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().top+jQuery(".bwg"+source+"_thumb_active"+defix).outerWidth(true);}else{image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().top+jQuery(".bwg"+source+"_thumb_active"+defix).outerHeight(true);}
long_filmstrip_cont_left=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().top;long_filmstrip_cont_right=Math.abs(jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().top)+bwg_filmstrip_width;}
if(bwg_filmstrip_width>bwg_filmstrip_thumbnails_width){return;}
if(image_left<Math.abs(long_filmstrip_cont_left)){if(left_or_top=='left'){jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({left:-image_left},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}else{jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({top:-image_left},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}}
else if(image_right>long_filmstrip_cont_right){if(left_or_top=='left'){jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({left:-(image_right-bwg_filmstrip_width)},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}else{jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({top:-(image_right-bwg_filmstrip_width)},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}}}
function bwg_move_dots(bwg){var image_left=jQuery(".bwg_slideshow_dots_active_"+bwg).position().left;var image_right=jQuery(".bwg_slideshow_dots_active_"+bwg).position().left+jQuery(".bwg_slideshow_dots_active_"+bwg).outerWidth(true);var bwg_dots_width=jQuery(".bwg_slideshow_dots_container_"+bwg).outerWidth(true);var bwg_dots_thumbnails_width=jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).outerWidth(false);var long_filmstrip_cont_left=jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).position().left;var long_filmstrip_cont_right=Math.abs(jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).position().left)+bwg_dots_width;if(bwg_dots_width>bwg_dots_thumbnails_width){return;}
if(image_left<Math.abs(long_filmstrip_cont_left)){jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).animate({left:-image_left},{duration:500,complete:function(){}});}
else if(image_right>long_filmstrip_cont_right){jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).animate({left:-(image_right-bwg_dots_width)},{duration:500,complete:function(){}});}}
function bwg_testBrowser_cssTransitions(bwg){return bwg_testDom('Transition',bwg);}
function bwg_testBrowser_cssTransforms3d(bwg){return bwg_testDom('Perspective',bwg);}
function bwg_testDom(prop,bwg){var browserVendors=['','-webkit-','-moz-','-ms-','-o-','-khtml-'];var domPrefixes=['','Webkit','Moz','ms','O','Khtml'];var i=domPrefixes.length;while(i--){if(typeof document.body.style[domPrefixes[i]+prop]!=='undefined'){return true;}}
return false;}
function bwg_fallback(current_image_class,next_image_class,direction,bwg){bwg_fade(current_image_class,next_image_class,direction,bwg);}
function bwg_fallback3d(current_image_class,next_image_class,direction,bwg){bwg_sliceV(current_image_class,next_image_class,direction,bwg);}
function bwg_none(current_image_class,next_image_class,direction,bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';jQuery(current_image_class).css({'opacity':0,'z-index':1});jQuery(next_image_class).css({'opacity':1,'z-index':2});if(typeof bwg!='undefined'){var bwg_current_key=bwg_params[bwg]['bwg_current_key'];bwg_change_watermark_container(bwg);jQuery(".bwg_slideshow_filmstrip_thumbnail"+defix).removeClass("bwg_slideshow_thumb_active"+defix).addClass("bwg_slideshow_thumb_deactive"+defix);jQuery("#bwg_filmstrip_thumbnail_"+bwg_current_key+defix).removeClass("bwg_slideshow_thumb_deactive"+defix).addClass("bwg_slideshow_thumb_active"+defix);jQuery(".bwg_slideshow_dots"+defix).removeClass("bwg_slideshow_dots_active"+defix).addClass("bwg_slideshow_dots_deactive"+defix);jQuery("#bwg_dots_"+bwg_current_key+defix).removeClass("bwg_slideshow_dots_deactive"+defix).addClass("bwg_slideshow_dots_active"+defix);}else{jQuery(".bwg_image_info").show();bwg_param['bwg_trans_in_progress']=false;jQuery(current_image_class).html('');bwg_change_watermark_container();}}
function bwg_iterator(bwg){var iterator=1;if(typeof bwg!='undefined'&&typeof bwg_params[bwg]!='undefined'&&bwg_params[bwg]['enable_slideshow_shuffle']==1){iterator=Math.floor((bwg_params[bwg]['data'].length-1)*Math.random()+1);}
return iterator;}
function bwg_change_image_slideshow(current_key,key,data,from_effect,bwg){var data=bwg_params[bwg]['data'];jQuery("#bwg_slideshow_image_container_"+bwg).find("iframe").each(function(){jQuery(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');jQuery(this)[0].contentWindow.postMessage('{ "method": "pause" }',"*");jQuery(this)[0].contentWindow.postMessage('pause','*');});jQuery('#image_id_'+bwg+'_'+data[current_key]["id"]).find('.bwg_fb_video').each(function(){jQuery(this).attr('src',jQuery(this).attr('src'));});if(data[key]){if(jQuery('.bwg_ctrl_btn_'+bwg).hasClass('fa-pause')){bwg_play(bwg_params[bwg]['data'],bwg);}
if(!from_effect){jQuery("#bwg_current_image_key_"+bwg).val(key);if(current_key=='-1'){current_key=jQuery(".bwg_slideshow_thumb_active_"+bwg).children("img").attr("image_key");}
else if(current_key=='-2'){current_key=jQuery(".bwg_slideshow_dots_active_"+bwg).attr("image_key");}}
if(bwg_params[bwg]['bwg_trans_in_progress']){bwg_params[bwg]['event_stack'].push(current_key+'-'+key);return;}
var direction='right';if(current_key>key){var direction='left';}else if(current_key==key){return;}
jQuery(".bwg_slideshow_watermark_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_title_text_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_description_text_"+bwg).css({display:'none'});if(bwg_params[bwg]['width_or_height']=='width'){bwg_params[bwg]['bwg_current_filmstrip_pos']=key*(jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).width()+2+2*bwg_params[bwg]['lightbox_filmstrip_thumb_border_width']);}else{bwg_params[bwg]['bwg_current_filmstrip_pos']=key*(jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).height()+2+2*bwg_params[bwg]['lightbox_filmstrip_thumb_border_width']);}
current_key=key;bwg_params[bwg]['bwg_current_key']=current_key;jQuery("#bwg_slideshow_image_"+bwg).attr('image_id',data[key]["id"]);jQuery(".bwg_slideshow_title_text_"+bwg).html(jQuery('<span style="display: block;" />').html(data[key]["alt"]).text());jQuery(".bwg_slideshow_description_text_"+bwg).html(jQuery('<span style="display: block;" />').html(data[key]["description"]).text());var current_image_class=jQuery(".bwg_slideshow_image_spun_"+bwg).css("zIndex")==2?".bwg_slideshow_image_spun_"+bwg:".bwg_slideshow_image_second_spun_"+bwg;var next_image_class=current_image_class==".bwg_slideshow_image_second_spun_"+bwg?".bwg_slideshow_image_spun_"+bwg:".bwg_slideshow_image_second_spun_"+bwg;var is_embed=data[key]['filetype'].indexOf("EMBED_")>-1?true:false;var is_embed_instagram_post=data[key]['filetype'].indexOf('INSTAGRAM_POST')>-1?true:false;var is_embed_instagram_video=data[key]['filetype'].indexOf('INSTAGRAM_VIDEO')>-1?true:false;var cur_height=jQuery(current_image_class).height();var cur_width=jQuery(current_image_class).width();var innhtml='<span class="bwg_slideshow_image_spun1_'+bwg+'" style="display:  '+(!is_embed?'table':'block')+' ;width: inherit; height: inherit;"><span class="bwg_slideshow_image_spun2_'+bwg+'" style="display: '+(!is_embed?'table-cell':'block')+'; vertical-align: middle; text-align: center; ">';if(!is_embed){if(bwg_params[bwg]['thumb_click_action']!='do_nothing'){var argument='';if(bwg_params[bwg]['thumb_click_action']=='open_lightbox')
{argument+=' class="bwg_lightbox" data-image-id="'+data[key]["id"]+'"';}else{if(bwg_params[bwg]["thumb_click_action"]=="redirect_to_url"&&data[key]["redirect_url"]){argument+='href="'+data[key]["redirect_url"]+'"'+((bwg_params[bwg]['thumb_link_target']&&bwg_params[bwg]['thumb_link_target']==1)?' target="_blank"':'');}}
innhtml+='<a '+argument+'>';}
innhtml+='<img style="max-height: '+cur_height+'px !important; max-width: '+cur_width+'px !important; display:inline-block;" ';innhtml+=' class="bwg_slide bwg_slideshow_image_'+bwg+'" ';innhtml+=' id="bwg_slideshow_image_'+bwg+'" ';innhtml+=' src="'+bwg_params[bwg]['upload_url']+jQuery("<span style=\'display: block;\' />").html(data[key]["image_url"]).text()+'" alt="'+data[key]["alt"]+'" image_id="'+data[key]["id"]+'" /></a>';}else{innhtml+='<span style="height: '+cur_height+'px; width: '+cur_width+'px;" class="bwg_popup_embed bwg_popup_watermark">';if(is_embed_instagram_video){innhtml+='<span class="bwg_inst_play_btn_cont" onclick="bwg_play_instagram_video(this)"><span class="bwg_inst_play"></span></span>';}
if(is_embed_instagram_post){var post_width=0;var post_height=0;if(cur_height<cur_width+88){post_height=cur_height;post_width=post_height-88;}
else{post_width=cur_width;post_height=post_width+88;}
innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",'data-width':data[key]['image_width'],'data-height':data[key]['image_height'],frameborder:"0",allowfullscreen:"allowfullscreen",style:"width:"+post_width+"px; height:"+post_height+"px; vertical-align:middle; display:inline-block; position:relative;"});}else{innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",frameborder:"0",allowfullscreen:"allowfullscreen",style:"width:inherit; height:inherit; vertical-align:middle; display:table-cell;"});}
innhtml+="</span>";}
innhtml+='</span></span>';jQuery(next_image_class).html(innhtml);if(bwg_params[bwg]['preload_images']){bwg_preload_images(key,bwg);}
window["bwg_"+bwg_params[bwg]['slideshow_effect']](current_image_class,next_image_class,direction,bwg);if(bwg_params[bwg]['enable_slideshow_filmstrip']>0){bwg_move_filmstrip(bwg);}
else{bwg_move_dots(bwg);}
if(data[key]["is_embed_video"]){jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:'none'});}
else{jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:''});}}
bwg_add_lightbox();}
function bwg_preload_images_slideshow(key,bwg){var data=bwg_params[bwg]['data'];count=bwg_params[bwg]['preload_images_count']/2;var count_all=data.length;if(count_all<bwg_params[bwg]['preload_images_count']){count=0;}
if(count!=0){for(var i=key-count;i<key+count;i++){var index=parseInt((i+count_all)%count_all);var is_embed=data[index]['filetype'].indexOf("EMBED_")>-1?true:false;if(typeof data[index]!="undefined"){if(!is_embed){jQuery("<img/>").attr("src",bwg_params[bwg]['upload_url']+jQuery('<span style="display: block;" />').html(data[index]["image_url"]).text());}}}}else{for(var i=0;i<data.length;i++){var is_embed=data[i]['filetype'].indexOf("EMBED_")>-1?true:false;if(typeof data[i]!="undefined"){if(!is_embed){jQuery("<img/>").attr("src",bwg_params[bwg]['upload_url']+jQuery('<span style="display: block;" />').html(data[i]["image_url"]).text());}}}}}
function bwg_preload_images(key,bwg){if(typeof bwg!='undefined'){bwg_preload_images_slideshow(key,bwg);}else{bwg_preload_images_lightbox(key);}}
function bwg_popup_resize_slidshow(bwg){var parent_width=jQuery(".bwg_slideshow_image_wrap_"+bwg).parent().width();var data=bwg_params[bwg]['data'];if(parent_width>=bwg_params[bwg]['image_width']){jQuery(".bwg_slideshow_image_wrap_"+bwg).css({width:bwg_params[bwg]['image_width']});jQuery(".bwg_slideshow_image_wrap_"+bwg).css({height:bwg_params[bwg]['image_height']});jQuery(".bwg_slideshow_image_container_"+bwg).css({width:(bwg_params[bwg]['filmstrip_direction']=='horizontal')?bwg_params[bwg]['image_width']:(bwg_params[bwg]['image_width']-bwg_params[bwg]['slideshow_filmstrip_width'])});jQuery(".bwg_slideshow_image_container_"+bwg).css({height:(bwg_params[bwg]['filmstrip_direction']=='horizontal')?bwg_params[bwg]['image_height']-bwg_params[bwg]['slideshow_filmstrip_height']:bwg_params[bwg]['image_height']});jQuery(".bwg_slideshow_image_"+bwg).css({cssText:"max-width: "+(bwg_params[bwg]['filmstrip_direction']=='horizontal ')?bwg_params[bwg]['image_width']:(bwg_params[bwg]['image_width']-bwg_params[bwg]['slideshow_filmstrip_width'])+"px !important; max-height: "+(bwg_params[bwg]['filmstrip_direction']=='horizontal')?(bwg_params[bwg]['image_height']-bwg_params[bwg]['slideshow_filmstrip_height']):bwg_params[bwg]['image_height']+"px !important;"});jQuery(".bwg_slideshow_embed_"+bwg).css({cssText:"width: "+(bwg_params[bwg]['filmstrip_direction']=='horizontal')?bwg_params[bwg]['image_width']:(bwg_params[bwg]['image_width']-bwg_params[bwg]['slideshow_filmstrip_width'])+"px !important; height:"+(bwg_params[bwg]['filmstrip_direction']=='horizontal')?(bwg_params[bwg]['image_height']-bwg_params[bwg]['slideshow_filmstrip_height']):bwg_params[bwg]['image_height']+"px !important;"});bwg_resize_instagram_post(bwg);bwg_change_watermark_container(bwg);var filmstrip_container_css=(bwg_params[bwg]['filmstrip_direction']=='horizontal')?'width: '+bwg_params[bwg]['image_width']:'height: '+bwg_params[bwg]['image_height'];var filmstrip_css=(bwg_params[bwg]['filmstrip_direction']=='horizontal')?'width: '+(bwg_params[bwg]['image_width']-40):'height: '+(bwg_params[bwg]['image_height']-40);jQuery(".bwg_slideshow_filmstrip_container_"+bwg).css({cssText:filmstrip_container_css});jQuery(".bwg_slideshow_filmstrip_"+bwg).css({cssText:filmstrip_css});jQuery(".bwg_slideshow_dots_container_"+bwg).css({width:bwg_params[bwg]['image_width']});jQuery("#bwg_slideshow_play_pause-ico_"+bwg).css({fontSize:(bwg_params[bwg]['slideshow_play_pause_btn_size'])});if(bwg_params[bwg]['watermark_type']=='image'){jQuery(".bwg_slideshow_watermark_image_"+bwg).css({maxWidth:bwg_params[bwg]['watermark_width'],maxHeight:bwg_params[bwg]['watermark_height']});}
if(bwg_params[bwg]['watermark_type']=='text'){jQuery(".bwg_slideshow_watermark_text_"+bwg+", .bwg_slideshow_watermark_text_"+bwg+" : hover").css({fontSize:(bwg_params[bwg]['watermark_font_size'])});}
jQuery(".bwg_slideshow_title_text_"+bwg).css({fontSize:(bwg_params[bwg]['slideshow_title_font_size']*2)});jQuery(".bwg_slideshow_description_text_"+bwg).css({fontSize:(bwg_params[bwg]['slideshow_description_font_size']*2)});}
else{jQuery(".bwg_slideshow_image_wrap_"+bwg).css({width:(parent_width)});jQuery(".bwg_slideshow_image_wrap_"+bwg).css({height:((parent_width)*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_image_container_"+bwg).css({width:(parent_width-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?0:bwg_params[bwg]['slideshow_filmstrip_width']))});jQuery(".bwg_slideshow_image_container_"+bwg).css({height:((parent_width)*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width']-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?bwg_params[bwg]['slideshow_filmstrip_height']:0))});jQuery(".bwg_slideshow_image_"+bwg).css({cssText:"max-width: "+(parent_width-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?0:bwg_params[bwg]['slideshow_filmstrip_width']))+"px !important; max-height: "+(parent_width*(bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?bwg_params[bwg]['slideshow_filmstrip_height']:0)-1)+"px !important;"});jQuery(".bwg_slideshow_embed_"+bwg).css({cssText:"width: "+(parent_width-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?0:bwg_params[bwg]['slideshow_filmstrip_width']))+"px !important; height: "+(parent_width*(bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?bwg_params[bwg]['slideshow_filmstrip_height']:0)-1)+"px !important;"});bwg_resize_instagram_post(bwg);bwg_change_watermark_container(bwg);if(bwg_params[bwg]['filmstrip_direction']=='horizontal'){jQuery(".bwg_slideshow_filmstrip_container_"+bwg).css({width:(parent_width)});jQuery(".bwg_slideshow_filmstrip_"+bwg).css({width:(parent_width-40)});}else{jQuery(".bwg_slideshow_filmstrip_container_"+bwg).css({height:(parent_width*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_filmstrip_"+bwg).css({height:(parent_width*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width']-40)});}
jQuery(".bwg_slideshow_dots_container_"+bwg).css({width:(parent_width)});jQuery("#bwg_slideshow_play_pause-ico_"+bwg).css({fontSize:((parent_width)*bwg_params[bwg]['slideshow_play_pause_btn_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_watermark_image_"+bwg).css({maxWidth:((parent_width)*bwg_params[bwg]['watermark_width']/bwg_params[bwg]['image_width']),maxHeight:((parent_width)*bwg_params[bwg]['watermark_height']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_watermark_text_"+bwg+", .bwg_slideshow_watermark_text_"+bwg+":hover").css({fontSize:((parent_width)*bwg_params[bwg]['watermark_font_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_title_text_"+bwg).css({fontSize:((parent_width)*2*bwg_params[bwg]['slideshow_title_font_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_description_text_"+bwg).css({fontSize:((parent_width)*2*bwg_params[bwg]['slideshow_description_font_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_image_"+bwg).css({'display':'inline-block'});}
if(data[parseInt(jQuery("#bwg_current_image_key_"+bwg).val())]["is_embed_video"]){jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:'none'});}
else{jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:''});}}
function bwg_popup_resize(bwg){if(typeof bwg!='undefined'){bwg_popup_resize_slidshow(bwg);}else{bwg_popup_resize_lightbox();}}
function bwg_change_image(current_key,key,data,from_effect,bwg){if(typeof bwg!='undefined'){bwg_change_image_slideshow(current_key,key,data,from_effect,bwg);}else{bwg_change_image_lightbox(current_key,key,data,from_effect);}}
function bwg_resize_instagram_post(bwg){if(typeof bwg!='undefined'){if(jQuery(".inner_instagram_iframe_bwg_embed_frame_"+bwg).length){var post_width=jQuery(".bwg_slideshow_embed_"+bwg).width();var post_height=jQuery(".bwg_slideshow_embed_").height();jQuery(".inner_instagram_iframe_bwg_embed_frame_"+bwg).each(function(){var parent_container=jQuery(this).parent();if(post_height/(parseInt(parent_container.attr('data-height'))+96)<post_width/parseInt(parent_container.attr('data-width'))){parent_container.height(post_height);parent_container.width((parent_container.height()-96)*parent_container.attr('data-width')/parent_container.attr('data-height')+16);}
else{parent_container.width(post_width);parent_container.height((parent_container.width()-16)*parent_container.attr('data-height')/parent_container.attr('data-width')+96);}});bwg_change_watermark_container(bwg);}}else{if(jQuery('.inner_instagram_iframe_bwg_embed_frame').length){var post_width=jQuery(".bwg_image_container").width();var post_height=jQuery(".bwg_image_container").height();var FeedbackSocialProofHeight=132;jQuery('.inner_instagram_iframe_bwg_embed_frame').each(function(){var parent_container=jQuery(this).parent();if(post_height/(parseInt(parent_container.attr('data-height'))+FeedbackSocialProofHeight)<post_width/parseInt(parent_container.attr('data-width'))){parent_container.height(post_height);parent_container.width((parent_container.height()-FeedbackSocialProofHeight)*parent_container.attr('data-width')/parent_container.attr('data-height')+16);}
else{parent_container.width(post_width);parent_container.height((parent_container.width()-16)*parent_container.attr('data-height')/parent_container.attr('data-width')+96);}
parent_container.css({top:0.5*(post_height-parent_container.height())});});bwg_change_watermark_container();}}}
function bwg_play(data,bwg){if(typeof bwg!='undefined'){var data=bwg_params[bwg]['data'];}
if(typeof bwg!='undefined'){window.clearInterval(window['bwg_playInterval'+bwg]);window['bwg_playInterval'+bwg]=setInterval(function(){var iterator=1;if(bwg_params[bwg]['enable_slideshow_shuffle']==1){iterator=Math.floor((data.length-1)*Math.random()+1);}
bwg_change_image(parseInt(jQuery("#bwg_current_image_key_"+bwg).val()),(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())+iterator)%data.length,data,'',bwg)},bwg_params[bwg]['slideshow_interval']*1000);}else{window.clearInterval(bwg_param['bwg_playInterval']);bwg_param['bwg_playInterval']=setInterval(function(){if(jQuery(".bwg_comment_container").hasClass("bwg_open")||(jQuery(".bwg_play_pause").length&&jQuery(".bwg_play_pause").hasClass("fa-play"))){return;}
if(typeof data!='undefined'&&typeof data[(parseInt(jQuery('#bwg_current_image_key').val())+1)]=='undefined'){if(bwg_param['enable_loop']==1){bwg_change_image(parseInt(jQuery('#bwg_current_image_key').val()),0,data);}
return;}
bwg_change_image(parseInt(jQuery('#bwg_current_image_key').val()),parseInt(jQuery('#bwg_current_image_key').val())+1,data)},bwg_param['slideshow_interval']*1000);}}
function bwg_image_browser(bwg){jQuery('#bwg_embed_frame_16x9_'+bwg).width(jQuery('#bwg_embed_frame_16x9_'+bwg).parents('.image_browser_image_buttons_'+bwg).width());jQuery('#bwg_embed_frame_16x9_'+bwg).height(jQuery('#bwg_embed_frame_16x9_'+bwg).width()*0.5625);jQuery('#bwg_embed_frame_instapost_'+bwg).width(jQuery('#bwg_embed_frame_16x9_'+bwg).parents('.image_browser_image_buttons_'+bwg).width());if(jQuery('.image_browser_images_conteiner_'+bwg).find('.fluid-width-video-wrapper').length){var content=jQuery('.image_browser_images_conteiner_'+bwg).find('.fluid-width-video-wrapper').contents();jQuery('.image_browser_images_conteiner_'+bwg).find('.fluid-width-video-wrapper').replaceWith(content);}
jQuery('.bwg_embed_frame_instapost_'+bwg).height((jQuery('.bwg_embed_frame_instapost_'+bwg).width()-16)*jQuery('.bwg_embed_frame_instapost_'+bwg).attr('data-height')/jQuery('.bwg_embed_frame_instapost_'+bwg).attr('data-width')+96);var bwg_image_browser_width=jQuery('.image_browser_images_'+bwg).width();if(bwg_image_browser_width<=108){jQuery('.paging-input_'+bwg).css('display','none');}
else if(bwg_image_browser_width<=200){jQuery('.paging-input_'+bwg).css('margin','0% 0% 0% 0%');jQuery('.paging-input_'+bwg).css('display','inline');jQuery('.tablenav-pages_'+bwg+' .next-page').css('margin','0% 0% 0% 0%');jQuery('.tablenav-pages_'+bwg+' .prev-page').css('margin','0% 0% 0% 0%');}
else if(bwg_image_browser_width<=580){jQuery('.paging-input_'+bwg).css('display','inline');jQuery('.tablenav-pages_'+bwg+' a').css('font-size','13px');jQuery('.paging-input_'+bwg).css('margin','0% 7% 0% 7%');jQuery('.tablenav-pages_'+bwg+' .next-page').css('margin','0% 0% 0% 0%');jQuery('.tablenav-pages_'+bwg+' .prev-page').css('margin','0% 0% 0% 0%');}
else{jQuery('.tablenav-pages_'+bwg+' a').css('font-size','15px');jQuery('.paging-input_'+bwg).css('margin','0%  14% 0%  14%');jQuery('.paging-input_'+bwg).css('display','inline');jQuery('.tablenav-pages_'+bwg+' .next-page').css('margin','0% 0% 0% 0%');jQuery('.tablenav-pages_'+bwg+' .prev-page').css('margin','0% 0% 0% 0%');}}
function bwg_disable_right_click(container){container.bind("contextmenu",function(){return false;});container.css('webkitTouchCallout','none');};
(function(i,t){var n,e="superslides";n=function(n,e){this.options=t.extend({play:!1,animation_speed:600,animation_easing:"swing",animation:"slide",inherit_width_from:i,inherit_height_from:i,pagination:!0,hashchange:!1,scrollable:!0,elements:{preserve:".preserve",nav:".slides-navigation",container:".slides-container",pagination:".slides-pagination"}},e);var s=this,o=t("<div>",{"class":"slides-control"}),a=1;this.$el=t(n),this.$container=this.$el.find(this.options.elements.container);var r=function(){return a=s._findMultiplier(),s.$el.on("click",s.options.elements.nav+" a",function(i){i.preventDefault(),s.stop(),t(this).hasClass("next")?s.animate("next",function(){s.start()}):s.animate("prev",function(){s.start()})}),t(document).on("keyup",function(i){37===i.keyCode&&s.animate("prev"),39===i.keyCode&&s.animate("next")}),t(i).on("resize",function(){setTimeout(function(){var i=s.$container.children();s.width=s._findWidth(),s.height=s._findHeight(),i.css({width:s.width,left:s.width}),s.css.containers(),s.css.images()},10)}),s.options.hashchange&&t(i).on("hashchange",function(){var i,t=s._parseHash();i=s._upcomingSlide(t),i>=0&&i!==s.current&&s.animate(i)}),s.pagination._events(),s.start(),s},h={containers:function(){s.init?(s.$el.css({height:s.height}),s.$control.css({width:s.width*a,left:-s.width}),s.$container.css({})):(t("body").css({margin:0}),s.$el.css({position:"relative",overflow:"hidden",width:"100%",height:s.height}),s.$control.css({position:"relative",transform:"translate3d(0)",height:"100%",width:s.width*a,left:-s.width}),s.$container.css({display:"none",margin:"0",padding:"0",listStyle:"none",position:"relative",height:"100%"})),1===s.size()&&s.$el.find(s.options.elements.nav).hide()},images:function(){var i=s.$container.find("img").not(s.options.elements.preserve);i.removeAttr("width").removeAttr("height").css({"-webkit-backface-visibility":"hidden","-ms-interpolation-mode":"bicubic",position:"absolute",left:"0",top:"0","z-index":"-1","max-width":"none"}),i.each(function(){var i=s.image._aspectRatio(this),n=this;if(t.data(this,"processed"))s.image._scale(n,i),s.image._center(n,i);else{var e=new Image;e.onload=function(){s.image._scale(n,i),s.image._center(n,i),t.data(n,"processed",!0)},e.src=this.src}})},children:function(){var i=s.$container.children();i.is("img")&&(i.each(function(){if(t(this).is("img")){t(this).wrap("<div>");var i=t(this).attr("id");t(this).removeAttr("id"),t(this).parent().attr("id",i)}}),i=s.$container.children()),s.init||i.css({display:"none",left:2*s.width}),i.css({position:"absolute",overflow:"hidden",height:"100%",width:s.width,top:0,zIndex:0})}},c={slide:function(i,t){var n=s.$container.children(),e=n.eq(i.upcoming_slide);e.css({left:i.upcoming_position,display:"block"}),s.$control.animate({left:i.offset},s.options.animation_speed,s.options.animation_easing,function(){s.size()>1&&(s.$control.css({left:-s.width}),n.eq(i.upcoming_slide).css({left:s.width,zIndex:2}),i.outgoing_slide>=0&&n.eq(i.outgoing_slide).css({left:s.width,display:"none",zIndex:0})),t()})},fade:function(i,t){var n=this,e=n.$container.children(),s=e.eq(i.outgoing_slide),o=e.eq(i.upcoming_slide);o.css({left:this.width,opacity:0,display:"block"}).animate({opacity:1},n.options.animation_speed,n.options.animation_easing),i.outgoing_slide>=0?s.animate({opacity:0},n.options.animation_speed,n.options.animation_easing,function(){n.size()>1&&(e.eq(i.upcoming_slide).css({zIndex:2}),i.outgoing_slide>=0&&e.eq(i.outgoing_slide).css({opacity:1,display:"none",zIndex:0})),t()}):(o.css({zIndex:2}),t())}};c=t.extend(c,t.fn.superslides.fx);var d={_centerY:function(i){var n=t(i);n.css({top:(s.height-n.height())/2})},_centerX:function(i){var n=t(i);n.css({left:(s.width-n.width())/2})},_center:function(i){s.image._centerX(i),s.image._centerY(i)},_aspectRatio:function(i){if(!i.naturalHeight&&!i.naturalWidth){var t=new Image;t.src=i.src,i.naturalHeight=t.height,i.naturalWidth=t.width}return i.naturalHeight/i.naturalWidth},_scale:function(i,n){n=n||s.image._aspectRatio(i);var e=s.height/s.width,o=t(i);e>n?o.css({height:s.height,width:s.height/n}):o.css({height:s.width*n,width:s.width})}},l={_setCurrent:function(i){if(s.$pagination){var t=s.$pagination.children();t.removeClass("current"),t.eq(i).addClass("current")}},_addItem:function(i){var n=i+1,e=n,o=s.$container.children().eq(i),a=o.attr("id");a&&(e=a);var r=t("<a>",{href:"#"+e,text:e});r.appendTo(s.$pagination)},_setup:function(){if(s.options.pagination&&1!==s.size()){var i=t("<nav>",{"class":s.options.elements.pagination.replace(/^\./,"")});s.$pagination=i.appendTo(s.$el);for(var n=0;s.size()>n;n++)s.pagination._addItem(n)}},_events:function(){s.$el.on("click",s.options.elements.pagination+" a",function(i){i.preventDefault();var t,n=s._parseHash(this.hash);t=s._upcomingSlide(n,!0),t!==s.current&&s.animate(t,function(){s.start()})})}};return this.css=h,this.image=d,this.pagination=l,this.fx=c,this.animation=this.fx[this.options.animation],this.$control=this.$container.wrap(o).parent(".slides-control"),s._findPositions(),s.width=s._findWidth(),s.height=s._findHeight(),this.css.children(),this.css.containers(),this.css.images(),this.pagination._setup(),r()},n.prototype={_findWidth:function(){return t(this.options.inherit_width_from).width()},_findHeight:function(){return t(this.options.inherit_height_from).height()},_findMultiplier:function(){return 1===this.size()?1:3},_upcomingSlide:function(i,t){if(t&&!isNaN(i)&&(i-=1),/next/.test(i))return this._nextInDom();if(/prev/.test(i))return this._prevInDom();if(/\d/.test(i))return+i;if(i&&/\w/.test(i)){var n=this._findSlideById(i);return n>=0?n:0}return 0},_findSlideById:function(i){return this.$container.find("#"+i).index()},_findPositions:function(i,t){t=t||this,void 0===i&&(i=-1),t.current=i,t.next=t._nextInDom(),t.prev=t._prevInDom()},_nextInDom:function(){var i=this.current+1;return i===this.size()&&(i=0),i},_prevInDom:function(){var i=this.current-1;return 0>i&&(i=this.size()-1),i},_parseHash:function(t){return t=t||i.location.hash,t=t.replace(/^#/,""),t&&!isNaN(+t)&&(t=+t),t},size:function(){return this.$container.children().length},destroy:function(){return this.$el.removeData()},update:function(){this.css.children(),this.css.containers(),this.css.images(),this.pagination._addItem(this.size()),this._findPositions(this.current),this.$el.trigger("updated.slides")},stop:function(){clearInterval(this.play_id),delete this.play_id,this.$el.trigger("stopped.slides")},start:function(){var n=this;n.options.hashchange?t(i).trigger("hashchange"):this.animate(),this.options.play&&(this.play_id&&this.stop(),this.play_id=setInterval(function(){n.animate()},this.options.play)),this.$el.trigger("started.slides")},animate:function(t,n){var e=this,s={};if(!(this.animating||(this.animating=!0,void 0===t&&(t="next"),s.upcoming_slide=this._upcomingSlide(t),s.upcoming_slide>=this.size()))){if(s.outgoing_slide=this.current,s.upcoming_position=2*this.width,s.offset=-s.upcoming_position,("prev"===t||s.outgoing_slide>t)&&(s.upcoming_position=0,s.offset=0),e.size()>1&&e.pagination._setCurrent(s.upcoming_slide),e.options.hashchange){var o=s.upcoming_slide+1,a=e.$container.children(":eq("+s.upcoming_slide+")").attr("id");i.location.hash=a?a:o}e.$el.trigger("animating.slides",[s]),e.animation(s,function(){e._findPositions(s.upcoming_slide,e),"function"==typeof n&&n(),e.animating=!1,e.$el.trigger("animated.slides"),e.init||(e.$el.trigger("init.slides"),e.init=!0,e.$container.fadeIn("fast"))})}}},t.fn[e]=function(i,s){var o=[];return this.each(function(){var a,r,h;return a=t(this),r=a.data(e),h="object"==typeof i&&i,r||(o=a.data(e,r=new n(this,h))),"string"==typeof i&&(o=r[i],"function"==typeof o)?o=o.call(r,s):void 0}),o},t.fn[e].fx={}})(this,jQuery);(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,c,a,h,d,p,y,v,w,g,m;i=n(r);a=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;c={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[u]=this.id;c[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||a)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(a&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete c[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=this.element[w])!=null?o:[];i.push(this.id);this.element[w]=i}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=t[w];if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=c[i[0][u]];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke.call(this,"disable")},enable:function(){return d._invoke.call(this,"enable")},destroy:function(){return d._invoke.call(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t){this.each(function(){var e;e=l.getWaypointsByElement(this);return n.each(e,function(e,n){n[t]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(c,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=c[n(t)[0][u]])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=c[n(t)[0][u]];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);
!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||[];return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var h=t.jQuery,a=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(h=e,h.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t,e){return t.toFixed(e.decimals)}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,this.dataOptions(),i),this.init()};o.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:e,onUpdate:null,onComplete:null},o.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},o.prototype.dataOptions=function(){var t={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},e=Object.keys(t);for(var o in e){var i=e[o];"undefined"==typeof t[i]&&delete t[i]}return t},o.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},o.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},o.prototype.restart=function(){this.stop(),this.init(),this.start()},o.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},o.prototype.stop=function(){this.interval&&clearInterval(this.interval)},o.prototype.toggle=function(){this.interval?this.stop():this.start()},t.fn.countTo=function(e){return this.each(function(){var i=t(this),n=i.data("countTo"),s=!n||"object"==typeof e,r="object"==typeof e?e:{},a="string"==typeof e?e:"start";s&&(n&&n.stop(),i.data("countTo",n=new o(this,r))),n[a].call(n)})}});
!function(t){"use strict";t.fn.fitVids=function(e){var i={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0],d=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",a=document.createElement("div");a.innerHTML='<p>x</p><style id="fit-vids-style">'+d+"</style>",r.appendChild(a.childNodes[1])}return e&&t.extend(i,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&e.push(i.customSelector);var r=t(this).find(e.join(","));r=r.not("object object"),r.each(function(){var e=t(this);if(!("embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var i="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),r=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),d=i/r;if(!e.attr("id")){var a="fitvid"+Math.floor(999999*Math.random());e.attr("id",a)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*d+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);!function(n){var t=n(window),e=t.height();t.resize(function(){e=t.height()}),n.fn.parallax=function(o,r,i){function u(){var i=t.scrollTop();l.each(function(t,u){var l=n(u),f=l.offset().top,s=a(l);i>f+s||f>i+e||l.css("backgroundPosition",o+" "+Math.round((l.data("firstTop")-i)*r)+"px")})}var a,l=n(this);l.each(function(t,e){$element=n(e),$element.data("firstTop",$element.offset().top)}),a=i?function(n){return n.outerHeight(!0)}:function(n){return n.height()},(arguments.length<1||null===o)&&(o="50%"),(arguments.length<2||null===r)&&(r=.1),(arguments.length<3||null===i)&&(i=!0),t.bind("scroll",u).resize(u),u()}}(jQuery);"function"!==typeof Object.create&&(Object.create=function(f){function g(){}g.prototype=f;return new g});(function(f,g,k){var l={init:function(a,b){this.$elem=f(b);this.options=f.extend({},f.fn.owlCarousel.options,this.$elem.data(),a);this.userOptions=a;this.loadContent()},loadContent:function(){function a(a){var d,e="";if("function"===typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{for(d in a.owl)a.owl.hasOwnProperty(d)&&(e+=a.owl[d].item);b.$elem.html(e)}b.logIn()}var b=this,e;"function"===typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]);"string"===typeof b.options.jsonPath?(e=b.options.jsonPath,f.getJSON(e,a)):b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;g.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),g.clearInterval(a.autoPlayInterval),g.clearInterval(a.checkVisible);else return!1;a.checkVisible=g.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),g.clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){var a,b;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;a=f(this.options.responsiveBaseWidth).width();a>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems);if(!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]}),b=0;b<this.options.itemsCustom.length;b+=1)this.options.itemsCustom[b][0]<=a&&(this.options.items=this.options.itemsCustom[b][1]);else a<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),a<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),a<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),a<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),a<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var a=this,b,e;if(!0!==a.options.responsive)return!1;e=f(g).width();a.resizer=function(){f(g).width()!==e&&(!1!==a.options.autoPlay&&g.clearInterval(a.autoPlayInterval),g.clearTimeout(b),b=g.setTimeout(function(){e=f(g).width();a.updateVars()},a.options.responsiveRefreshRate))};f(g).resize(a.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var a=this,b=0,e=a.itemsAmount-a.options.items;a.$owlItems.each(function(c){var d=f(this);d.css({width:a.itemWidth}).data("owl-item",Number(c));if(0===c%a.options.items||c===e)c>e||(b+=1);d.data("owl-roundPages",b)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){var a=0,b=0,e,c;this.positionsInArray=[0];this.pagesInArray=[];for(e=0;e<this.itemsAmount;e+=1)b+=this.itemWidth,this.positionsInArray.push(-b),!0===this.options.scrollPerPage&&(c=f(this.$owlItems[e]),c=c.data("owl-roundPages"),c!==a&&(this.pagesInArray[a]=this.positionsInArray[e],a=c))},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=f('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var a=this,b=f('<div class="owl-buttons"/>');a.owlControls.append(b);a.buttonPrev=f("<div/>",{"class":"owl-prev",html:a.options.navigationText[0]||""});a.buttonNext=f("<div/>",{"class":"owl-next",html:a.options.navigationText[1]||""});b.append(a.buttonPrev).append(a.buttonNext);b.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});b.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(b){b.preventDefault();f(this).hasClass("owl-next")?a.next():a.prev()})},buildPagination:function(){var a=this;a.paginationWrapper=f('<div class="owl-pagination"/>');a.owlControls.append(a.paginationWrapper);a.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(b){b.preventDefault();Number(f(this).data("owl-page"))!==a.currentItem&&a.goTo(Number(f(this).data("owl-page")),!0)})},updatePagination:function(){var a,b,e,c,d,g;if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");a=0;b=this.itemsAmount-this.itemsAmount%this.options.items;for(c=0;c<this.itemsAmount;c+=1)0===c%this.options.items&&(a+=1,b===c&&(e=this.itemsAmount-this.options.items),d=f("<div/>",{"class":"owl-page"}),g=f("<span></span>",{text:!0===this.options.paginationNumbers?a:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),d.append(g),d.data("owl-page",b===c?e:c),d.data("owl-roundPages",a),this.paginationWrapper.append(d));this.checkPagination()},checkPagination:function(){var a=this;if(!1===a.options.pagination)return!1;a.paginationWrapper.find(".owl-page").each(function(){f(this).data("owl-roundPages")===f(a.$owlItems[a.currentItem]).data("owl-roundPages")&&(a.paginationWrapper.find(".owl-page").removeClass("active"),f(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,b,e){var c=this;if(c.isTransition)return!1;"function"===typeof c.options.beforeMove&&c.options.beforeMove.apply(this,[c.$elem]);a>=c.maximumItem?a=c.maximumItem:0>=a&&(a=0);c.currentItem=c.owl.currentItem=a;if(!1!==c.options.transitionStyle&&"drag"!==e&&1===c.options.items&&!0===c.browser.support3d)return c.swapSpeed(0),!0===c.browser.support3d?c.transition3d(c.positionsInArray[a]):c.css2slide(c.positionsInArray[a],1),c.afterGo(),c.singleItemTransition(),!1;a=c.positionsInArray[a];!0===c.browser.support3d?(c.isCss3Finish=!1,!0===b?(c.swapSpeed("paginationSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.paginationSpeed)):"rewind"===b?(c.swapSpeed(c.options.rewindSpeed),g.setTimeout(function(){c.isCss3Finish=!0},c.options.rewindSpeed)):(c.swapSpeed("slideSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.slideSpeed)),c.transition3d(a)):!0===b?c.css2slide(a,c.options.paginationSpeed):"rewind"===b?c.css2slide(a,c.options.rewindSpeed):c.css2slide(a,c.options.slideSpeed);c.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=this.owl.currentItem=a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";g.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;g.clearInterval(a.autoPlayInterval);a.autoPlayInterval=g.setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+
a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var e=this;e.isCssFinish=!1;e.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||e.options.slideSpeed,complete:function(){e.isCssFinish=!0}})},checkBrowser:function(){var a=k.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in g||g.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(a){return f(a.target).is("input, textarea, select, option")})},gestures:function(){function a(a){if(void 0!==a.touches)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(void 0===a.touches){if(void 0!==a.pageX)return{x:a.pageX,y:a.pageY};if(void 0===a.pageX)return{x:a.clientX,y:a.clientY}}}function b(a){"on"===a?(f(k).on(d.ev_types.move,e),f(k).on(d.ev_types.end,c)):"off"===a&&(f(k).off(d.ev_types.move),f(k).off(d.ev_types.end))}function e(b){b=b.originalEvent||b||g.event;d.newPosX=a(b).x-h.offsetX;d.newPosY=a(b).y-h.offsetY;d.newRelativeX=d.newPosX-h.relativePos;"function"===typeof d.options.startDragging&&!0!==h.dragging&&0!==d.newRelativeX&&(h.dragging=!0,d.options.startDragging.apply(d,[d.$elem]));(8<d.newRelativeX||-8>d.newRelativeX)&&!0===d.browser.isTouch&&(void 0!==b.preventDefault?b.preventDefault():b.returnValue=!1,h.sliding=!0);(10<d.newPosY||-10>d.newPosY)&&!1===h.sliding&&f(k).off("touchmove.owl");d.newPosX=Math.max(Math.min(d.newPosX,d.newRelativeX/5),d.maximumPixels+d.newRelativeX/5);!0===d.browser.support3d?d.transition3d(d.newPosX):d.css2move(d.newPosX)}
function c(a){a=a.originalEvent||a||g.event;var c;a.target=a.target||a.srcElement;h.dragging=!1;!0!==d.browser.isTouch&&d.$owlWrapper.removeClass("grabbing");d.dragDirection=0>d.newRelativeX?d.owl.dragDirection="left":d.owl.dragDirection="right";0!==d.newRelativeX&&(c=d.getNewPosition(),d.goTo(c,!1,"drag"),h.targetElement===a.target&&!0!==d.browser.isTouch&&(f(a.target).on("click.disable",function(a){a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();f(a.target).off("click.disable")}),a=f._data(a.target,"events").click,c=a.pop(),a.splice(0,0,c)));b("off")}var d=this,h={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};d.isCssFinish=!0;d.$elem.on(d.ev_types.start,".owl-wrapper",function(c){c=c.originalEvent||c||g.event;var e;if(3===c.which)return!1;if(!(d.itemsAmount<=d.options.items)){if(!1===d.isCssFinish&&!d.options.dragBeforeAnimFinish||!1===d.isCss3Finish&&!d.options.dragBeforeAnimFinish)return!1;!1!==d.options.autoPlay&&g.clearInterval(d.autoPlayInterval);!0===d.browser.isTouch||d.$owlWrapper.hasClass("grabbing")||d.$owlWrapper.addClass("grabbing");d.newPosX=0;d.newRelativeX=0;f(this).css(d.removeTransition());e=f(this).position();h.relativePos=e.left;h.offsetX=a(c).x-e.left;h.offsetY=a(c).y-e.top;b("on");h.sliding=!1;h.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=a=0);return a},closestItem:function(){var a=this,b=!0===a.options.scrollPerPage?a.pagesInArray:a.positionsInArray,e=a.newPosX,c=null;f.each(b,function(d,g){e-a.itemWidth/20>b[d+1]&&e-a.itemWidth/20<g&&"left"===a.moveDirection()?(c=g,a.currentItem=!0===a.options.scrollPerPage?f.inArray(c,a.positionsInArray):d):e+a.itemWidth/20<g&&e+a.itemWidth/20>(b[d+1]||b[d]-a.itemWidth)&&"right"===a.moveDirection()&&(!0===a.options.scrollPerPage?(c=b[d+1]||b[b.length-1],a.currentItem=f.inArray(c,a.positionsInArray)):(c=b[d+1],a.currentItem=d+1))});return a.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",function(){a.prev()});a.$elem.on("owl.play",function(b,e){a.options.autoPlay=e;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,e){a.goTo(e)});a.$elem.on("owl.jumpTo",function(b,e){a.jumpTo(e)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&!0!==a.browser.isTouch&&!1!==a.options.autoPlay&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){var a,b,e,c,d;if(!1===this.options.lazyLoad)return!1;for(a=0;a<this.itemsAmount;a+=1)b=f(this.$owlItems[a]),"loaded"!==b.data("owl-loaded")&&(e=b.data("owl-item"),c=b.find(".lazyOwl"),"string"!==typeof c.data("src")?b.data("owl-loaded","loaded"):(void 0===b.data("owl-loaded")&&(c.hide(),b.addClass("loading").data("owl-loaded","checked")),(d=!0===this.options.lazyFollow?e>=this.currentItem:!0)&&e<this.currentItem+this.options.items&&c.length&&this.lazyPreload(b,c)))},lazyPreload:function(a,b){function e(){a.data("owl-loaded","loaded").removeClass("loading");b.removeAttr("data-src");"fade"===d.options.lazyEffect?b.fadeIn(400):b.show();"function"===typeof d.options.afterLazyLoad&&d.options.afterLazyLoad.apply(this,[d.$elem])}function c(){f+=1;d.completeImg(b.get(0))||!0===k?e():100>=f?g.setTimeout(c,100):e()}var d=this,f=0,k;"DIV"===b.prop("tagName")?(b.css("background-image","url("+b.data("src")+")"),k=!0):b[0].src=b.data("src");c()},autoHeight:function(){function a(){var a=f(e.$owlItems[e.currentItem]).height();e.wrapperOuter.css("height",a+"px");e.wrapperOuter.hasClass("autoHeight")||g.setTimeout(function(){e.wrapperOuter.addClass("autoHeight")},0)}function b(){d+=1;e.completeImg(c.get(0))?a():100>=d?g.setTimeout(b,100):e.wrapperOuter.css("height","")}var e=this,c=f(e.$owlItems[e.currentItem]).find("img"),d;void 0!==c.get(0)?(d=0,b()):a()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},onVisibleItems:function(){var a;!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(a=this.currentItem;a<this.currentItem+this.options.items;a+=1)this.visibleItems.push(a),!0===this.options.addClassActive&&f(this.$owlItems[a]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this,b=a.outClass,e=a.inClass,c=a.$owlItems.eq(a.currentItem),d=a.$owlItems.eq(a.prevItem),f=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],g=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.isTransition=!0;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":g+"px","-moz-perspective-origin":g+"px","perspective-origin":g+"px"});d.css({position:"relative",left:f+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(d,b)});c.addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;c.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(c,e)})},clearTransStyle:function(a,b){a.css({position:"",left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");f(k).off(".owl owl");f(g).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();g.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(a){a=f.extend({},this.userOptions,a);this.unWrap();this.init(a,this.$elem)},addItem:function(a,b){var e;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();e=void 0===b||-1===b?-1:b;e>=this.$userItems.length||-1===e?this.$userItems.eq(-1).after(a):this.$userItems.eq(e).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=void 0===a||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};f.fn.owlCarousel=function(a){return this.each(function(){if(!0===f(this).data("owl-init"))return!1;f(this).data("owl-init",!0);var b=Object.create(l);b.init(a,this);f.data(this,"owlCarousel",b)})};f.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:g,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);
!function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,a){function u(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,u){var h=a.data(u,i);if(!h)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var d=h[e];if(!d||"_"==e.charAt(0))return void s(r+" is not a valid method");var l=d.apply(h,n);o=void 0===o?l:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return u(this,t,e)}return h(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;h>e;e++){var i=u[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);r.isBoxSizeOuter=s=200==t(o.width),i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==r.boxSizing,l=0;h>l;l++){var f=u[l],c=r[f],m=parseFloat(c);a[f]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,I=a.borderTopWidth+a.borderBottomWidth,z=d&&s,x=t(r.width);x!==!1&&(a.width=x+(z?0:p+_));var S=t(r.height);return S!==!1&&(a.height=S+(z?0:y+I)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(y+I),a.outerWidth=a.width+g,a.outerHeight=a.height+v,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=u.length,d=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){"complete"==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),u=document.querySelectorAll(".js-"+r),h=i.makeArray(a).concat(i.makeArray(u)),d=s+"-options",l=t.jQuery;h.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(d);try{i=r&&JSON.parse(r)}catch(a){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+a))}var u=new e(t,i);l&&l.data(t,o,u)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var r=document.documentElement.style,s="string"==typeof r.transition?"transition":"WebkitTransition",a="string"==typeof r.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],h={transform:a,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=h[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=this.layout.size,s=-1!=n.indexOf("%")?parseFloat(n)/100*r.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=i?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var u=n?"paddingTop":"paddingBottom",h=n?"top":"bottom",d=n?"bottom":"top",l=this.position.y+t[u];e[h]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,u=e-n,h={};h.transform=this.getTranslate(a,u),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(c)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function r(t,e){var i=n.getQueryElement(t);if(!i)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,f[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=m[n]||1;return i*o}var u=t.console,h=t.jQuery,d=function(){},l=0,f={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=r.prototype;n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},c._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){s++,s==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var s=0;e.forEach(function(e){e.once(t,n)})},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),h)if(this.$element=this.$element||h(this.element),e){var o=h.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var m={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define("isotope/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype,o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return o.forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),r=Math.min.apply(Math,o),s=o.indexOf(r),a={x:this.columnWidth*s,y:r},u=r+t.size.outerHeight,h=this.cols+1-o.length,d=0;h>d;d++)this.colYs[s+d]=u;return a},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var h=this._getOption("originTop"),d=(h?n.top:n.bottom)+i.outerHeight,l=a;u>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in e.prototype)o[r]||(n[r]=e.prototype[r]);var s=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","./item","./layout-mode","./layout-modes/masonry","./layout-modes/fit-rows","./layout-modes/vertical"],function(i,n,o,r,s,a){return e(t,i,n,o,r,s,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,n,o,r,s){function a(t,e){return function(i,n){for(var o=0;o<t.length;o++){var r=t[o],s=i.sortData[r],a=n.sortData[r];if(s>a||a>s){var u=void 0!==e[r]?e[r]:e,h=u?1:-1;return(s>a?1:-1)*h}}return 0}}var u=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=r,d.LayoutMode=s;var l=d.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in s.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=s.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},l._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(e),s=0;s<t.length;s++){var a=t[s];if(!a.isIgnored){var u=r(a);u&&i.push(a),u&&a.isHidden?n.push(a):u||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},l._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},l.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var i=h(t).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),r=o&&o[1],s=e(r,n),a=d.sortDataParsers[i[1]];return t=a?function(t){return t&&a(s(t))}:function(t){return t&&s(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=a(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;o>i;i++)n=e[i],this.element.appendChild(n.element);var r=this._filter(e).matches;for(i=0;o>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;o>i;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var c=l.remove;return l.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);c.call(this,t);for(var i=e&&e.length,n=0;i&&i>n;n++){var r=e[n];o.removeFrom(this.filteredItems,r)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d});
!function(n){"use strict";var i,a={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.Android()||a.BlackBerry()||a.iOS()||a.Opera()||a.Windows()}},s={iOS:function(){return navigator.userAgent.match(/iPad/i)},any:function(){return s.iOS()}};n(function(){var o,t,e;n(".slides-container .slide-item").addClass("sliderFix"),setTimeout(function(){n(".slides-container .slide-item").removeClass("sliderFix")},200),function(){function e(){n("#slideshow").imagesLoaded(function(){if(n(window).width()<=1024){var e=n(".slide-item:first-of-type").height();n(".sydney-hero-area, #slideshow").height(e)}else n(".sydney-hero-area").css("height","auto")})}n("#slideshow").length&&n("#slideshow").superslides({play:n("#slideshow").data("speed"),animation:"fade",pagination:!1}),"responsive"===n("#slideshow").data("mobileslider")&&(n(document).ready(e),n(window).resize(function(){setTimeout(function(){e()},50)})),n(function(){n('.mainnav a[href*="#"], a.roll-button[href*="#"], .smoothscroll[href*="#"], .smoothscroll a[href*="#"]').on("click",function(e){var i=this.hash,t=n(i);if(t.length)return e.preventDefault(),n("html, body").stop().animate({scrollTop:t.offset().top-70},900,"swing"),n("#mainnav-mobi").length&&n("#mainnav-mobi").hide(),!1})})}(),function(){if(n(".site-header").length){var i=n(".site-header").offset().top;n(window).on("load scroll",function(){var e=n(this).scrollTop();i<=e?(n(".site-header").addClass("fixed"),n("body").addClass("siteScrolled")):(n(".site-header").removeClass("fixed"),n("body").removeClass("siteScrolled")),107<=e?n(".site-header").addClass("float-header"):n(".site-header").removeClass("float-header")})}}(),n().owlCarousel&&n(".roll-testimonials").owlCarousel({navigation:!1,pagination:!0,responsive:!0,items:1,itemsDesktop:[3e3,1],itemsDesktopSmall:[1400,1],itemsTablet:[970,1],itemsTabletSmall:[600,1],itemsMobile:[360,1],touchDrag:!0,mouseDrag:!0,autoHeight:!0,autoPlay:n(".roll-testimonials").data("autoplay")}),n().owlCarousel&&n(".roll-team:not(.roll-team.no-carousel)").owlCarousel({navigation:!1,pagination:!0,responsive:!0,items:3,itemsDesktopSmall:[1400,3],itemsTablet:[970,2],itemsTabletSmall:[600,1],itemsMobile:[360,1],touchDrag:!0,mouseDrag:!0,autoHeight:!1,autoPlay:!1}),n(".roll-counter").on("on-appear",function(){n(this).find(".numb-count").each(function(){var e=parseInt(n(this).attr("data-to"));n(this).countTo({to:e})})}),n(".progress-bar").on("on-appear",function(){n(this).each(function(){var e=n(this).data("percent");n(this).find(".progress-animate").animate({width:e+"%"},3e3),n(this).parent(".roll-progress").find(".perc").addClass("show").animate({width:e+"%"},3e3)})}),n('[data-waypoint-active="yes"]').waypoint(function(){n(this).trigger("on-appear")},{offset:"90%",triggerOnce:!0}),n(window).on("load",function(){setTimeout(function(){n.waypoints("refresh")},100)}),o="desktop",n(window).on("load resize",function(){var e="desktop";if(matchMedia("only screen and (max-width: 1024px)").matches&&(e="mobile"),e!==o)if("mobile"===(o=e)){var i=n("#mainnav").attr("id","mainnav-mobi").hide(),t=n("#mainnav-mobi").find("li:has(ul)");n("#header").find(".header-wrap").after(i),t.children("ul").hide(),t.children("a").after('<span class="btn-submenu"></span>'),n(".btn-menu").removeClass("active")}else{var a=n("#mainnav-mobi").attr("id","mainnav").removeAttr("style");a.find(".submenu").removeAttr("style"),n("#header").find(".col-md-10").append(a),n(".btn-submenu").remove()}}),n(".btn-menu").on("click",function(){n("#mainnav-mobi").slideToggle(300),n(this).toggleClass("active")}),n(document).on("click","#mainnav-mobi li .btn-submenu",function(e){n(this).toggleClass("active").next("ul").slideToggle(300),e.stopImmediatePropagation()}),function(){function i(){if(n(".sydney-video.vid-lightbox .video-overlay").hasClass("popup-show")){var e=n(".sydney-video.vid-lightbox .video-overlay.popup-show");if(e.find("iframe").hasClass("yt-video"))var i=e.find("iframe").attr("src").replace("&autoplay=1","");else i=e.find("iframe").attr("src").replace("?autoplay=1","");e.find("iframe").attr("src",i),e.removeClass("popup-show")}}n(".toggle-popup").on("click",function(e){e.preventDefault(),n(this).siblings().addClass("popup-show");var i=n(this).siblings().find("iframe").attr("src");-1!==i.indexOf("youtube.com")?(n(this).siblings().find("iframe")[0].src+="&autoplay=1",n(this).siblings().find("iframe").addClass("yt-video")):-1!==i.indexOf("vimeo.com")&&(n(this).siblings().find("iframe")[0].src+="?autoplay=1",n(this).siblings().find("iframe").addClass("vimeo-video"))}),n(document).keyup(function(e){27==e.keyCode&&i()}),n(".sydney-video.vid-lightbox .video-overlay").on("click",function(){i()}),n(".sydney-video.vid-lightbox").parents(".panel-row-style").css({"z-index":"12",overflow:"visible"})}(),n("body").fitVids({ignore:".crellyslider-slider"}),n(".orches-animation").each(function(){var e=n(this),i=e.data("animation"),t=e.data("animation-delay"),a=e.data("animation-offset");e.css({"-webkit-animation-delay":t,"-moz-animation-delay":t,"animation-delay":t}),e.waypoint(function(){e.addClass("animated").addClass(i)},{triggerOnce:!0,offset:a})}),null!=s.any()&&n(".slides-container .slide-item").css("background-attachment","scroll"),n(".panel-row-style").each(function(){if(n(this).data("hascolor")&&n(this).find("h1,h2,h3,h4,h5,h6,a,.fa, div, span").css("color","inherit"),n(this).data("hasbg")&&n(this).data("overlay")){n(this).append('<div class="overlay"></div>');var e=n(this).data("overlay-color");n(this).find(".overlay").css("background-color",e)}}),n(".panel-grid .panel-widget-style").each(function(){var e=n(this).data("title-color"),i=n(this).data("headings-color");e&&n(this).find(".widget-title").css("color",e),i&&n(this).find("h1,h2,h3:not(.widget-title),h4,h5,h6,h3 a").css("color",i)}),null==(i=a.any())&&n(".panel-row-style, .slide-item").parallax("50%",.3),t=n(".project-wrap").data("portfolio-effect"),n(".project-item").children(".item-wrap").addClass("orches-animation"),n(".project-wrap").waypoint(function(e){n(".project-item").children(".item-wrap").each(function(e,i){setTimeout(function(){n(i).addClass("animated "+t)},150*e)})},{offset:"75%"}),n(".widget_fp_social a").attr("target","_blank"),n(window).scroll(function(){800<n(this).scrollTop()?n(".go-top").addClass("show"):n(".go-top").removeClass("show")}),n(".go-top").on("click",function(){return n("html, body").animate({scrollTop:0},1e3),!1}),n(".project-wrap").length&&n(".project-wrap").each(function(){var i=n(this),t=i.find(".project-filter").find("a"),e=function(e){e.isotope({filter:"*",itemSelector:".project-item",percentPosition:!0,animationOptions:{duration:750,easing:"liniar",queue:!1}})};i.children().find(".isotope-container").imagesLoaded(function(){e(i.children().find(".isotope-container"))}),n(window).load(function(){e(i.children().find(".isotope-container"))}),t.click(function(){var e=n(this).attr("data-filter");return t.removeClass("active"),n(this).addClass("active"),i.find(".isotope-container").isotope({filter:e,animationOptions:{duration:750,easing:"liniar",queue:!1}}),!1})}),i=a.iOS(),n(window).on("load",function(){n("#wp-custom-header").fitVids(),n(".fluid-width-video-wrapper + #wp-custom-header-video-button").find("i").removeClass("fa-play").addClass("fa-pause"),n(".fluid-width-video-wrapper + #wp-custom-header-video-button").on("click",function(){n(this).find("i").toggleClass("fa-play fa-pause")}),null!=i&&(n("#wp-custom-header-video-button").css("opacity","0"),n("#wp-custom-header-video").prop("controls",!0))}),e=n(".site-header").outerHeight(),n(".header-clone").css("height",e),n(window).resize(function(){var e=n(".site-header").outerHeight();n(".header-clone").css("height",e)}),n(".preloader").css("opacity",0),setTimeout(function(){n(".preloader").hide()},600)})}(jQuery);
(function(){var is_webkit=navigator.userAgent.toLowerCase().indexOf('webkit')>-1,is_opera=navigator.userAgent.toLowerCase().indexOf('opera')>-1,is_ie=navigator.userAgent.toLowerCase().indexOf('msie')>-1;if((is_webkit||is_opera||is_ie)&&document.getElementById&&window.addEventListener){window.addEventListener('hashchange',function(){var element=document.getElementById(location.hash.substring(1));if(element){if(!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)){element.tabIndex=-1;}
element.focus();}},false);}})();
!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d)if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
/*! wavesurfer.js 1.2.8 (Fri, 09 Dec 2016 13:08:12 GMT)
* https://github.com/katspaugh/wavesurfer.js
* @license CC-BY-3.0 */
!function(a,b){"function"==typeof define&&define.amd?define("wavesurfer",[],function(){return a.WaveSurfer=b()}):"object"==typeof exports?module.exports=b():a.WaveSurfer=b()}(this,function(){"use strict";var a={defaultParams:{height:128,waveColor:"#999",progressColor:"#555",cursorColor:"#333",cursorWidth:1,skipLength:2,minPxPerSec:20,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,fillParent:!0,scrollParent:!1,hideScrollbar:!1,normalize:!1,audioContext:null,container:null,dragSelection:!0,loopSelection:!0,audioRate:1,interact:!0,splitChannels:!1,mediaContainer:null,mediaControls:!1,renderer:"Canvas",backend:"WebAudio",mediaType:"audio",autoCenter:!0},init:function(b){if(this.params=a.util.extend({},this.defaultParams,b),this.container="string"==typeof b.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(null==this.params.mediaContainer?this.mediaContainer=this.container:"string"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.isDestroyed=!1},createDrawer:function(){var b=this;this.drawer=Object.create(a.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){b.drawBuffer(),b.drawer.progress(b.backend.getPlayedPercents())}),this.drawer.on("click",function(a,c){setTimeout(function(){b.seekTo(c)},0)}),this.drawer.on("scroll",function(a){b.fireEvent("scroll",a)})},createBackend:function(){var b=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||a.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(a[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){b.fireEvent("finish")}),this.backend.on("play",function(){b.fireEvent("play")}),this.backend.on("pause",function(){b.fireEvent("pause")}),this.backend.on("audioprocess",function(a){b.drawer.progress(b.backend.getPlayedPercents()),b.fireEvent("audioprocess",a)})},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(a,b){this.fireEvent("interaction",this.play.bind(this,a,b)),this.backend.play(a,b)},pause:function(){this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(a){this.skip(-a||-this.params.skipLength)},skipForward:function(a){this.skip(a||this.params.skipLength)},skip:function(a){var b=this.getCurrentTime()||0,c=this.getDuration()||1;b=Math.max(0,Math.min(c,b+(a||0))),this.seekAndCenter(b/c)},seekAndCenter:function(a){this.seekTo(a),this.drawer.recenter(a)},seekTo:function(a){this.fireEvent("interaction",this.seekTo.bind(this,a));var b=this.backend.isPaused(),c=this.params.scrollParent;b&&(this.params.scrollParent=!1),this.backend.seekTo(a*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),b||(this.backend.pause(),this.backend.play()),this.params.scrollParent=c,this.fireEvent("seek",a)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(a){this.backend.setVolume(a)},setPlaybackRate:function(a){this.backend.setPlaybackRate(a)},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(a){a!==this.isMuted&&(a?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var a=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),b=this.drawer.getWidth(),c=a;this.params.fillParent&&(!this.params.scrollParent||a<b)&&(c=b);var d=this.backend.getPeaks(c);this.drawer.drawPeaks(d,c),this.fireEvent("redraw",d,c)},zoom:function(a){this.params.minPxPerSec=a,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",a)},loadArrayBuffer:function(a){this.decodeArrayBuffer(a,function(a){this.isDestroyed||this.loadDecodedBuffer(a)}.bind(this))},loadDecodedBuffer:function(a){this.backend.load(a),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(a){var b=this,c=new FileReader;c.addEventListener("progress",function(a){b.onProgress(a)}),c.addEventListener("load",function(a){b.loadArrayBuffer(a.target.result)}),c.addEventListener("error",function(){b.fireEvent("error","Error reading file")}),c.readAsArrayBuffer(a),this.empty()},load:function(a,b,c){switch(this.empty(),this.params.backend){case"WebAudio":return this.loadBuffer(a,b);case"MediaElement":return this.loadMediaElement(a,b,c)}},loadBuffer:function(a,b){var c=function(b){return b&&this.tmpEvents.push(this.once("ready",b)),this.getArrayBuffer(a,this.loadArrayBuffer.bind(this))}.bind(this);return b?(this.backend.setPeaks(b),this.drawBuffer(),this.tmpEvents.push(this.once("interaction",c)),void 0):c()},loadMediaElement:function(a,b,c){var d=a;if("string"==typeof a)this.backend.load(d,this.mediaContainer,b,c);else{var e=a;this.backend.loadElt(e,b),d=e.src}this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(a){this.fireEvent("error",a)}.bind(this))),b?this.backend.setPeaks(b):this.backend.supportsWebAudio()&&this.getArrayBuffer(d,function(a){this.decodeArrayBuffer(a,function(a){this.backend.buffer=a,this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(a,b){this.arraybuffer=a,this.backend.decodeArrayBuffer(a,function(c){this.isDestroyed||this.arraybuffer!=a||(b(c),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(b,c){var d=this,e=a.util.ajax({url:b,responseType:"arraybuffer"});return this.currentAjax=e,this.tmpEvents.push(e.on("progress",function(a){d.onProgress(a)}),e.on("success",function(a,b){c(a),d.currentAjax=null}),e.on("error",function(a){d.fireEvent("error","XHR error: "+a.target.statusText),d.currentAjax=null})),e},onProgress:function(a){if(a.lengthComputable)var b=a.loaded/a.total;else b=a.loaded/(a.loaded+1e6);this.fireEvent("loading",Math.round(100*b),a.target)},exportPCM:function(a,b,c){a=a||1024,b=b||1e4,c=c||!1;var d=this.backend.getPeaks(a,b),e=[].map.call(d,function(a){return Math.round(a*b)/b}),f=JSON.stringify(e);return c||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(f)),f},exportImage:function(a,b){return a||(a="image/png"),b||(b=1),this.drawer.getImage(a,b)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(a){a.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0}};return a.create=function(b){var c=Object.create(a);return c.init(b),c},a.util={extend:function(a){var b=Array.prototype.slice.call(arguments,1);return b.forEach(function(b){Object.keys(b).forEach(function(c){a[c]=b[c]})}),a},min:function(a){var b=+(1/0);for(var c in a)a[c]<b&&(b=a[c]);return b},max:function(a){var b=-(1/0);for(var c in a)a[c]>b&&(b=a[c]);return b},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(b){var c=Object.create(a.Observer),d=new XMLHttpRequest,e=!1;return d.open(b.method||"GET",b.url,!0),d.responseType=b.responseType||"json",d.addEventListener("progress",function(a){c.fireEvent("progress",a),a.lengthComputable&&a.loaded==a.total&&(e=!0)}),d.addEventListener("load",function(a){e||c.fireEvent("progress",a),c.fireEvent("load",a),200==d.status||206==d.status?c.fireEvent("success",d.response,a):c.fireEvent("error",a)}),d.addEventListener("error",function(a){c.fireEvent("error",a)}),d.send(),c.xhr=d,c}},a.Observer={on:function(a,b){this.handlers||(this.handlers={});var c=this.handlers[a];return c||(c=this.handlers[a]=[]),c.push(b),{name:a,callback:b,un:this.un.bind(this,a,b)}},un:function(a,b){if(this.handlers){var c=this.handlers[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]==b&&c.splice(d,1);else c.length=0}},unAll:function(){this.handlers=null},once:function(a,b){var c=this,d=function(){b.apply(this,arguments),setTimeout(function(){c.un(a,d)},0)};return this.on(a,d)},fireEvent:function(a){if(this.handlers){var b=this.handlers[a],c=Array.prototype.slice.call(arguments,1);b&&b.forEach(function(a){a.apply(null,c)})}}},a.util.extend(a,a.Observer),a.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return this.ac||(this.ac=new(window.AudioContext||window.webkitAudioContext)),this.ac},getOfflineAudioContext:function(b){return a.WebAudio.offlineAudioContext||(a.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,b)),a.WebAudio.offlineAudioContext},init:function(b){this.params=b,this.ac=b.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(a.WebAudio.state.playing),Object.create(a.WebAudio.state.paused),Object.create(a.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(a){a&&a.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(a){this.state!==this.states[a]&&(this.state=this.states[a],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(a){this.disconnectFilters(),a&&a.length&&(this.filters=a,this.analyser.disconnect(),a.reduce(function(a,b){return a.connect(b),b},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var a=this;this.scriptNode.onaudioprocess=function(){var b=a.getCurrentTime();b>=a.getDuration()?(a.setState(a.FINISHED_STATE),a.fireEvent("pause")):b>=a.scheduledPause?a.pause():a.state===a.states[a.PLAYING_STATE]&&a.fireEvent("audioprocess",b)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(a){this.gainNode.gain.value=a},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(a,b,c){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(a,function(a){b(a)}.bind(this),c)},setPeaks:function(a){this.peaks=a},getPeaks:function(a){if(this.peaks)return this.peaks;for(var b=this.buffer.length/a,c=~~(b/10)||1,d=this.buffer.numberOfChannels,e=[],f=[],g=0;g<d;g++)for(var h=e[g]=[],i=this.buffer.getChannelData(g),j=0;j<a;j++){for(var k=~~(j*b),l=~~(k+b),m=0,n=0,o=k;o<l;o+=c){var p=i[o];p>n&&(n=p),p<m&&(m=p)}h[2*j]=n,h[2*j+1]=m,(0==g||n>f[2*j])&&(f[2*j]=n),(0==g||m<f[2*j+1])&&(f[2*j+1]=m)}return this.params.splitChannels?e:f},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.audioContext||this.ac.close()},load:function(a){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=a,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(a,b){if(this.buffer)return this.scheduledPause=null,null==a&&(a=this.getCurrentTime(),a>=this.getDuration()&&(a=0)),null==b&&(b=this.getDuration()),this.startPosition=a,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:a,end:b}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(a,b){if(this.buffer){this.createSource();var c=this.seekTo(a,b);a=c.start,b=c.end,this.scheduledPause=b,this.source.start(0,a,b-a),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play")}},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},setPlaybackRate:function(a){a=a||1,this.isPaused()?this.playbackRate=a:(this.pause(),this.playbackRate=a,this.play())}},a.WebAudio.state={},a.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var a=this.getDuration();return this.getCurrentTime()/a||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},a.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var a=this.getDuration();return this.getCurrentTime()/a||0},getCurrentTime:function(){return this.startPosition}},a.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},a.util.extend(a.WebAudio,a.Observer),a.MediaElement=Object.create(a.WebAudio),a.util.extend(a.MediaElement,{init:function(a){this.params=a,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=a.mediaType.toLowerCase(),this.elementPosition=a.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var a=this,b=function(){if(!a.isPaused()){a.fireEvent("audioprocess",a.getCurrentTime());var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame;c(b)}};this.on("play",b)},load:function(a,b,c,d){var e=document.createElement(this.mediaType);e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,e.preload=null==d?"auto":d,e.src=a,e.style.width="100%";var f=b.querySelector(this.mediaType);f&&b.removeChild(f),b.appendChild(e),this._load(e,c)},loadElt:function(a,b){var c=a;c.controls=this.params.mediaControls,c.autoplay=this.params.autoplay||!1,this._load(c,b)},_load:function(a,b){var c=this;"function"==typeof a.load&&a.load(),a.addEventListener("error",function(){c.fireEvent("error","Error loading media element")}),a.addEventListener("canplay",function(){c.fireEvent("canplay")}),a.addEventListener("ended",function(){c.fireEvent("finish")}),this.media=a,this.peaks=b,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var a=this.media.duration;return a>=1/0&&(a=this.media.seekable.end(0)),a},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(a){this.playbackRate=a||1,this.media.playbackRate=this.playbackRate},seekTo:function(a){null!=a&&(this.media.currentTime=a),this.clearPlayEnd()},play:function(a,b){this.seekTo(a),this.media.play(),b&&this.setPlayEnd(b),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(a){var b=this;this.onPlayEnd=function(c){c>=a&&(b.pause(),b.seekTo(a))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(b){return this.buffer?a.WebAudio.getPeaks.call(this,b):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(a){this.media.volume=a},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),a.AudioElement=a.MediaElement,a.Drawer={init:function(a,b){this.container=a,this.params=b,this.width=0,this.height=b.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(b),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(a,b){!b&&a.preventDefault();var c,d=a.targetTouches?a.targetTouches[0].clientX:a.clientX,e=this.wrapper.getBoundingClientRect(),f=this.width,g=this.getWidth();return!this.params.fillParent&&f<g?(c=(d-e.left)*this.params.pixelRatio/f||0,c>1&&(c=1)):c=(d-e.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,c},setupWrapperEvents:function(){var a=this;this.wrapper.addEventListener("click",function(b){var c=a.wrapper.offsetHeight-a.wrapper.clientHeight;if(0!=c){var d=a.wrapper.getBoundingClientRect();if(b.clientY>=d.bottom-c)return}a.params.interact&&a.fireEvent("click",b,a.handleEvent(b))}),this.wrapper.addEventListener("scroll",function(b){a.fireEvent("scroll",b)})},drawPeaks:function(a,b){this.resetScroll(),this.setWidth(b),this.params.barWidth?this.drawBars(a):this.drawWave(a)},style:function(a,b){return Object.keys(b).forEach(function(c){a.style[c]!==b[c]&&(a.style[c]=b[c])}),a},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(a){var b=this.wrapper.scrollWidth*a;this.recenterOnPosition(b,!0)},recenterOnPosition:function(a,b){var c=this.wrapper.scrollLeft,d=~~(this.wrapper.clientWidth/2),e=a-d,f=e-c,g=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=g){if(!b&&-d<=f&&f<d){var h=5;f=Math.max(-h,Math.min(h,f)),e=c+f}e=Math.max(0,Math.min(g,e)),e!=c&&(this.wrapper.scrollLeft=e)}},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(a){this.width=a,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize()},setHeight:function(a){a!=this.height&&(this.height=a,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(a){var b=1/this.params.pixelRatio,c=Math.round(a*this.width)*b;if(c<this.lastPos||c-this.lastPos>=b){if(this.lastPos=c,this.params.scrollParent&&this.params.autoCenter){var d=~~(this.wrapper.scrollWidth*a);this.recenterOnPosition(d)}this.updateProgress(a)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(a,b){},clearWave:function(){},updateProgress:function(a){}},a.util.extend(a.Drawer,a.Observer),a.Drawer.Canvas=Object.create(a.Drawer),a.util.extend(a.Drawer.Canvas,{createElements:function(){var a=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=a.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var b=this.progressWave.appendChild(document.createElement("canvas"));this.progressCc=b.getContext("2d")}},updateSize:function(){var a=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:a+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:a+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(b,c){if(b[0]instanceof Array){var d=b;if(this.params.splitChannels)return this.setHeight(d.length*this.params.height*this.params.pixelRatio),void d.forEach(this.drawBars,this);b=d[0]}var e=[].some.call(b,function(a){return a<0});e&&(b=[].filter.call(b,function(a,b){return b%2==0}));var f=.5/this.params.pixelRatio,g=this.width,h=this.params.height*this.params.pixelRatio,i=h*c||0,j=h/2,k=b.length,l=this.params.barWidth*this.params.pixelRatio,m=Math.max(this.params.pixelRatio,~~(l/2)),n=l+m,o=1;this.params.normalize&&(o=a.util.max(b));var p=k/g;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(a){if(a)for(var c=0;c<g;c+=n){var d=Math.round(b[Math.floor(c*p)]/o*j);a.fillRect(c+f,j-d+i,l+f,2*d)}},this)},drawWave:function(b,c){if(b[0]instanceof Array){var d=b;if(this.params.splitChannels)return this.setHeight(d.length*this.params.height*this.params.pixelRatio),void d.forEach(this.drawWave,this);b=d[0]}var e=[].some.call(b,function(a){return a<0});if(!e){for(var f=[],g=0,h=b.length;g<h;g++)f[2*g]=b[g],f[2*g+1]=-b[g];b=f}var i=.5/this.params.pixelRatio,j=this.params.height*this.params.pixelRatio,k=j*c||0,l=j/2,m=~~(b.length/2),n=1;this.params.fillParent&&this.width!=m&&(n=this.width/m);var o=1;if(this.params.normalize){var p=a.util.max(b),q=a.util.min(b);o=-q>p?-q:p}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(a){if(a){a.beginPath(),a.moveTo(i,l+k);for(var c=0;c<m;c++){var d=Math.round(b[2*c]/o*l);a.lineTo(c*n+i,l-d+k)}for(var c=m-1;c>=0;c--){var d=Math.round(b[2*c+1]/o*l);a.lineTo(c*n+i,l-d+k)}a.closePath(),a.fill(),a.fillRect(0,l+k-i,this.width,i)}},this)},updateProgress:function(a){var b=Math.round(this.width*a)/this.params.pixelRatio;this.style(this.progressWave,{width:b+"px"})},getImage:function(a,b){return this.waveCc.canvas.toDataURL(a,b)}}),a.Drawer.MultiCanvas=Object.create(a.Drawer),a.util.extend(a.Drawer.MultiCanvas,{initDrawer:function(a){if(this.maxCanvasWidth=null!=a.maxCanvasWidth?a.maxCanvasWidth:4e3,this.maxCanvasElementWidth=Math.round(this.maxCanvasWidth/this.params.pixelRatio),this.maxCanvasWidth<=1)throw"maxCanvasWidth must be greater than 1.";if(this.maxCanvasWidth%2==1)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var a=Math.round(this.width/this.params.pixelRatio),b=Math.ceil(a/this.maxCanvasElementWidth);this.canvases.length<b;)this.addCanvas();for(;this.canvases.length>b;)this.removeCanvas();for(var c in this.canvases){var d=this.maxCanvasWidth+2*Math.ceil(this.params.pixelRatio/2);c==this.canvases.length-1&&(d=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[c],d,this.height),this.clearWaveForEntry(this.canvases[c])}},addCanvas:function(){var a={},b=this.maxCanvasElementWidth*this.canvases.length;a.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:b+"px",top:0,bottom:0})),a.waveCtx=a.wave.getContext("2d"),this.hasProgressCanvas&&(a.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:b+"px",top:0,bottom:0})),a.progressCtx=a.progress.getContext("2d")),this.canvases.push(a)},removeCanvas:function(){var a=this.canvases.pop();a.wave.parentElement.removeChild(a.wave),this.hasProgressCanvas&&a.progress.parentElement.removeChild(a.progress)},updateDimensions:function(a,b,c){var d=Math.round(b/this.params.pixelRatio),e=Math.round(this.width/this.params.pixelRatio);a.start=a.waveCtx.canvas.offsetLeft/e||0,a.end=a.start+d/e,a.waveCtx.canvas.width=b,a.waveCtx.canvas.height=c,this.style(a.waveCtx.canvas,{width:d+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(a.progressCtx.canvas.width=b,a.progressCtx.canvas.height=c,this.style(a.progressCtx.canvas,{width:d+"px"}))},clearWave:function(){for(var a in this.canvases)this.clearWaveForEntry(this.canvases[a])},clearWaveForEntry:function(a){a.waveCtx.clearRect(0,0,a.waveCtx.canvas.width,a.waveCtx.canvas.height),this.hasProgressCanvas&&a.progressCtx.clearRect(0,0,a.progressCtx.canvas.width,a.progressCtx.canvas.height)},drawBars:function(b,c){if(b[0]instanceof Array){var d=b;if(this.params.splitChannels)return this.setHeight(d.length*this.params.height*this.params.pixelRatio),void d.forEach(this.drawBars,this);b=d[0]}var e=[].some.call(b,function(a){return a<0});e&&(b=[].filter.call(b,function(a,b){return b%2==0}));var f=this.width,g=this.params.height*this.params.pixelRatio,h=g*c||0,i=g/2,j=b.length,k=this.params.barWidth*this.params.pixelRatio,l=Math.max(this.params.pixelRatio,~~(k/2)),m=k+l,n=1;this.params.normalize&&(n=a.util.max(b));for(var o=j/f,p=0;p<f;p+=m){var q=Math.round(b[Math.floor(p*o)]/n*i);this.fillRect(p+this.halfPixel,i-q+h,k+this.halfPixel,2*q)}},drawWave:function(b,c){if(b[0]instanceof Array){var d=b;if(this.params.splitChannels)return this.setHeight(d.length*this.params.height*this.params.pixelRatio),void d.forEach(this.drawWave,this);b=d[0]}var e=[].some.call(b,function(a){return a<0});if(!e){for(var f=[],g=0,h=b.length;g<h;g++)f[2*g]=b[g],f[2*g+1]=-b[g];b=f}var i=this.params.height*this.params.pixelRatio,j=i*c||0,k=i/2,l=1;if(this.params.normalize){var m=a.util.max(b),n=a.util.min(b);l=-n>m?-n:m}this.drawLine(b,l,k,j),this.fillRect(0,k+j-this.halfPixel,this.width,this.halfPixel)},drawLine:function(a,b,c,d){for(var e in this.canvases){var f=this.canvases[e];this.setFillStyles(f),this.drawLineToContext(f,f.waveCtx,a,b,c,d),this.drawLineToContext(f,f.progressCtx,a,b,c,d)}},drawLineToContext:function(a,b,c,d,e,f){if(b){var g=c.length/2,h=1;this.params.fillParent&&this.width!=g&&(h=this.width/g);var i=Math.round(g*a.start),j=Math.round(g*a.end);b.beginPath(),b.moveTo(this.halfPixel,e+f);for(var k=i;k<j;k++){var l=Math.round(c[2*k]/d*e);b.lineTo((k-i)*h+this.halfPixel,e-l+f)}for(var k=j-1;k>=i;k--){var l=Math.round(c[2*k+1]/d*e);b.lineTo((k-i)*h+this.halfPixel,e-l+f)}b.closePath(),b.fill()}},fillRect:function(a,b,c,d){for(var e in this.canvases){var f=this.canvases[e],g=e*this.maxCanvasWidth,h={x1:Math.max(a,e*this.maxCanvasWidth),y1:b,x2:Math.min(a+c,e*this.maxCanvasWidth+f.waveCtx.canvas.width),y2:b+d};h.x1<h.x2&&(this.setFillStyles(f),this.fillRectToContext(f.waveCtx,h.x1-g,h.y1,h.x2-h.x1,h.y2-h.y1),this.fillRectToContext(f.progressCtx,h.x1-g,h.y1,h.x2-h.x1,h.y2-h.y1))}},fillRectToContext:function(a,b,c,d,e){a&&a.fillRect(b,c,d,e)},setFillStyles:function(a){a.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(a.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(a){var b=Math.round(this.width*a)/this.params.pixelRatio;this.style(this.progressWave,{width:b+"px"})}}),function(){var b=function(){var b=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(b,function(b){var c=a.util.extend({container:b,backend:"MediaElement",mediaControls:!0},b.dataset);b.style.display="block";var d=a.create(c);if(b.dataset.peaks)var e=JSON.parse(b.dataset.peaks);d.load(b.dataset.url,e)})};"complete"===document.readyState?b():window.addEventListener("load",b)}(),a});
;
(function($,window,document,undefined){"use strict";var pluginName="gmWaveSurfer";function Plugin(element,options,content){this.el=element;this.$el=$(element);this.id=this.$el.attr('id');this.$list=$('.ws-soundList',this.$el);this.content=content;this.opts=options;this.storage={likes:[]};this.timeInterval=0;this.currentTrack;this.trackRepeat=false;this.globalVolume=1;this.pixelRatio=window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI;this.init();}
$.extend(Plugin.prototype,{_defaults:{link_button_text:'More',color1:'ff8800',color2:'a1a1a1',color3:'000000',color4:'ffffff',nonce:'',ajaxurl:((GmediaGallery&&GmediaGallery.ajaxurl)?GmediaGallery.ajaxurl:''),key:''},_defaults_int:{},_defaults_bool:{compact_list:false,play_next_in_list:true,show_tags:true,show_categories:true,show_albums:true,show_cover:true,show_big_cover:false,show_like_button:true,show_share_button:true,show_download_button:false,show_link_button:true,show_views:true,show_comments:true},init:function(){this.opts=this.sanitizeOptions(this.opts);this.opts=$.extend(true,{},this._defaults,this._defaults_int,this._defaults_bool,this.opts);this.prepareDom();var self=this,gid=this.id;if(typeof window.GmediaGallery.wavesurfer!=='object'){window.GmediaGallery.wavesurfer={};}
var soundList__item=$('.ws-soundList__item',self.$list);soundList__item.eq(0).addClass('ws-active-item');soundList__item.each(function(){var id=parseInt($(this).attr('data-id'));if(self.arrVal(self.storage.likes,id)){$(this).addClass('ws-liked');}});if(self.opts.compact_list){if(soundList__item.length>1){var soundListCopy=soundList__item.clone().append('<div class="ws-item-progress"></div>');$('.ws-sound__author, .ws-visualSound__background, .ws-soundTitle__additionalContainer, .ws-sound__waveform, .ws-sound__soundActions',soundListCopy).remove();$('.ws-have-background',soundListCopy).removeClass('ws-have-background');$('.ws-soundCompactList',self.$el).html(soundListCopy);$('.ws-soundCompactList .ws-soundList__item',self.$el).on('click',function(e){var target=$(e.target);if(!target.is('a')&&!target.is('.ws-button-play')){$('.ws-button-play',this).trigger('click');}});}}
soundList__item.each(function(){var el=$('.ws-waveform__layer',this),data=el.data();if(data.peaks){self.waveplayer(el);el.parent().addClass('ws-waveform__peaks');}});$('.ws-button-play',self.$el).on('click',function(){var id=$(this).closest('.ws-soundList__item').attr('data-id'),el=$('.ws-soundList__item[data-id="'+id+'"]',self.$list).find('.ws-waveform__layer'),data=el.data();if(typeof window.GmediaGallery.wavesurfer=='undefined'||typeof window.GmediaGallery.wavesurfer[gid+'_'+data.key]=='undefined'){self.waveplayer(el);}
if($(this).hasClass('ws-button-pause')||$(this).hasClass('ws-button-buffering')){window.GmediaGallery.wavesurfer[gid+'_'+data.key].pause();return false;}
window.GmediaGallery.wavesurfer[gid+'_'+data.key].play();});$('.ws-waveform__layer',self.$list).on('click',function(e){var el=$(this).closest('.ws-sound__content').find('.ws-waveform__layer'),data=el.data();if(typeof window.GmediaGallery.wavesurfer=='undefined'||typeof window.GmediaGallery.wavesurfer[gid+'_'+data.key]=='undefined'){self.waveplayer(el);}
if(!window.GmediaGallery.wavesurfer[gid+'_'+data.key].isPlaying()){window.GmediaGallery.wavesurfer[gid+'_'+data.key].play();$(this).trigger('clickToPlay');}});var resize;$(window).on('resize.ws',function(){clearTimeout(resize);resize=setTimeout(function(){$('.ws-waveform__layer',self.$list).each(function(){var data=$(this).data();data.peaks=$.parseJSON($(this).attr('data-peaks'));if(data.peaks&&window.GmediaGallery.wavesurfer[gid+'_'+data.key]){window.GmediaGallery.wavesurfer[gid+'_'+data.key].backend.setPeaks(data.peaks);window.GmediaGallery.wavesurfer[gid+'_'+data.key].drawBuffer();}});},200);if(self.opts.show_cover){var el_w=self.$list.width();if(el_w<=480){$('.ws-soundList, .ws-soundCompactList',self.$el).addClass('ws-hide-cover');}else{$('.ws-soundList, .ws-soundCompactList',self.$el).removeClass('ws-hide-cover');}}});$(window).trigger('resize.ws');$('.ws-button-like',self.$el).on('click',function(){var item=$(this).closest('.ws-soundList__item');if(!item.hasClass('ws-liked')){var id=item.attr('data-id');item.addClass('ws-liked');self.trackLike(id);}});$('.ws-button-share',self.$list).on('click',function(){var t=$(this);if(!t.hasClass('ws-button-active')){var item=t.closest('.ws-soundList__item');var sharers=self.share(item);t.after(sharers);}
t.siblings().stop().animate({width:["toggle","swing"],padding:["toggle","swing"],margin:["toggle","swing"],opacity:"toggle"},200).promise().done(function(){if(t.hasClass('ws-button-active')){t.removeClass('ws-button-active');t.parent().find('.ws-sharelizers').remove();}else{t.addClass('ws-button-active');}});});},sanitizeOptions:function(options){var self=this;return $.each(options,function(key,val){if(key in self._defaults_bool){options[key]=(!(!val||val=='0'||val=='false'));}else if(key in self._defaults_int){options[key]=parseInt(val);}});},prepareDom:function(){if(window.sessionStorage){var sesion_storage=sessionStorage.getItem('GmediaGallery');if(sesion_storage){$.extend(true,this.storage,JSON.parse(sesion_storage));}
var globalVolume=sessionStorage.getItem('GmediaMusic_volume');if(globalVolume){this.globalVolume=globalVolume;}}},waveplayer:function(el){var self=this,gid=this.id,data=$(el).data(),id=data.key.replace('ws',''),item=$('[data-id="'+id+'"]',self.$el),timer_el=$(el).closest('.ws-waveform').find('.ws-wave_time'),time_=0,ch=0;window.GmediaGallery.wavesurfer[gid+'_'+data.key]=Object.create(WaveSurfer);window.GmediaGallery.wavesurfer[gid+'_'+data.key].init({container:'#'+gid+' .ws-waveform__layer[data-key="'+data.key+'"]',waveColor:'#'+self.opts.color2,progressColor:'#'+self.opts.color1,height:78,barWidth:2,backend:'MediaElement',cursorWidth:0,normalize:true,interact:false,gmProgressWave:true});window.GmediaGallery.wavesurfer[gid+'_'+data.key].backend.setPeaks(data.peaks);window.GmediaGallery.wavesurfer[gid+'_'+data.key].drawBuffer();var hoverX;$(window.GmediaGallery.wavesurfer[gid+'_'+data.key].container).on('mousemove clickToPlay',function(e){if(e.type==='mousemove'){hoverX=e.offsetX*self.pixelRatio;}
if(window.GmediaGallery.wavesurfer[gid+'_'+data.key].isPlaying()||e.type==='clickToPlay'){var drawer=window.GmediaGallery.wavesurfer[gid+'_'+data.key].drawer;if(hoverX){var progress=hoverX/drawer.gmWidth;drawer.iMaxHover=Math.ceil(drawer.gmPeaksLength*progress);}
window.GmediaGallery.wavesurfer[gid+'_'+data.key].drawer.updateProgress(drawer.gmProgress);}}).on('mouseleave',function(){window.GmediaGallery.wavesurfer[gid+'_'+data.key].drawer.iMaxHover=false;}).on('click',function(){if(window.GmediaGallery.wavesurfer[gid+'_'+data.key].isPlaying()){window.GmediaGallery.wavesurfer[gid+'_'+data.key].backend.media.currentTime=0;}});window.GmediaGallery.wavesurfer[gid+'_'+data.key].on('ready',function(){window.GmediaGallery.wavesurfer[gid+'_'+data.key].setVolume(self.globalVolume);$(el).parent().removeClass('ws-loading').addClass('ws-loaded');var post_data={action:'gmedia_module_interaction',hit:id};$.post(ajaxurl,post_data,function(data,textStatus,jqXHR){if(data.views){$('.ws-ministats-plays span',item).text(data.views);}});if(!data.peaks){var savePeaks=setInterval(function(){var peaks=window.GmediaGallery.wavesurfer[gid+'_'+data.key].exportPCM(1800,10000,true);if(peaks&&peaks!=='[]'){var post_data={action:'gmedia_save_waveform',id:id,peaks:peaks,_wpnonce:self.opts.nonce};$.post(ajaxurl,post_data,function(data,textStatus,jqXHR){el.attr('data-peaks',peaks);});clearInterval(savePeaks);}},1000);}});window.GmediaGallery.wavesurfer[gid+'_'+data.key].on('play',function(){$.each(window.GmediaGallery.wavesurfer,function(key){if(key!==(gid+'_'+data.key)&&(window.GmediaGallery.wavesurfer[key].isPlaying()||$(window.GmediaGallery.wavesurfer[key].container).closest('.ws-sound__content').find('.ws-button-play').hasClass('ws-button-buffering'))){window.GmediaGallery.wavesurfer[key].pause();}});item.addClass('ws-active-item').siblings().removeClass('ws-active-item');window.GmediaGallery.wavesurfer[gid+'_'+data.key].fireEvent('audioprocess',time_);if(!$(el).parent().hasClass('ws-loaded')&&!$(el).parent().hasClass('ws-loading')){$(el).parent().addClass('ws-loading');window.GmediaGallery.wavesurfer[gid+'_'+data.key].load(data.file,data.peaks);window.GmediaGallery.wavesurfer[gid+'_'+data.key].play();return;}
$('.ws-button-play',item).addClass('ws-button-pause');if(window.GmediaGallery_wavesurfer_currentTrack!=(gid+'_'+data.key)){window.GmediaGallery_wavesurfer_currentTrack=gid+'_'+data.key;self.globalPlayer();}
if(self.playControls&&self.playControls.length){$('.ws-playControl',self.playControls).addClass('ws-playing');}
window.GmediaGallery.wavesurfer[gid+'_'+data.key].params.interact=true;})
window.GmediaGallery.wavesurfer[gid+'_'+data.key].on('pause',function(){$(el).parent().removeClass('ws-loading');$('.ws-button-play',item).removeClass('ws-button-pause ws-button-buffering');clearInterval(self.timeInterval);ch=0;if(self.playControls&&self.playControls.length){$('.ws-playControl',self.playControls).removeClass('ws-playing');}
window.GmediaGallery.wavesurfer[gid+'_'+data.key].params.interact=false;});window.GmediaGallery.wavesurfer[gid+'_'+data.key].on('loading',function(p){if(p==100){$(el).closest('.ws-sound__content').find('.ws-button-play').removeClass('ws-button-buffering');}else{$(el).closest('.ws-sound__content').find('.ws-button-play').addClass('ws-button-buffering');}
ch=2;});window.GmediaGallery.wavesurfer[gid+'_'+data.key].on('finish',function(){window.GmediaGallery.wavesurfer[gid+'_'+data.key].pause();clearInterval(self.timeInterval);var playtime=self.timeFormat();timer_el.text(playtime);if(self.playControls&&self.playControls.length){$('.ws-playControl',self.playControls).removeClass('ws-playing');$('.ws-playbackTimeline__timePassed',self.playControls).text(playtime);}
if(self.trackRepeat){setTimeout(function(){window.GmediaGallery.wavesurfer[gid+'_'+data.key].play();},100);}else{if(self.opts.play_next_in_list){$(el).closest('.ws-soundList__item').next().find('.ws-button-play').click();}}});var processstack=0,progressItem=$('.ws-soundCompactList .ws-soundList__item[data-id="'+id+'"]',self.$el).find('.ws-item-progress'),progress;window.GmediaGallery.wavesurfer[gid+'_'+data.key].on('audioprocess',function(time){if(time_==time){processstack++;}else{processstack=0;}
if(ch&&processstack<5){if(ch===1){$(el).closest('.ws-sound__content').find('.ws-button-play').removeClass('ws-button-buffering');ch=2;var playtime,is_playControls=self.playControls&&self.playControls.length;if(is_playControls){$('.ws-playControl',self.playControls).addClass('ws-playing');}
clearInterval(self.timeInterval);self.timeInterval=setInterval(function(){playtime=self.timeFormat(time_);timer_el.text(playtime);if(is_playControls){$('.ws-playbackTimeline__timePassed',self.playControls).text(playtime);}
progress=window.GmediaGallery.wavesurfer[gid+'_'+data.key].backend.getPlayedPercents()*100;progressItem.width(progress+'%');},200);}}else{if(ch===2||ch===0){if(!time_&&ch===0){var playtime=self.timeFormat(time_);timer_el.text(playtime);progress=window.GmediaGallery.wavesurfer[gid+'_'+data.key].backend.getPlayedPercents()*100;progressItem.width(progress+'%');}
$(el).closest('.ws-sound__content').find('.ws-button-play').addClass('ws-button-buffering');ch=1;}}
if(time){time_=time;}});window.GmediaGallery.wavesurfer[gid+'_'+data.key].on('seek',function(time){time_=window.GmediaGallery.wavesurfer[gid+'_'+data.key].getCurrentTime();var playtime=self.timeFormat(time_);timer_el.text(playtime);if(self.playControls&&self.playControls.length){$('.ws-playbackTimeline__timePassed',self.playControls).text(playtime);}});},globalPlayer:function(){var self=this,gid=this.id,playControls=$('body').find('.ws-playControls'),is_playControls=playControls.length;if(!is_playControls){var html='\
<div class="wavesurfer_module ws-playControls">\
    <div class="ws-playControls__inner">\
        <div class="ws-playControls__wrapper">\
            <ul class="ws-playControls__controls ws-list-nostyle ws-g-dark ws-clearfix">\
                <li class="ws-playControls__playPauseSkip">\
                    <button class="ws-skipControl ws-playControls__icon ws-ir ws-skipControl__previous"></button>\
                    <button class="ws-playControl ws-playControls__icon ws-ir"></button>\
                    <button class="ws-skipControl ws-playControls__icon ws-ir ws-skipControl__next"></button>\
                </li>\
                <li class="ws-playControls__repeat"><button class="ws-repeatControl ws-ir"></button></li>\
                <li class="ws-playControls__volume">\
                    <div class="ws-volume" data-level="10">\
                        <div class="ws-volume__iconWrapper"><button class="ws-volume__button ws-volume__speakerIcon ws-ir"></button></div>\
                        <div class="ws-volume__sliderWrapper" role="slider"><div class="ws-volume__sliderBackground"><div class="ws-volume__sliderProgress" style="height: 100%;"></div></div></div>\
                    </div>\
                </li>\
            </ul>\
            <div class="ws-playControls__soundBadge">\
                <div class="ws-playbackSoundBadge">\
                    <div class="ws-playbackSoundBadge__avatar ws-media-image"></div>\
                    <div class="ws-playbackSoundBadge__titleContextContainer">\
                        <a href="#" target="_blank" class="ws-playbackSoundBadge__title ws-truncate"><span>&nbsp;</span></a>\
                        <div class="ws-playbackTimeline"><span class="ws-playbackTimeline__timePassed">-:--</span> / <span class="ws-playbackTimeline__duration">-:--</span></div>\
                    </div>\
                </div>\
            </div>\
        </div>\
    </div>\
</div>\
                ';$('body').append(html);playControls=$('body').find('.ws-playControls');is_playControls=playControls.length;setTimeout(function(){playControls.addClass('ws-m-visible');self.updateVolume(false,self.globalVolume,true);},0);$('.ws-playControl',playControls).on('click',function(){var key=window.GmediaGallery_wavesurfer_currentTrack;window.GmediaGallery.wavesurfer[key].playPause();});$('.ws-skipControl__previous',playControls).on('click',function(){var key=window.GmediaGallery_wavesurfer_currentTrack,items=$('.ws-soundList .ws-soundList__item'),i=$(window.GmediaGallery.wavesurfer[key].container).closest('.ws-soundList__item').index('.ws-soundList__item');if(i-1>=0){var el=items.eq(i-1).find('.ws-waveform__layer'),data=el.data();window.GmediaGallery.wavesurfer[gid+'_'+data.key].backend.media.currentTime=0;items.eq(i-1).find('.ws-button-play').click();}});$('.ws-skipControl__next',playControls).on('click',function(){var key=window.GmediaGallery_wavesurfer_currentTrack,items=$('.ws-soundList .ws-soundList__item'),i=$(window.GmediaGallery.wavesurfer[key].container).closest('.ws-soundList__item').index('.ws-soundList__item');if(items.eq(i+1).length){var el=items.eq(i+1).find('.ws-waveform__layer'),data=el.data();window.GmediaGallery.wavesurfer[gid+'_'+data.key].backend.media.currentTime=0;items.eq(i+1).find('.ws-button-play').click();}});$('.ws-repeatControl',playControls).on('click',function(){$(this).toggleClass('ws-m-active');self.trackRepeat=self.trackRepeat?false:true;});$('.ws-volume',playControls).hover(function(){$(this).addClass('ws-expanded');},function(){$(this).removeClass('ws-expanded');});$('.ws-playbackSoundBadge__avatar',playControls).on('click',function(){var key=window.GmediaGallery_wavesurfer_currentTrack;var trackContainer=$(window.GmediaGallery.wavesurfer[key].container).closest('.ws-soundList__item');self.$el.parent().stop().animate({scrollTop:trackContainer.offset().top-50},400);$('html, body').stop().animate({scrollTop:trackContainer.offset().top-50},400);});var volumeDrag=false;$('.ws-volume__button',playControls).on('click',function(e){var setVolume;if(self.globalVolume){$(this).data('volume',self.globalVolume);setVolume=0;}else{setVolume=parseFloat($(this).data('volume'));}
self.updateVolume(false,setVolume,true);});$('.ws-volume__sliderWrapper',playControls).on('mousedown',function(e){if($(this).parent().hasClass('ws-expanded')){volumeDrag=true;self.updateVolume(e.pageY);}});$(document).on('mouseup',function(e){if(volumeDrag){volumeDrag=false;self.updateVolume(e.pageY,false,true);}});$(document).on('mousemove',function(e){if(volumeDrag){self.updateVolume(e.pageY);}});}
if(is_playControls){playControls.attr('data-id',self.id);var key=window.GmediaGallery_wavesurfer_currentTrack;var trackContainer=$(window.GmediaGallery.wavesurfer[key].container).closest('.ws-soundList__item');$('.ws-playbackSoundBadge__avatar',playControls).html($('.ws-sound__coverArt',trackContainer).html());var title=$('.ws-soundTitle__title',trackContainer);$('.ws-playbackSoundBadge__title',playControls).html(title.html()).attr('href',title.attr('href')).attr('title',$.trim(title.text()));$('.ws-playbackTimeline__timePassed',playControls).text($('.ws-wave_time',trackContainer).text());$('.ws-playbackTimeline__duration',playControls).text($('.ws-track_time',trackContainer).text());this.playControls=playControls;}
return is_playControls;},updateVolume:function(y,vol,all){var volume=$('.ws-volume__sliderBackground',this.playControls);var percentage;if(vol||vol===0){percentage=vol*100;}else{var position=volume.height()-(y-volume.offset().top);percentage=100*position/volume.height();}
if(percentage>100){percentage=100;}
if(percentage<0){percentage=0;}
$('.ws-volume__sliderProgress',this.playControls).css('height',percentage+'%');var volume=percentage/100;if(volume>0.8){$('.ws-volume',this.playControls).attr('data-level','10');}else if(volume){$('.ws-volume',this.playControls).attr('data-level','4');}else{$('.ws-volume',this.playControls).attr('data-level','0');}
if(all){var gid=this.id;this.globalVolume=volume;$.each(window.GmediaGallery.wavesurfer,function(key){window.GmediaGallery.wavesurfer[key].setVolume(volume);});sessionStorage.setItem('GmediaMusic_volume',volume);}else{var key=window.GmediaGallery_wavesurfer_currentTrack;window.GmediaGallery.wavesurfer[key].setVolume(volume);}},timeFormat:function(input){if(!input){return"0:00";}
var minutes=Math.floor(input/60);var seconds=Math.round(input)%60;return minutes+":"+(seconds<10?'0':'')+seconds;},trackLike:function(id){var like=0,id=parseInt(id),index=$.inArray(id,this.storage.likes);if(index===-1){this.storage.likes.push(id);like=1;sessionStorage.setItem('GmediaGallery',JSON.stringify(this.storage));if(like&&this.opts.ajaxurl){var self=this;$.ajax({type:"post",dataType:"json",url:this.opts.ajaxurl,data:{action:'gmedia_module_interaction',hit:id,like:like}}).done(function(r){if(typeof r.likes!=='undefined'){$('[data-id="'+id+'"] .ws-button-like',self.$el).text(r.likes);}});}}},share:function(item){var title=$.trim($('.ws-soundTitle__title',item).text()),url=$('.ws-soundTitle__title',item).attr('href'),imgsrc=$('.ws-sound__coverArt',item).attr('data-cover'),html;html=''+'<div class="ws-sharelizers">'+'<a href="https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(url)+'" target="_blank" class="ws-share-facebook ws-sharelizer">Facebook</a>'+'<a href="https://twitter.com/share?url='+encodeURIComponent(url)+'&text='+encodeURIComponent(title)+'" target="_blank" class="ws-share-twitter ws-sharelizer">Twitter</a>'+'<a href="https://plus.google.com/share?url='+encodeURIComponent(url)+'" target="_blank" class="ws-share-googleplus ws-sharelizer">Google+</a>'+'<a href="https://www.tumblr.com/widgets/share/tool?canonicalUrl='+encodeURIComponent(url)+'&posttype=audio&tags=&caption='+encodeURIComponent(title)+'" target="_blank" class="ws-share-tumblr ws-sharelizer">Tumblr</a>'+'<a href="http://vkontakte.ru/share.php?url='+encodeURIComponent(url)+'" target="_blank" class="ws-share-vkontakte ws-sharelizer">VK</a>'+'</div>';return html;},arrVal:function(arr,val){return $.inArray(val,arr)!==-1?val:false;},$_GET:function(variable){var url=window.location.href.split('?')[1];if(url){url=url.split('#')[0];var variables=(typeof(url)==='undefined')?[]:url.split('&'),i;for(i=0;i<variables.length;i++){if(variables[i].indexOf(variable)!=-1){return variables[i].split('=')[1];}}}
return false;}});$.fn[pluginName]=function(options,content){options=options||{};content=content||{};return this.each(function(){if(!$.data(this,pluginName)){var pluginInstance=new Plugin(this,options,content);$.data(this,pluginName,pluginInstance);}});};})(jQuery,window,document);WaveSurfer.util.extend(WaveSurfer.Drawer.Canvas,{iMaxProgress:0,iMaxHover:false,createElements:function(){var waveCanvas=this.wrapper.appendChild(this.style(document.createElement('canvas'),{position:'absolute',zIndex:1,left:0,top:0,bottom:0}));this.waveCc=waveCanvas.getContext('2d');this.progressWave=this.wrapper.appendChild(this.style(document.createElement('wave'),{position:'absolute',zIndex:2,left:0,top:0,bottom:0,overflow:'hidden',width:'0',display:'none',boxSizing:'border-box',borderRightStyle:'solid',borderRightWidth:this.params.cursorWidth+'px',borderRightColor:this.params.cursorColor}));if(!this.params.gmProgressWave&&(this.params.waveColor!=this.params.progressColor)){var progressCanvas=this.progressWave.appendChild(document.createElement('canvas'));this.progressCc=progressCanvas.getContext('2d');}},drawBars:function(peaks,channelIndex){if(peaks[0]instanceof Array){var channels=peaks;if(this.params.splitChannels){this.setHeight(channels.length*this.params.height*this.params.pixelRatio);channels.forEach(this.drawBars,this);return;}else{peaks=channels[0];}}
var hasMinVals=[].some.call(peaks,function(val){return val<0;});if(hasMinVals){peaks=[].filter.call(peaks,function(_,index){return index%2==0;});}
var width=this.gmWidth=this.width;var height=this.gmHeight=this.params.height*this.params.pixelRatio;var offsetY=this.gmOffsetY=height*channelIndex||0;var halfH=this.gmHalfH=(height+height/4)/2;var bar=this.gmBar=this.params.barWidth*this.params.pixelRatio;var gap=this.gmGap=Math.max(this.params.pixelRatio,~~(bar/2));var step=this.gmStep=bar+gap;peaks=this.gmPeaks=this.gmGetPeaks(Math.ceil(width/step),peaks);var peaksLength=this.gmPeaksLength=peaks.length;var absmax=this.gmAbsmax=1;if(this.params.normalize){absmax=this.gmAbsmax=Math.max.apply(Math,peaks);}
this.waveCc.fillStyle=this.params.waveColor;if(this.progressCc){this.progressCc.fillStyle=this.params.progressColor;}
this.gmTopColor=this.params.waveColor;this.gmBottomColor=this.hex2rgba(this.gmTopColor,0.5);this.gmTopColorProgress=this.params.progressColor;this.gmBottomColorProgress=this.hex2rgba(this.gmTopColorProgress,0.5);this.gmTopColorHover=this.colorLuminance(this.params.progressColor,-0.2);var self=this;var topColor,bottomColor;[this.waveCc,this.progressCc].forEach(function(cc){if(!cc){return;}
for(var i=0,j=0,iMax=peaksLength;i<iMax;i++,j+=step){if(i<self.iMaxProgress){topColor=self.gmTopColorProgress;bottomColor=self.gmBottomColorProgress;}else{topColor=self.gmTopColor;bottomColor=self.gmBottomColor;}
var h=Math.round(peaks[i]/absmax*halfH);cc.clearRect(j,0,bar,height);cc.fillStyle=topColor;cc.fillRect(j,halfH-h+offsetY,bar,h);cc.fillStyle=bottomColor;cc.fillRect(j,halfH+gap,bar,Math.round(h/2));}},this);},updateProgress:function(progress){var pos=Math.round(this.width*progress)/this.params.pixelRatio;this.style(this.progressWave,{width:pos+'px'});if(this.params.gmProgressWave){var width=this.gmWidth;var height=this.gmHeight;var offsetY=this.gmOffsetY;var halfH=this.gmHalfH;var bar=this.gmBar;var gap=this.gmGap;var step=this.gmStep;var peaks=this.gmPeaks;var absmax=this.gmAbsmax;var peaksLength=this.gmPeaksLength;var iMaxProgress=this.iMaxProgress=Math.ceil(peaksLength*progress);var iMaxHover=this.iMaxHover;this.gmProgress=progress;var cc=this.waveCc
var topColor,bottomColor;for(var i=0,j=0,iMax=peaks.length;i<iMax;i++,j+=step){if(i<iMaxProgress){topColor=this.gmTopColorProgress;bottomColor=this.gmBottomColorProgress;}else{topColor=this.gmTopColor;bottomColor=this.gmBottomColor;}
if(iMaxHover!==false){if(iMaxHover<iMaxProgress){if(i>=iMaxHover&&i<iMaxProgress){topColor=this.gmTopColorHover;}}else if(iMaxHover>=iMaxProgress){if(i<iMaxHover&&i>=iMaxProgress){topColor=this.gmTopColorHover;}}}
var h=Math.round(peaks[i]/absmax*halfH);cc.clearRect(j,0,bar,height);cc.fillStyle=topColor;cc.fillRect(j,halfH-h+offsetY,bar,h);cc.fillStyle=bottomColor;cc.fillRect(j,halfH+gap,bar,Math.round(h/2));}}},gmGetPeaks:function(length,allpeaks){var sampleSize=allpeaks.length/length;var sampleStep=~~(sampleSize/10)||1;var peaks=[];for(var i=0;i<length;i++){var start=~~(i*sampleSize);var end=~~(start+sampleSize);var max=0;for(var j=start;j<end;j+=sampleStep){var value=allpeaks[j];if(value>max){max=value;}}
peaks[i]=max;}
return peaks;},colorLuminance:function(hex,lum){hex=String(hex).replace(/[^0-9a-f]/gi,'');if(hex.length<6){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];}
lum=lum||0;var rgb="#",c,i;for(i=0;i<3;i++){c=parseInt(hex.substr(i*2,2),16);c=Math.round(Math.min(Math.max(0,c+(c*lum)),255)).toString(16);rgb+=("00"+c).substr(c.length);}
return rgb;},hex2rgba:function(hex,opacity){hex=String(hex).replace(/[^0-9a-f]/gi,'');if(hex.length<6){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];}
var result='rgba('+parseInt(hex.substring(0,2),16)+','+parseInt(hex.substring(2,4),16)+','+parseInt(hex.substring(4,6),16)+','+opacity+')';return result;}});